function debugLine(e,t,i){!0===e&&(e="true"),!1===e&&(e="false");var n=e;if("object"==typeof e){n="";for(name in e){var s=e[name];n+=" "+name+": "+s}}if(1!=t||i||(n+=" "+Math.random()),1==i){var r=jQuery("#debug_line");r.width(200),r.height()>=500&&r.html("");n=r.html()+"<br> -------------- <br>"+n}jQuery("#debug_line").show().html(n)}function debugSide(e){var t="";for(name in e){var i=e[name];t+=name+" : "+i+"<br>"}jQuery("#debug_side").show().html(t)}function trace(e){"undefined"!=typeof console&&console.log(e)}function UGFunctions(){function e(e,t,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t[e]=i}var t=null,i=this,n={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,lastTouchStartElement:null,touchThreshold:700,handle:null};this.debugVar="",this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(e,t){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==i.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(t){document.webkitCancelFullScreen?e("webkitfullscreenchange",document,t):document.msExitFullscreen?e("MSFullscreenChange",document,t):document.mozCancelFullScreen?e("mozfullscreenchange",document,t):e("fullscreenchange",document,t)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange"),jQuery(document).unbind("mozfullscreenchange"),jQuery(document).unbind("webkitfullscreenchange"),jQuery(document).unbind("MSFullscreenChange")},this.getFullScreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return e=!!e},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==t)return t;var e=["webkit","Moz","ms","O"],i=document.createElement("div");for(var n in e){var s=e[n];if(s+"Transform"in i.style)return s=s.toLowerCase(),t=s,s}return t="",""},this.getImageInsideParentDataByImage=function(e,t,n){var s=e.parent(),r=i.getImageOriginalSize(e);return i.getImageInsideParentData(s,r.width,r.height,t,n)},this.getImageInsideParentData=function(e,t,i,n,s,r,o){if(!s)var s={};var a={};if(void 0===r)var r=e.width();if(void 0===o)var o=e.height();s.padding_left&&(r-=s.padding_left),s.padding_right&&(r-=s.padding_right),s.padding_top&&(o-=s.padding_top),s.padding_bottom&&(o-=s.padding_bottom);var l=null,d="100%",u=null,h=null,c="display:block;margin:0px auto;";if(t>0&&i>0){if("down"==n&&t<r&&i<o)d=i,l=t,h=(r-l)/2,u=(o-d)/2;else if("fill"==n){var p=t/i;d=o,l=d*p,l<r?(l=r,d=l/p,h=0,u=Math.round((d-o)/2*-1)):(u=0,h=Math.round((l-r)/2*-1))}else{var p=t/i;d=o,l=d*p,u=0,h=(r-l)/2,"fitvert"!=n&&l>r&&(l=r,d=l/p,h=0,u=(o-d)/2)}l=Math.floor(l),d=Math.floor(d),u=Math.floor(u),h=Math.floor(h),c="position:absolute;"}return s.padding_top&&(u+=s.padding_top),s.padding_left&&(h+=s.padding_left),a.imageWidth=l,a.imageHeight=d,a.imageTop=u,a.imageLeft=h,a.imageRight=h+l,a.imageBottom=0==u||"100%"==d?null:u+d,a.style=c,a},this.getElementCenterPosition=function(e,t){var n=e.parent(),s=i.getElementSize(e),r=i.getElementSize(n),o=r.width,a=r.height;t&&void 0!==t.padding_top&&(a-=t.padding_top),t&&void 0!==t.padding_bottom&&(a-=t.padding_bottom),t&&void 0!==t.padding_left&&(o-=t.padding_left),t&&void 0!==t.padding_right&&(o-=t.padding_right);var l={};return l.left=Math.round((o-s.width)/2),l.top=Math.round((a-s.height)/2),t&&void 0!==t.padding_top&&(l.top+=t.padding_top),t&&void 0!==t.padding_left&&(l.left+=t.padding_left),l},this.getElementCenterPoint=function(e,t){if(!t)var t=!1;var n=i.getElementSize(e),s={};return s.x=n.width/2,s.y=n.height/2,1==t&&(s.x+=n.left,s.y+=n.top),s.x=Math.round(s.x),s.y=Math.round(s.y),s},this.getMousePosition=function(e,t){var i={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(i.pageX=e.originalEvent.touches[0].pageX,i.pageY=e.originalEvent.touches[0].pageY,i.clientX=e.originalEvent.touches[0].clientX,i.clientY=e.originalEvent.touches[0].clientY),t){var n=t.offset();i.mouseX=i.pageX-n.left,i.mouseY=i.pageY-n.top}return i},this.getMouseElementPoint=function(e,t){var n={x:e.pageX,y:e.pageY};return i.getElementLocalPoint(n,t)},this.getElementLocalPoint=function(e,t){var i={},n=t.offset();return i.x=Math.round(e.x-n.left),i.y=Math.round(e.y-n.top),i},this.getImageOriginalSize=function(e,t,i){if(void 0!==t&&void 0!==i)return{width:t,height:i};var n=e[0];if(void 0===n)throw new Error("getImageOriginalSize error - Image not found");var s={};if(void 0===n.naturalWidth){if("number"==typeof e.data("naturalWidth")){var s={};return s.width=e.data("naturalWidth"),s.height=e.data("naturalHeight"),s}var r=new Image;return r.src=n.src,r.complete?(s.width=r.width,s.height=r.height,e.data("naturalWidth",s.width),e.data("naturalHeight",s.height),s):{width:0,height:0}}return s.width=n.naturalWidth,s.height=n.naturalHeight,s},this.getimageRatio=function(e){var t=i.getImageOriginalSize(e);return i.getElementSize(e).width/t.width},this.isImageFitParent=function(e){var t=e.parent(),n=i.getElementSize(e),s=i.getElementSize(t);return n.width<=s.width&&n.height<=s.height},this.getElementSize=function(e){if(void 0===e)throw new Error("Can't get size, empty element");var t=e.position();return t.height=e.outerHeight(),t.width=e.outerWidth(),t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=t.left+t.width,t.bottom=t.top+t.height,t},this.isElementBiggerThenParent=function(e){var t=e.parent(),n=i.getElementSize(e),s=i.getElementSize(t);return n.width>s.width||n.height>s.height},this.isPointInsideElement=function(e,t){return 0!=(e.x>=0&&e.x<t.width)&&0!=(e.y>=0&&e.y<t.height)},this.getElementRelativePos=function(e,t,n,s){if(!s)var s=e.parent();if("number"==typeof e)var r={width:e,height:e};else var r=i.getElementSize(e);var o=i.getElementSize(s);switch(t){case"top":case"left":t=0,n&&(t+=n);break;case"center":t=Math.round((o.width-r.width)/2),n&&(t+=n);break;case"right":t=o.width-r.width,n&&(t-=n);break;case"middle":t=Math.round((o.height-r.height)/2),n&&(t+=n);break;case"bottom":t=o.height-r.height,n&&(t-=n)}return t},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(e,t,n,s,r,o,a){if(!n)var n=1.2;if(!r)var r="fit";var l,d,u,h,c=n,p=e.parent(),f=i.getElementSize(e),g=i.getImageOriginalSize(e),m=!1,_=0,v=0,y=0,b=0;if(s){var w=i.getMouseElementPoint(s,e);m=i.isPointInsideElement(w,f),y=w.x,b=w.y}else m=!1;if(0==m){var S=i.getElementCenterPoint(e);y=S.x,b=S.y}if(1==t)l=f.height*c,d=f.width*c,0!=y&&(_=-(y*c-y)),0!=b&&(v=-(b*c-b));else{l=f.height/c,d=f.width/c;if(d<i.getImageInsideParentData(p,g.width,g.height,r,a).imageWidth)return i.scaleImageFitParent(e,g.width,g.height,r,a),!0;1==m&&(0!=y&&(_=-(y/c-y)),0!=b&&(v=-(b/c-b)))}if(o){var x=1;if(0!=g.width&&(x=d/g.width),x>o)return!1}if(i.setElementSize(e,d,l),0==t&&0==m){var E=i.getElementCenterPosition(e);u=E.left,h=E.top}else u=f.left+_,h=f.top+v;return i.placeElement(e,u,h),!0},this.placeElement=function(e,t,n,s,r,o){if(0==jQuery.isNumeric(t)||0==jQuery.isNumeric(n)){if(!o)var o=e.parent();var a=i.getElementSize(e),l=i.getElementSize(o)}if(0==jQuery.isNumeric(t))switch(t){case"left":t=0,s&&(t+=s);break;case"center":t=Math.round((l.width-a.width)/2),s&&(t+=s);break;case"right":t=l.width-a.width,s&&(t-=s)}if(0==jQuery.isNumeric(n))switch(n){case"top":n=0,r&&(n+=r);break;case"middle":case"center":n=Math.round((l.height-a.height)/2),r&&(n+=r);break;case"bottom":n=l.height-a.height,r&&(n-=r)}var d={position:"absolute",margin:"0px"};null!==t&&(d.left=t),null!==n&&(d.top=n),e.css(d)},this.placeElementInParentCenter=function(e){i.placeElement(e,"center","middle")},this.setElementSizeAndPosition=function(e,t,i,n,s){var r={width:n+"px",height:s+"px",left:t+"px",top:i+"px",position:"absolute",margin:"0px"};e.css(r)},this.setElementSize=function(e,t,i){var n={width:t+"px"};null!==i&&void 0!==i&&(n.height=i+"px"),e.css(n)},this.cloneElementSizeAndPos=function(e,t,n,s,r){var o=e.position();if(void 0==o)throw new Error("Can't get size, empty element");!0===n?(o.height=e.outerHeight(),o.width=e.outerWidth()):(o.height=e.height(),o.width=e.width()),o.left=Math.round(o.left),o.top=Math.round(o.top),s&&(o.left+=s),r&&(o.top+=r),i.setElementSizeAndPosition(t,o.left,o.top,o.width,o.height)},this.placeImageInsideParent=function(e,t,n,s,r,o){var a=i.getImageInsideParentData(t,n,s,r,o),l="<img";return null!==a.imageWidth&&(l+=" width = '"+a.imageWidth+"'",a.style+="width:"+a.imageWidth+";"),null!=a.imageHeight&&("100%"==a.imageHeight?(l+=" height = '"+a.imageHeight+"'",a.style+="height:"+a.imageHeight+";"):(l+=" height = '"+a.imageHeight+"'",a.style+="height:"+a.imageHeight+"px;")),null!==a.imageTop&&(a.style+="top:"+a.imageTop+"px;"),null!==a.imageLeft&&(a.style+="left:"+a.imageLeft+"px;"),e=i.escapeDoubleSlash(e),l+=" style='"+a.style+"'",l+=' src="'+e+'"',l+=">",t.html(l),t.children("img")},this.scaleImageCoverParent=function(e,t,n){if("number"==typeof t)var s=t,r=n;else var s=t.outerWidth(),r=t.outerHeight();var o=i.getImageOriginalSize(e),a=o.width,l=o.height,d=a/l,u=r,h=u*d,c=0,p=0;h<s?(h=s,u=h/d,p=0,c=Math.round((u-r)/2*-1)):(c=0,p=Math.round((h-s)/2*-1)),h=Math.round(h),u=Math.round(u),e.css({width:h+"px",height:u+"px",left:p+"px",top:c+"px"})},this.scaleImageFitParent=function(e,t,n,s,r){var o=e.parent(),a=i.getImageInsideParentData(o,t,n,s,r),l=!1,d={};return null!==a.imageWidth&&(l=!0,e.removeAttr("width"),d.width=a.imageWidth+"px"),null!=a.imageHeight&&(l=!0,e.removeAttr("height"),d.height=a.imageHeight+"px"),null!==a.imageTop&&(l=!0,d.top=a.imageTop+"px"),null!==a.imageLeft&&(l=!0,d.left=a.imageLeft+"px"),1==l&&(d.position="absolute",d.margin="0px 0px",e.css(d)),a},this.scaleImageByHeight=function(e,t,n,s){var r=i.getImageOriginalSize(e,n,s),o=r.width/r.height,a=Math.round(t*o);t=Math.round(t),i.setElementSize(e,a,t)},this.scaleImageByWidth=function(e,t,n,s){var r=i.getImageOriginalSize(e,n,s),o=r.width/r.height,a=Math.round(t/o);t=Math.round(t),i.setElementSize(e,t,a)},this.scaleImageExactSizeInParent=function(e,t,n,s,r,o){var a=e.parent(),l=i.getElementSize(a);l.width<s&&(s=l.width),l.height<r&&(r=l.height);var d=i.getImageInsideParentData(null,t,n,o,null,s,r),u=s,h=r,c=d.imageLeft,p=d.imageLeft,f=d.imageTop,g=d.imageTop,m=Math.round((l.width-s)/2),_=Math.round((l.height-r)/2),v=d.imageWidth+c+p,y=s-v;0!=y&&(p+=y);var b=d.imageHeight+f+g,y=r-b;0!=y&&(g+=y),e.removeAttr("width"),e.removeAttr("height");var w={position:"absolute",margin:"0px 0px"};w.width=u+"px",w.height=h+"px",w.left=m+"px",w.top=_+"px",w["padding-left"]=c+"px",w["padding-top"]=f+"px",w["padding-right"]=p+"px",w["padding-bottom"]=g+"px",e.css(w);var S={};return S.imageWidth=u,S.imageHeight=h,S},this.showElement=function(e,t,i){e.show().fadeTo(0,1),t&&t.show().fadeTo(0,1),i&&i.show().fadeTo(0,1)},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(e,t){if(!t)var t="ug-button-disabled";0==i.isButtonDisabled(e,t)&&e.addClass(t)},this.convertCustomPrefixOptions=function(e,t,i){if(!t)return e;var n={};return jQuery.each(e,function(e,s){if(0===e.indexOf(t+"_"+i+"_")){var r=e.replace(t+"_"+i+"_",i+"_");n[r]=s}else n[e]=s}),n},this.enableButton=function(e,t){if(!t)var t="ug-button-disabled";1==i.isButtonDisabled(e,t)&&e.removeClass(t)},this.isButtonDisabled=function(e,t){if(!t)var t="ug-button-disabled";return!!e.hasClass(t)},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(e,t,i,n,s,r){if(!r)var r=!1;return s=e+(s-i)/(n-i)*(t-e),1==r&&(s<e&&(s=e),s>t&&(s=t)),s},this.getNormalizedValue=function(e,t,i,n,s){return s=e+(s-e)/(t-e)*(n-i)},this.getDistance=function(e,t,i,n){return Math.round(Math.sqrt(Math.abs((i-e)*(i-e)+(n-t)*(n-t))))},this.getMiddlePoint=function(e,t,i,n){var s={};return s.x=e+Math.round((i-e)/2),s.y=t+Math.round((n-t)/2),s},this.getNumItemsInSpace=function(e,t,i){return Math.floor((e+i)/(t+i))},this.getNumItemsInSpaceRound=function(e,t,i){return Math.round((e+i)/(t+i))},this.getSpaceByNumItems=function(e,t,i){return e*t+(e-1)*i},this.getItemSizeInSpace=function(e,t,i){return Math.floor((e-(t-1)*i)/t)},this.getColX=function(e,t,i){return e*(t+i)},this.getColByIndex=function(e,t){return t%e},this.getColRowByIndex=function(e,t){var i=Math.floor(e/t);return{col:Math.floor(e%t),row:i}},this.getIndexByRowCol=function(e,t,i){return e<0?-1:t<0?-1:e*i+t},this.getPrevRowSameColIndex=function(e,t){var n=i.getColRowByIndex(e,t);return i.getIndexByRowCol(n.row-1,n.col,t)},this.getNextRowSameColIndex=function(e,t){var n=i.getColRowByIndex(e,t);return i.getIndexByRowCol(n.row+1,n.col,t)},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(e,t){jQuery.data(document.body,e,t)},this.getGlobalData=function(e){return jQuery.data(document.body,e)},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(e){if(0==i.isTouchDevice())return null;var t=i.getStoredEventData(e);if(null===t.scrollDir&&(Math.abs(t.diffMouseX)>15?t.scrollDir="hor":Math.abs(t.diffMouseY)>15&&Math.abs(t.diffMouseY)>Math.abs(t.diffMouseX)&&(t.scrollDir="vert",t.scrollStartY=t.lastMouseClientY,t.scrollOrigin=jQuery(document).scrollTop(),n.dataCache[e].scrollStartY=t.lastMouseClientY,n.dataCache[e].scrollOrigin=t.scrollOrigin),n.dataCache[e].scrollDir=t.scrollDir),"vert"!==t.scrollDir)return t.scrollDir;var s=(jQuery(document).scrollTop(),t.scrollOrigin-(t.lastMouseClientY-t.scrollStartY));return s>=0&&jQuery(document).scrollTop(s),t.scrollDir},this.wasVerticalScroll=function(e){return"vert"===i.getStoredEventData(e).scrollDir},this.storeEventData=function(e,t,s){var r=i.getMousePosition(e),o=jQuery.now(),a={startTime:o,lastTime:o,startMouseX:r.pageX,startMouseY:r.pageY,lastMouseX:r.pageX,lastMouseY:r.pageY,startMouseClientY:r.clientY,lastMouseClientY:r.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};s&&(a=jQuery.extend(a,s)),n.dataCache[t]=a},this.updateStoredEventData=function(e,t,s){if(!n.dataCache[t])throw new Error("updateEventData error: must have stored cache object");var r=n.dataCache[t],o=i.getMousePosition(e);r.lastTime=jQuery.now(),void 0!==o.pageX&&(r.lastMouseX=o.pageX,r.lastMouseY=o.pageY,r.lastMouseClientY=o.clientY),s&&(r=jQuery.extend(r,s)),n.dataCache[t]=r},this.getStoredEventData=function(e,t){if(!n.dataCache[e])throw new Error("updateEventData error: must have stored cache object");var i=n.dataCache[e];return i.diffMouseX=i.lastMouseX-i.startMouseX,i.diffMouseY=i.lastMouseY-i.startMouseY,i.diffMouseClientY=i.lastMouseClientY-i.startMouseClientY,i.diffTime=i.lastTime-i.startTime,!0===t?(i.startMousePos=i.lastMouseY,i.lastMousePos=i.lastMouseY,i.diffMousePos=i.diffMouseY):(i.startMousePos=i.lastMouseX,i.lastMousePos=i.lastMouseX,i.diffMousePos=i.diffMouseX),i},this.isApproveStoredEventClick=function(e,t){if(!n.dataCache[e])return!0;var s=i.getStoredEventData(e,t),r=Math.abs(s.diffMousePos);return!(s.diffTime>400)&&!(r>30)},this.clearStoredEventData=function(e){n.dataCache[e]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){return"function"==typeof jQuery('<canvas width="500" height="500" > </canvas>')[0].getContext},this.isScrollbarExists=function(){return window.innerWidth>document.documentElement.clientWidth},this.isTouchDevice=function(){if(-1!==n.isTouchDevice)return n.isTouchDevice;try{document.createEvent("TouchEvent"),n.isTouchDevice=!0}catch(e){n.isTouchDevice=!1}return n.isTouchDevice},this.isRgbaSupported=function(){if(-1!==n.isRgbaSupported)return n.isRgbaSupported;var e=document.getElementsByTagName("script")[0],t=e.style.color;try{e.style.color="rgba(1,5,13,0.44)"}catch(e){}var i=e.style.color!=t;return e.style.color=t,n.isRgbaSupported=i,i},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(e){for(var t=jQuery.fn.jquery.split("."),i=e.split("."),n=0,s=t.length;n<s;n++){var r=parseInt(t[n]),o=parseInt(i[n]);if(void 0===i[n])return!0;if(o>r)return!1;if(r>o)return!0}return!0},this.getCssSizeParam=function(e){return jQuery.isNumeric(e)?e+"px":e},this.convertHexToRGB=function(e,t){var i=e.replace("#","");return i===e?e:(r=parseInt(i.substring(0,2),16),g=parseInt(i.substring(2,4),16),b=parseInt(i.substring(4,6),16),result="rgba("+r+","+g+","+b+","+t+")",result)},this.timestampToString=function(e){var t=new Date(e),i=t.getDate()+"/"+t.getMonth();return i+=" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()},this.getArrTouches=function(e){var t=[];return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(t=e.originalEvent.touches),t},this.getArrTouchPositions=function(e){for(var t=[],i=0;i<e.length;i++){var n={pageX:e[i].pageX,pageY:e[i].pageY};t.push(n)}return t},this.startTimeDebug=function(){n.starTime=jQuery.now()},this.showTimeDebug=function(){debugLine({"Time Passed":jQuery.now()-n.starTime},!0)},this.initProgressIndicator=function(e,t,n){switch("bar"!=e&&0==i.isCanvasExists()&&(e="bar"),e){case"bar":var s=new UGProgressBar;s.putHidden(n,t);break;default:case"pie":var s=new UGProgressPie;s.putHidden(n,t);break;case"pie2":t.type_fill=!0;var s=new UGProgressPie;s.putHidden(n,t)}return s},this.setButtonMobileReady=function(e){e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover")}),e.on("mousedown touchend",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})},this.registerTheme=function(e){n.arrThemes.push(e)},this.getArrThemes=function(){return n.arrThemes},this.isThemeRegistered=function(e){return-1!==jQuery.inArray(e,n.arrThemes)},this.getFirstRegisteredTheme=function(){return 0==n.arrThemes.length?"":n.arrThemes[0]},this.isTimePassed=function(e,t){if(!t)var t=100;var i=jQuery.now();0==n.timeCache.hasOwnProperty(e)?lastTime=0:lastTime=n.timeCache[e];var s=i-lastTime;return n.timeCache[e]=i,!(s<=t)},this.whenContiniousEventOver=function(e,t,i){if(!i)var i=300;1==n.timeCache.hasOwnProperty(e)&&null!=n.timeCache[e]&&(clearTimeout(n.timeCache[e]),n.timeCache[e]=null),n.timeCache[e]=setTimeout(t,i)},this.validateClickTouchstartEvent=function(e){var t=!0,i=jQuery.now()-n.lastEventTime;return"click"==e&&"touchstart"==n.lastEventType&&i<1e3&&(t=!1),n.lastEventTime=jQuery.now(),n.lastEventType=e,t},this.addClassOnHover=function(e,t){if(!t)var t="ug-button-hover";e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})},this.destroyButton=function(e){e.off("mouseenter"),e.off("mouseleave"),e.off("click"),e.off("touchstart"),e.off("touchend"),e.off("mousedown"),e.off("tap")},this.setButtonOnClick=function(e,t){i.setButtonMobileReady(e),e.on("click touchstart",function(e){if(objThis=jQuery(this),e.stopPropagation(),e.stopImmediatePropagation(),0==i.validateClickTouchstartEvent(e.type))return!0;t(objThis,e)})},this.setButtonOnTap=function(e,t){e.on("tap",t),0==i.isTouchDevice()?e.on("click",function(e){var t=jQuery(this);if(0==i.validateClickTouchstartEvent(e.type))return!0;t.trigger("tap")}):(e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover"),n.lastTouchStartElement=jQuery(this),n.lastEventTime=jQuery.now()}),e.on("touchend",function(e){var t=jQuery(this);return 0==t.is(n.lastTouchStartElement)||(!n.lastEventTime||(jQuery.now()-n.lastEventTime>n.touchThreshold||void t.trigger("tap")))}))},this.loadJs=function(e,t){!0===t&&(e=location.protocol+"//"+e);var i=document.createElement("script");i.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)},this.loadCss=function(e,t){!0===t&&(e=location.protocol+"//"+e);var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(i)},this.addEvent=function(e,t,i){void 0!==e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},this.checkImagesLoaded=function(e,t,i){function n(e,n){s++,"function"==typeof i&&setTimeout(function(){i(e,n)}),s==r&&"function"==typeof t&&setTimeout(function(){t()})}var s=0,r=e.length;if(0==r&&t)return t(),!1;setTimeout(function(){for(var t=0;t<r;t++){var i=e[t];if(void 0!==i.naturalWidth&&0!==i.naturalWidth)n(e[t],!1);else{var s=jQuery("<img/>");s.data("index",t),s.on("load",function(){var t=jQuery(this).data("index");n(e[t],!1)}),s.on("error",function(){var t=jQuery(this).data("index");n(e[t],!0)}),s.attr("src",i.src)}}})},this.waitForWidth=function(e,t){var i=e.width();if(0!=i)return t(),!1;n.handle=setInterval(function(){0!=(i=e.width())&&(clearInterval(n.handle),t())},300)},this.arrayShuffle=function(e){if("object"!=typeof e)return e;for(var t,i,n=e.length;n;t=parseInt(Math.random()*n),i=e[--n],e[n]=e[t],e[t]=i);return e},this.getObjectLength=function(e){var t=0;for(var i in e)t++;return t},this.normalizePercent=function(e){return e<0&&(e=0),e>1&&(e=1),e},this.stripTags=function(e){return e.replace(/(<([^>]+)>)/gi,"")},this.escapeDoubleSlash=function(e){return e.replace('"','"')},this.htmlentitles=function(e){return jQuery("<div/>").text(e).html()},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function UGThumbsGeneral(){function e(e,t){var i=S[e],n="";0==P.customThumbs&&(n=" ug-thumb-generated");var s=i.index+1,r="style='z-index:"+s+";'",o="<div class='ug-thumb-wrapper"+n+"' "+r+"></div>";if(1==M.thumb_wrapper_as_link){var a=i.link;""==i.link&&(a="javascript:void(0)");var l="";1==M.thumb_link_newpage&&i.link&&(l=" target='_blank'");var o="<a href='"+a+"'"+l+" class='ug-thumb-wrapper"+n+"'></a>"}var d=jQuery(o),u=i.objThumbImage;if(0==P.customThumbs){if(1==M.thumb_show_loader&&u){var h="ug-thumb-loader-dark";"bright"==M.thumb_loader_type&&(h="ug-thumb-loader-bright"),d.append("<div class='ug-thumb-loader "+h+"'></div>"),d.append("<div class='ug-thumb-error' style='display:none'></div>")}if(u){if(u.addClass("ug-thumb-image"),1==M.thumb_image_overlay_effect){var c=u.clone().appendTo(d);c.addClass("ug-thumb-image-overlay "+t).removeClass("ug-thumb-image"),c.fadeTo(0,0),i.objImageOverlay=c}d.append(u)}}return P.isEffectBorder&&d.append("<div class='ug-thumb-border-overlay'></div>"),P.isEffectOverlay&&d.append("<div class='ug-thumb-overlay'></div>"),x.append(d),P.customThumbs&&P.funcSetCustomThumbHtml(d,i),S[e].objThumbWrapper=d,d}function t(e,t,i,n){var s={width:e+"px",height:t+"px"},r={width:e-P.thumbInnerReduce+"px",height:t-P.thumbInnerReduce+"px"},o=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";i?(!0!==n&&i.css(s),i.find(o).css(r)):(x.children(".ug-thumb-wrapper").css(s),x.find(o).css(r))}function i(e,t,i,n){if(!n)var n=!1;C.isFakeFullscreen()&&(n=!0);var s=e.children(".ug-thumb-border-overlay"),r={};r["border-width"]=t+"px",0!=t&&(r["border-color"]=i),n&&!0===n?(s.css(r),0==t?s.hide():s.show()):(0==t?s.stop().fadeOut(M.thumb_transition_duration):s.show().stop().fadeIn(M.thumb_transition_duration),l(s,r))}function n(e,t,i){var n=e.children(".ug-thumb-overlay"),s=M.thumb_transition_duration;i&&!0===i&&(s=0),t?n.stop(!0).fadeTo(s,P.colorOverlayOpacity):n.stop(!0).fadeTo(s,0)}function s(e,t,i){var n=e.children("img.ug-thumb-image"),s=e.children("img.ug-thumb-image-overlay"),r=M.thumb_transition_duration;i&&!0===i&&(r=0),t?s.stop(!0).fadeTo(r,1):(n.fadeTo(0,1),s.stop(!0).fadeTo(r,0))}function r(e,t){if(P.isEffectBorder&&i(e,M.thumb_selected_border_width,M.thumb_selected_border_color,t),P.isEffectOverlay){n(e,1==M.thumb_overlay_reverse,t)}P.isEffectImage&&s(e,!1,t),T.trigger(E.events.SETSELECTEDSTYLE,e)}function o(e){var t=E.getItemByThumb(e);if(t.isLoaded=!0,t.isThumbImageLoaded=!1,1==P.customThumbs)return T.trigger(E.events.IMAGELOADERROR,e),!0;e.children(".ug-thumb-loader").hide(),e.children(".ug-thumb-error").show()}function a(e){if(M.thumb_round_corners_radius<=0)return!1;var t={"border-radius":M.thumb_round_corners_radius+"px"};e?(e.css(t),e.find(".ug-thumb-border-overlay").css(t)):x.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(t)}function l(e,t){e.stop(!0).animate(t,{duration:M.thumb_transition_duration,easing:M.thumb_transition_easing,queue:!1})}function d(e){1==p(e)?r(e,!0,"redraw"):E.setThumbNormalStyle(e,!0,"redraw")}function u(e,i,n){if(1==M.thumb_fixed_size)I.scaleImageCoverParent(i,e);else{"height"==M.thumb_resize_by?I.scaleImageByHeight(i,M.thumb_height):I.scaleImageByWidth(i,M.thumb_width);var s=I.getElementSize(i);I.placeElement(i,0,0),t(s.width,s.height,e)}e.children(".ug-thumb-loader").hide(),i.show(),0==M.thumb_image_overlay_effect?i.fadeTo(0,1):(1==M.thumb_image_overlay_effect&&h(i),i.fadeTo(0,0),d(e)),T.trigger(E.events.AFTERPLACEIMAGE,e)}function h(e){var t=e.siblings(".ug-thumb-image-overlay");if(0==t.length)return!1;var i=I.getElementSize(e),n={width:i.width+"px",height:i.height+"px",left:i.left+"px",top:i.top+"px"};t.css(n),0==P.customThumbs&&t.fadeTo(0,1)}function c(){var e="",t=M.thumb_image_overlay_type.split(",");for(var i in t){switch(t[i]){case"bw":e+=" ug-bw-effect";break;case"blur":e+=" ug-blur-effect";break;case"sepia":e+=" ug-sepia-effect"}}return e}function p(e){return!!e.hasClass("ug-thumb-selected")}function f(e,i){i=jQuery(i);var n=(E.getItemByThumb(i),I.getElementSize(i));t(n.width,n.height,i,!0),d(i)}function g(e){if(1==P.touchEnabled)return objThumbs.off("mouseenter").off("mouseleave"),!0;0==p(e)&&E.setThumbOverStyle(e)}function m(e){if(1==P.touchEnabled)return!0;0==p(e)&&E.setThumbNormalStyle(e,!1)}function _(e,t){if(!t)var t=!1;var i=jQuery(e),n=i.parents(".ug-thumb-wrapper");return 0!=n.parent().length&&(objItem=E.getItemByThumb(n),(1!=objItem.isLoaded||!1!==t)&&(E.triggerImageLoadedEvent(n,i),void(1==P.customThumbs?T.trigger(E.events.PLACEIMAGE,[n,i]):u(n,i,objItem))))}function v(e,t,i){objItem=E.getItemByThumb(t),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var n=I.getImageOriginalSize(i);objItem.thumbWidth=n.width,objItem.thumbHeight=n.height,objItem.thumbRatioByWidth=n.width/n.height,objItem.thumbRatioByHeight=n.height/n.width,t.addClass("ug-thumb-ratio-set")}var y,b,w,S,x,E=this,T=jQuery(E),C=new UniteGalleryMain,I=new UGFunctions;this.type={GET_THUMBS_ALL:"all",GET_THUMBS_RATIO:"ratio",GET_THUMBS_NO_RATIO:"no_ratio",GET_THUMBS_NEW:"new"},this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"};var M={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!1,thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},P={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0,classNewThumb:"ug-new-thumb"},L={timeout_thumb_check:100,thumb_max_check_times:600,eventSizeChange:"thumb_size_change"};this.init=function(e,t){b=e.getObjects(),C=e,y=jQuery(e),w=b.g_objWrapper,S=b.g_arrItems,M=jQuery.extend(M,t),P.isEffectBorder=M.thumb_border_effect,P.isEffectOverlay=M.thumb_color_overlay_effect,P.isEffectImage=M.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(t,i){if(x=t,1==P.isEffectImage)var n=c();if(!0!==i)for(var s=C.getNumItems(),r=0;r<s;r++)e(r,n);else{E.getThumbs().removeClass(P.classNewThumb);var o=C.getNewAddedItemsIndexes();jQuery.each(o,function(t,i){e(i,n).addClass(P.classNewThumb)})}},this.setThumbNormalStyle=function(e,t,r){if(1==P.customThumbs&&e.removeClass("ug-thumb-over"),P.isEffectBorder&&i(e,M.thumb_border_width,M.thumb_border_color,t),P.isEffectOverlay){n(e,1!=M.thumb_overlay_reverse,t)}P.isEffectImage&&s(e,!0,t),T.trigger(E.events.SETNORMALSTYLE,e)},this.setThumbOverStyle=function(e){if(1==P.customThumbs&&e.addClass("ug-thumb-over"),P.isEffectBorder&&i(e,M.thumb_over_border_width,M.thumb_over_border_color),P.isEffectOverlay){n(e,1==M.thumb_overlay_reverse)}1==P.isEffectImage&&s(e,!1),T.trigger(E.events.SETOVERSTYLE,e)},this.setHtmlProperties=function(e){if(!e)var e=E.getThumbs();if(0==P.customThumbs){1==M.thumb_fixed_size&&t(M.thumb_width,M.thumb_height,e),a(e)}if(e.each(function(){d(jQuery(this))}),P.isEffectOverlay&&M.thumb_overlay_color){var i={};if(I.isRgbaSupported()){var n=I.convertHexToRGB(M.thumb_overlay_color,M.thumb_overlay_opacity);i["background-color"]=n}else i["background-color"]=M.thumb_overlay_color,P.colorOverlayOpacity=M.thumb_overlay_opacity;e.find(".ug-thumb-overlay").css(i)}},this.setThumbSelected=function(e){if(1==P.customThumbs&&e.removeClass("ug-thumb-over"),1==p(e))return!0;e.addClass("ug-thumb-selected"),r(e)},this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected"),E.setThumbNormalStyle(e,!1,"set unselected")},this.setOptions=function(e){M=jQuery.extend(M,e)},this.setThumbInnerReduce=function(e){P.thumbInnerReduce=e},this.setCustomThumbs=function(e,t,i){if(P.customThumbs=!0,"function"!=typeof e)throw new Error("The argument should be function");P.funcSetCustomThumbHtml=e,-1==jQuery.inArray("overlay",t)&&(P.isEffectOverlay=!1),-1==jQuery.inArray("border",t)&&(P.isEffectBorder=!1),P.isEffectImage=!1,i&&!1===i.allow_onresize&&(P.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return M},this.getNumThumbs=function(){return S.length},this.getThumbImage=function(e){return e.find(".ug-thumb-image")},this.getThumbByIndex=function(e){var t=E.getThumbs();if(e>=t.length||e<0)throw new Error("Wrong thumb index");return jQuery(t[e])},this.getThumbs=function(e){switch(e){default:case E.type.GET_THUMBS_ALL:var t=x.children(".ug-thumb-wrapper");break;case E.type.GET_THUMBS_NO_RATIO:var t=x.children(".ug-thumb-wrapper").not(".ug-thumb-ratio-set");break;case E.type.GET_THUMBS_RATIO:var t=x.children(".ug-thumb-wrapper.ug-thumb-ratio-set");break;case E.type.GET_THUMBS_NEW:var t=x.children("."+P.classNewThumb)}return t},this.getItemByThumb=function(e){var t=e.data("index");return void 0===t&&(t=e.index()),S[t]},this.isThumbLoaded=function(e){return E.getItemByThumb(e).isLoaded},this.getGlobalThumbSize=function(){return{width:M.thumb_width,height:M.thumb_height}},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){1==P.allowOnResize&&w.on(L.eventSizeChange,f),T.on(E.events.THUMB_IMAGE_LOADED,v),x.on("touchstart",".ug-thumb-wrapper",function(){P.touchEnabled=!0,x.off("mouseenter").off("mouseleave")}),x.on("mouseenter",".ug-thumb-wrapper",function(e){g(jQuery(this))}),x.on("mouseleave",".ug-thumb-wrapper",function(e){m(jQuery(this))})},this.destroy=function(){x.off("touchstart",".ug-thumb-wrapper"),w.off(L.eventSizeChange),x.off("mouseenter",".ug-thumb-wrapper"),
x.off("mouseleave",".ug-thumb-wrapper"),T.off(E.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var e=x.find(".ug-thumb-image");I.checkImagesLoaded(e,null,function(e,t){if(0==t)_(e,!0);else{o(jQuery(e).parent())}})},this.triggerImageLoadedEvent=function(e,t){T.trigger(E.events.THUMB_IMAGE_LOADED,[e,t])},this.hideThumbs=function(){x.find(".ug-thumb-wrapper").hide()}}function UGThumbsStrip(){function e(e,i){T=e.getObjects(),k=e,k.attachThumbsPanel("strip",A),E=jQuery(e),C=T.g_objWrapper,I=T.g_arrItems,H=jQuery.extend(H,i),z=H.strip_vertical_type,1==z&&(H=jQuery.extend(H,$),H=jQuery.extend(H,i),i.thumb_resize_by="width"),N.init(e,i),t()}function t(){var e=N.getOptions();D.isNotFixedThumbs=!1===e.thumb_fixed_size,z=H.strip_vertical_type}function n(){N.setHtmlProperties(),r(),l(),a(),0==D.isRunOnce&&(1==H.strip_control_touch&&(j=new UGTouchThumbsControl,j.init(A)),1==H.strip_control_avia&&(L=new UGAviaControl,L.init(A)),g(),N.loadThumbsImages(),b()),D.isRunOnce=!0}function s(e){R.stripSize=e,R.stripActiveSize=0==z?R.stripSize-H.strip_padding_left-H.strip_padding_right:R.stripSize-H.strip_padding_top-H.strip_padding_bottom,R.stripActiveSize<0&&(R.stripActiveSize=0)}function r(){var e=P.children(".ug-thumb-wrapper"),t=jQuery(e[0]),i=t.outerWidth(),n=t.outerHeight(),r=N.getOptions();0==z?(R.thumbSize=i,1==r.thumb_fixed_size?R.thumbSecondSize=n:R.thumbSecondSize=r.thumb_height,s(M.width()),R.stripInnerSize=P.width()):(R.thumbSize=n,1==r.thumb_fixed_size?R.thumbSecondSize=i:R.thumbSecondSize=r.thumb_width,s(M.height()),R.stripInnerSize=P.height())}function o(e){0==z?P.width(e):P.height(e),R.stripInnerSize=e,g(),jQuery(A).trigger(A.events.INNER_SIZE_CHANGE)}function a(){var e=P.children(".ug-thumb-wrapper"),t=0,n=0;for(0==z&&(n=H.strip_padding_top),i=0;i<e.length;i++){var s=jQuery(e[i]);if(1==D.isNotFixedThumbs){if(objItem=N.getItemByThumb(s),0==objItem.isLoaded)continue;s.show()}O.placeElement(s,t,n),0==z?t+=s.outerWidth()+H.strip_space_between_thumbs:n+=s.outerHeight()+H.strip_space_between_thumbs}if(0==z)var r=t-H.strip_space_between_thumbs;else var r=n-H.strip_space_between_thumbs;o(r)}function l(){if(0==z){var e=R.thumbSecondSize,t={};t.height=e+"px";var i={};i.height=e+"px"}else{var n=R.thumbSecondSize,t={};t.width=n+"px";var i={};i.width=n+"px"}M.css(t),P.css(i)}function d(e){var t=A.getInnerStripPos(),i=t+e;i=A.fixInnerStripLimits(i),A.positionInnerStrip(i,!0)}function u(e){var t=x(e),i=-1*t.min;i=A.fixInnerStripLimits(i),A.positionInnerStrip(i,!0)}function h(e){var t=x(e),i=-1*t.max+R.stripSize;i=A.fixInnerStripLimits(i),A.positionInnerStrip(i,!0)}function c(e){if(0==w())return!1;var t=S(),i=x(e);if(i.min<t.minPosThumbs){var n=e.prev();u(n.length?n:e)}else if(i.max>t.maxPosThumbs){var s=e.next();h(s.length?s:e)}}function p(){var e=k.getSelectedItem();if(null==e)return!0;var t=e.objThumbWrapper;t&&c(t)}function f(){if(0==w())return!1;var e=A.getInnerStripPos(),t=A.fixInnerStripLimits(e);e!=t&&A.positionInnerStrip(t,!0)}function g(){1==w()?(L&&L.enable(),j&&j.enable()):(L&&L.disable(),j&&j.disable())}function m(){if(w())return!1;0==z?O.placeElement(P,H.strip_thumbs_align,0):O.placeElement(P,0,H.strip_thumbs_align)}function _(e){if(A.isTouchMotionActive()){if(1==j.isSignificantPassed())return!0}var t=N.getItemByThumb(e);k.selectItem(t)}function v(){clearTimeout(D.handle),D.handle=setTimeout(function(){a()},50)}function y(){var e=k.getSelectedItem();N.setThumbSelected(e.objThumbWrapper),c(e.objThumbWrapper)}function b(){N.initEvents(),M.find(".ug-thumb-wrapper").on("click touchend",function(e){_(jQuery(this))}),E.on(k.events.ITEM_CHANGE,y),D.isNotFixedThumbs&&jQuery(N).on(N.events.AFTERPLACEIMAGE,v)}function w(){return R.stripInnerSize>R.stripActiveSize}function S(){var e={},t=A.getInnerStripPos();return e.minPosThumbs=-1*t+1,e.maxPosThumbs=-1*t+R.stripSize-1,e}function x(e){var t={},i=e.position();return 0==z?(t.min=i.left,t.max=i.left+R.thumbSize):(t.min=i.top,t.max=i.top+R.thumbSize),t}var E,T,C,I,M,P,L,j,A=this,k=new UniteGalleryMain,O=new UGFunctions,z=!1,N=new UGThumbsGeneral,O=new UGFunctions,H={strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0},D={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},R={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove",INNER_SIZE_CHANGE:"size_change"};var $={strip_thumbs_align:"top",thumb_resize_by:"width"};this.setHtml=function(e){if(!e){var e=C;null!=H.parent_container&&(e=H.parent_container)}e.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),M=e.children(".ug-thumbs-strip"),P=M.children(".ug-thumbs-strip-inner"),N.setHtmlThumbs(P),1==D.isNotFixedThumbs&&N.hideThumbs()},this.destroy=function(){var e=M.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),E.off(k.events.ITEM_CHANGE),jQuery(N).off(N.events.AFTERPLACEIMAGE),j&&j.destroy(),L&&L.destroy(),N.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,i){e(t,i)},this.run=function(){n()},this.positionInnerStrip=function(e,t){if(void 0===t)var t=!1;if(0==z)var i={left:e+"px"};else var i={top:e+"px"};0==t?(P.css(i),A.triggerStripMoveEvent()):(A.triggerStripMoveEvent(),P.stop(!0).animate(i,{duration:H.strip_scroll_to_thumb_duration,easing:H.strip_scroll_to_thumb_easing,queue:!1,progress:function(){A.triggerStripMoveEvent()},always:function(){A.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(A).trigger(A.events.STRIP_MOVE)},this.isTouchMotionActive=function(){return!!j&&j.isTouchActive()},this.isItemThumbVisible=function(e){var t=e.objThumbWrapper,i=t.position(),n=-1*A.getInnerStripPos();if(0==z)var s=n+R.stripSize,r=i.left,o=i.left+t.width();else var s=n+R.stripSize,r=i.top,o=i.top+t.height();var a=!1;return o>=n&&r<=s&&(a=!0),a},this.getInnerStripPos=function(){return 0==z?P.position().left:P.position().top},this.getInnerStripLimits=function(){var e={};return e.maxPos=0==z?H.strip_padding_left:H.strip_padding_top,e.minPos=-(R.stripInnerSize-R.stripActiveSize),e},this.fixInnerStripLimits=function(e){var t=A.getInnerStripLimits();return e>t.maxPos&&(e=t.maxPos),e<t.minPos&&(e=t.minPos),e},this.scrollForeward=function(){d(-R.stripSize)},this.scrollBack=function(){d(R.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(e){H=jQuery.extend(H,e),N.setOptions(e),t()},this.setSizeVertical=function(e){if(0==z)throw new Error("setSizeVertical error, the strip size is not vertical");var t=R.thumbSecondSize,i={};i.width=t+"px",i.height=e+"px",M.css(i),s(e);var n={};n.width=t+"px",n.left="0px",n.top="0px",P.css(n),D.is_placed=!0,g()},this.setSizeHorizontal=function(e){if(1==z)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var t=R.thumbSecondSize+H.strip_padding_top+H.strip_padding_bottom,i={};i.width=e+"px",i.height=t+"px",M.css(i),s(e);var n=H.strip_padding_left,r={};r.height=t+"px",r.left=n+"px",r.top="0px",P.css(r),D.is_placed=!0,g()},this.setPosition=function(e,t,i,n){O.placeElement(M,e,t,i,n)},this.resize=function(e){0==z?(M.width(e),R.stripActiveSize=e-H.strip_padding_left-H.strip_padding_right):(M.height(e),R.stripActiveSize=e-H.strip_padding_top-H.strip_padding_bottom),s(e),g(),f(),m(),p()},this.setThumbUnselected=function(e){N.setThumbUnselected(e)},this.setCustomThumbs=function(e){N.setCustomThumbs(e)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var e=N.getOptions(),t=jQuery.extend(H,e);return{g_gallery:k,g_objGallery:E,g_objWrapper:C,g_arrItems:I,g_objStrip:M,g_objStripInner:P,g_aviaControl:L,g_touchThumbsControl:j,isVertical:z,g_options:t,g_thumbs:N}},this.getObjThumbs=function(){return N},this.getSelectedThumb=function(){var e=k.getSelectedItemIndex();return-1==e?null:N.getThumbByIndex(e)},this.getSizeAndPosition=function(){return O.getElementSize(M)},this.getHeight=function(){return M.outerHeight()},this.getWidth=function(){return M.outerWidth()},this.getSizes=function(){return R},this.isVertical=function(){return z},this.isPlaced=function(){return D.is_placed},this.isMoveEnabled=function(){return w()}}function UGTouchThumbsControl(){function e(){var e=jQuery.now(),t={};return t.passedTime=E.lastTime-E.startTime,t.lastActiveTime=e-E.buttonReleaseTime,t.passedDistance=E.lastPos-E.startPos,t.passedDistanceAbs=Math.abs(t.passedDistance),t}function t(){x.thumb_touch_slowFactor=S.normalizeSetting(5e-5,.01,1,100,b.strip_thumb_touch_sensetivity,!0)}function i(e){return 0==w?S.getMousePosition(e).pageX:S.getMousePosition(e).pageY}function n(e){var t=E.mousePos-e,i=E.innerPos-t,n=f.getInnerStripLimits();if(i>n.maxPos){var s=i-n.maxPos;i=n.maxPos+s/3}if(i<n.minPos){var s=n.minPos-i;i=n.minPos-s/3}f.positionInnerStrip(i)}function s(e){var t=f.getInnerStripPos();E.mousePos=e,E.innerPos=t,E.lastPortionPos=t,E.lastDeltaTime=0,E.lastDeltaPos=0,E.startTime=jQuery.now(),E.startPos=E.innerPos,E.lastTime=E.startTime,E.lastPos=E.startPos,E.speed=0}function r(){var e=jQuery.now();e-E.lastTime>=x.touch_portion_time&&(E.lastDeltaTime=e-E.lastTime,E.lastDeltaTime>x.touch_portion_time&&(E.lastDeltaTime=x.touch_portion_time),E.lastDeltaPos=E.lastPos-E.lastPortionPos,E.lastPortionPos=E.lastPos,E.lastTime=e)}function o(){var e=x.thumb_touch_slowFactor,t=x.minDeltaTime,i=x.minPath,n=f.getInnerStripPos(),s=jQuery.now(),r=s-E.lastTime,o=n-E.lastPortionPos;r<t&&E.lastDeltaTime>0&&(r=E.lastDeltaTime,o=E.lastDeltaPos+o),r<t&&(r=t);var l=o>0?1:-1,d=0;r>0&&(d=o/r);var u=d*d/(2*e)*l;Math.abs(u)<=i&&(u=0);var h=f.getInnerStripPos(),c=h+u,p=f.fixInnerStripLimits(c),g=f.getInnerStripLimits(),m=x.limitsBreakAddition,_=!1,v=p;if(c>g.maxPos&&(_=!0,p=m,c<m&&(p=c)),c<g.minPos){_=!0;var b=g.minPos-m;p=b,c>b&&(p=c)}var S=p-h,T=Math.abs(Math.round(d/e));if(0!=u&&(T=T*S/u),h!=p){var C={left:p+"px"};1==w&&(C={top:p+"px"}),y.animate(C,{duration:T,easing:x.animationEasing,queue:!0,progress:a})}if(1==_){var I=x.returnAnimateSpeed,M={left:v+"px"};1==w&&(M={top:v+"px"}),y.animate(M,{duration:I,easing:x.returnAnimationEasing,queue:!0,progress:a})}}function a(){E.lastPos=f.getInnerStripPos(),f.triggerStripMoveEvent()}function l(){if(1==E.loop_active)return!0;E.loop_active=!0,E.handle=setInterval(r,10)}function d(e){if(0==E.loop_active)return!0;if(e){o(i(e))}E.loop_active=!1,E.handle=clearInterval(E.handle)}function u(e){return 0==E.isControlEnabled||(E.buttonReleaseTime=jQuery.now(),0==E.touch_active?(d(e),!0):(e.preventDefault(),E.touch_active=!1,d(e),void v.removeClass("ug-dragging")))}function h(e){if(0==E.isControlEnabled)return!0;e.preventDefault(),E.touch_active=!0;var t=i(e);y.stop(!0),s(t),l(),v.addClass("ug-dragging")}function c(e){if(0==E.isControlEnabled)return!0;if(0==E.touch_active)return!0;if(e.preventDefault(),0==e.buttons)return E.touch_active=!1,d(e),!0;var t=i(e);E.lastPos=f.getInnerStripPos(),n(t),r()}function p(){v.bind("mousedown touchstart",h),jQuery(window).add("body").bind("mouseup touchend",u),jQuery("body").bind("mousemove touchmove",c)}var f,g,m,_,v,y,b,w,S=new UGFunctions,x={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},E={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};this.enable=function(){E.isControlEnabled=!0},this.disable=function(){E.isControlEnabled=!1},this.init=function(e){f=e,_=e.getObjects(),g=_.g_gallery,m=_.g_objGallery,v=_.g_objStrip,y=_.g_objStripInner,b=_.g_options,w=_.isVertical,t(),p()},this.isSignificantPassed=function(){var t=e();return t.passedTime>300||t.passedDistanceAbs>30},this.isTouchActive=function(){return 1==E.touch_active||(1==y.is(":animated")||e().lastActiveTime<50)},this.destroy=function(){v.unbind("mousedown"),v.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGPanelsBase(){function e(e,t){switch(n.orientation){case"right":case"left":var i={left:e+"px"};break;case"top":case"bottom":var i={top:e+"px"}}r.stop(!0).animate(i,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){t&&t()}})}function t(e){switch(n.orientation){case"right":case"left":c.placeElement(r,e,null);break;case"top":case"bottom":c.placeElement(r,null,e)}}function i(){a.trigger(s.events.FINISH_MOVE)}var n,s,r,o,a,l,d,u=new UniteGalleryMain,h=this,c=new UGFunctions;this.init=function(e,t,i,r,l){n=t,s=i,u=e,o=r,a=l,d=jQuery(u)},this.setHtml=function(e){if(r=e,"strip"==n.panelType)var t=o.strippanel_enable_handle;else var t=o.gridpanel_enable_handle;if(1==t&&(l=new UGPanelHandle,l.init(s,r,o,n.panelType,u),l.setHtml()),!0===n.isDisabledAtStart){r.append("<div class='ug-overlay-disabled'></div>"),setTimeout(function(){r.children(".ug-overlay-disabled").hide()},n.disabledAtStartTimeout)}},this.placeElements=function(){l&&l.placeHandle()},this.initEvents=function(){l&&(l.initEvents(),d.on(u.events.SLIDER_ACTION_START,function(){l.hideHandle()}),d.on(u.events.SLIDER_ACTION_END,function(){l.showHandle()}))},this.destroy=function(){l&&(l.destroy(),d.off(u.events.SLIDER_ACTION_START),d.off(u.events.SLIDER_ACTION_END))},this.openPanel=function(o){if(!o)var o=!1;return!r.is(":animated")&&(0!=n.isClosed&&(n.isClosed=!1,a.trigger(s.events.OPEN_PANEL),void(!1===o?e(n.originalPos,i):(t(n.originalPos),i()))))},this.closePanel=function(o){if(!o)var o=!1;if(r.is(":animated"))return!1;if(1==n.isClosed)return!1;var l=h.getClosedPanelDest();n.isClosed=!0,a.trigger(s.events.CLOSE_PANEL),!1===o?e(l,i):(t(l),i())},this.setClosedState=function(e){n.originalPos=e,a.trigger(s.events.CLOSE_PANEL),n.isClosed=!0},this.setOpenedState=function(e){a.trigger(s.events.OPEN_PANEL),n.isClosed=!1},this.getClosedPanelDest=function(){var e,t=c.getElementSize(r);switch(n.orientation){case"left":n.originalPos=t.left,e=-n.panelWidth;break;case"right":n.originalPos=t.left;var i=u.getSize();e=i.width;break;case"top":n.originalPos=t.top,e=-n.panelHeight;break;case"bottom":n.originalPos=t.top;var i=u.getSize();e=i.height}return e},this.isPanelClosed=function(){return n.isClosed},this.setDisabledAtStart=function(e){if(e<=0)return!1;n.isDisabledAtStart=!0,n.disabledAtStartTimeout=e}}function UGPanelHandle(){function e(){a.removeClass("ug-button-hover")}function t(){a.addClass("ug-button-closed")}function i(){a.removeClass("ug-button-closed")}function n(e){if(e.stopPropagation(),e.stopImmediatePropagation(),0==l.validateClickTouchstartEvent(e.type))return!0;o.isPanelClosed()?o.openPanel():o.closePanel()}function s(){switch(o.getOrientation()){case"right":case"left":"top"!=d.panel_handle_align&&"bottom"!=d.panel_handle_align&&(d.panel_handle_align="top");break;case"bottom":"left"!=d.panel_handle_align&&"right"!=d.panel_handle_align&&(d.panel_handle_align="left");break;case"top":"left"!=d.panel_handle_align&&"right"!=d.panel_handle_align&&(d.panel_handle_align="right")}}var r,o,a,l=new UGFunctions,d={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(e,t,i,n,s){switch(o=e,r=t,n){case"grid":d.panel_handle_align=i.gridpanel_handle_align,d.panel_handle_offset=i.gridpanel_handle_offset,d.panel_handle_skin=i.gridpanel_handle_skin;break;case"strip":d.panel_handle_align=i.strippanel_handle_align,d.panel_handle_offset=i.strippanel_handle_offset,d.panel_handle_skin=i.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+n)}var a=s.getOptions(),l=a.gallery_skin;""==d.panel_handle_skin&&(d.panel_handle_skin=l)},this.setHtml=function(){var e=o.getOrientation(),t="ug-panel-handle-tip";switch(e){case"right":t+=" ug-handle-tip-left";break;case"left":t+=" ug-handle-tip-right";break;case"bottom":t+=" ug-handle-tip-top";break;case"top":t+=" ug-handle-tip-bottom"}r.append("<div class='"+t+" ug-skin-"+d.panel_handle_skin+"'></div>"),a=r.children(".ug-panel-handle-tip")},this.initEvents=function(){l.addClassOnHover(a),a.bind("click touchstart",n),jQuery(o).on(o.events.OPEN_PANEL,function(){e(),i()}),jQuery(o).on(o.events.CLOSE_PANEL,function(){e(),t()})},this.destroy=function(){l.destroyButton(a),jQuery(o).off(o.events.OPEN_PANEL),jQuery(o).off(o.events.CLOSE_PANEL)},this.placeHandle=function(){var e=l.getElementSize(a);s();var t=o.getOrientation();switch(t){case"left":l.placeElement(a,"right",d.panel_handle_align,-e.width);break;case"right":l.placeElement(a,-e.width,d.panel_handle_align,0,d.panel_handle_offset);break;case"top":l.placeElement(a,d.panel_handle_align,"bottom",d.panel_handle_offset,-e.height);break;case"bottom":l.placeElement(a,d.panel_handle_align,"top",d.panel_handle_offset,-e.height);break;default:throw new Error("Wrong panel orientation: "+t)}},this.hideHandle=function(){1==a.is(":visible")&&a.hide()},this.showHandle=function(){0==a.is(":visible")&&a.show()}}function UGStripPanel(){function e(e,t){E=e,_=jQuery(E),M=jQuery.extend(M,t);var i=!1;1==M.strippanel_vertical_type&&(M=jQuery.extend(M,P),i=!0),0==M.strippanel_enable_buttons&&(M=jQuery.extend(M,L),i=!0),1==i&&(M=jQuery.extend(M,t));var n=E.getOptions(),s=n.gallery_skin;""==M.strippanel_buttons_skin&&(M.strippanel_buttons_skin=s),v=E.getElement(),I.init(E,j,S,M,x),C=new UGThumbsStrip,C.init(E,M)}function t(){if(0==M.strippanel_vertical_type){if(0==j.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==j.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==j.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}function i(){if(1==j.isFirstRun&&0==t())return!1;C.run(),a(),u(),m(),j.isFirstRun=!1,p()}function n(e){if(!e)var e=v;if(e.append("<div class='ug-strip-panel'></div>"),y=e.children(".ug-strip-panel"),1==M.strippanel_enable_buttons){var t="ug-strip-arrow-left",i="ug-strip-arrow-right";1==M.strippanel_vertical_type&&(t="ug-strip-arrow-up",i="ug-strip-arrow-down"),y.append("<div class='ug-strip-arrow "+t+" ug-skin-"+M.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),y.append("<div class='ug-strip-arrow "+i+" ug-skin-"+M.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}I.setHtml(y),C.setHtml(y),1==M.strippanel_enable_buttons&&(w=y.children("."+t),b=y.children("."+i)),s()}function s(){""!=M.strippanel_background_color&&y.css("background-color",M.strippanel_background_color)}function r(){var e=C.getHeight(),t=j.panelWidth;if(b){w.height(e),b.height(e);var i=w.children(".ug-strip-arrow-tip");T.placeElement(i,"center","middle");var n=b.children(".ug-strip-arrow-tip");T.placeElement(n,"center","middle")}var s=e+M.strippanel_padding_top+M.strippanel_padding_bottom;y.width(t),y.height(s),j.panelHeight=s;var r=t-M.strippanel_padding_left-M.strippanel_padding_right;if(b){r=r-2*b.outerWidth()-2*M.strippanel_padding_buttons}C.resize(r)}function o(){var e=C.getWidth(),t=j.panelHeight;if(b){w.width(e),b.width(e);var i=w.children(".ug-strip-arrow-tip");T.placeElement(i,"center","middle");var n=b.children(".ug-strip-arrow-tip");T.placeElement(n,"center","middle")}var s=e+M.strippanel_padding_left+M.strippanel_padding_right;y.width(s),y.height(t),j.panelWidth=s;var r=t-M.strippanel_padding_top-M.strippanel_padding_bottom;if(b){r=r-2*b.outerHeight()-2*M.strippanel_padding_buttons}C.resize(r)}function a(){0==M.strippanel_vertical_type?r():o()}function l(){b&&(T.placeElement(w,"left","top",M.strippanel_padding_left,M.strippanel_padding_top),T.placeElement(b,"right","top",M.strippanel_padding_right,M.strippanel_padding_top));var e=M.strippanel_padding_left;b&&(e+=b.outerWidth()+M.strippanel_padding_buttons),C.setPosition(e,M.strippanel_padding_top)}function d(){b&&(T.placeElement(w,"left","top",M.strippanel_padding_left,M.strippanel_padding_top),T.placeElement(b,"left","bottom",M.strippanel_padding_left,M.strippanel_padding_bottom));var e=M.strippanel_padding_top;b&&(e+=b.outerHeight()+M.strippanel_padding_buttons),C.setPosition(M.strippanel_padding_left,e)}function u(){0==M.strippanel_vertical_type?l():d(),I.placeElements()}function h(e){if(T.isButtonDisabled(e))return!0;"advance_item"==M.strippanel_buttons_role?E.nextItem():C.scrollForeward()}function c(e){if(T.isButtonDisabled(e))return!0;"advance_item"==M.strippanel_buttons_role?E.prevItem():C.scrollBack()}function p(){if(!b)return!0;if(0==C.isMoveEnabled())return T.disableButton(w),T.disableButton(b),!0;var e=C.getInnerStripLimits(),t=C.getInnerStripPos();t>=e.maxPos?T.disableButton(w):T.enableButton(w),t<=e.minPos?T.disableButton(b):T.enableButton(b)}function f(){p()}function g(){E.isLastItem()?T.disableButton(b):T.enableButton(b),E.isFirstItem()?T.disableButton(w):T.enableButton(w)}function m(){if(1==j.isEventsInited)return!1;if(j.isEventsInited=!0,b)if(T.addClassOnHover(b,"ug-button-hover"),T.addClassOnHover(w,"ug-button-hover"),T.setButtonOnClick(w,c),T.setButtonOnClick(b,h),"advance_item"!=M.strippanel_buttons_role)jQuery(C).on(C.events.STRIP_MOVE,f),jQuery(C).on(C.events.INNER_SIZE_CHANGE,p),_.on(E.events.SIZE_CHANGE,p);else{var e=E.getOptions();0==e.gallery_carousel&&jQuery(E).on(E.events.ITEM_CHANGE,g)}I.initEvents()}var _,v,y,b,w,S=this,x=jQuery(this),E=new UniteGalleryMain,T=new UGFunctions,C=new UGThumbsStrip,I=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var M={strippanel_vertical_type:!1,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},P={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},L={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},j={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.destroy=function(){b&&(T.destroyButton(b),T.destroyButton(w),jQuery(C).off(C.events.STRIP_MOVE),jQuery(E).off(E.events.ITEM_CHANGE),jQuery(E).off(E.events.SIZE_CHANGE)),I.destroy(),C.destroy()},this.getOrientation=function(){return j.orientation},this.setOrientation=function(e){j.orientation=e},this.init=function(t,i){e(t,i)},this.run=function(){i()},this.setHtml=function(e){n(e)},this.getElement=function(){return y},this.getSize=function(){return T.getElementSize(y)},this.setWidth=function(e){j.panelWidth=e},this.setHeight=function(e){j.panelHeight=e},this.resize=function(e){S.setWidth(e),a(),u()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return I.isPanelClosed()},this.getClosedPanelDest=function(){return I.getClosedPanelDest()},this.openPanel=function(e){I.openPanel(e)},this.closePanel=function(e){I.closePanel(e)},this.setOpenedState=function(e){I.setOpenedState(e)},this.setClosedState=function(e){I.setClosedState(e)},this.setCustomThumbs=function(e){C.setCustomThumbs(e)},this.setDisabledAtStart=function(e){I.setDisabledAtStart(e)}}function UGGridPanel(){function e(e,i){I=e,t(),i&&i.vertical_scroll&&(j.gridpanel_vertical_scroll=i.vertical_scroll),j=jQuery.extend(j,i),1==O.isHorType?(j=jQuery.extend(j,k),j=jQuery.extend(j,i)):1==j.gridpanel_vertical_scroll&&(j=jQuery.extend(j,A),j=jQuery.extend(j,i),j.grid_panes_direction="bottom");var n=I.getOptions(),s=n.gallery_skin;""==j.gridpanel_arrows_skin&&(j.gridpanel_arrows_skin=s);var r=e.getObjects();w=r.g_objWrapper,L.init(I,O,T,j,C),P=new UGThumbsGrid,P.init(I,j)}function t(){if(null==O.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function i(){t(),r(),P.run(),l(),d(),b(),u()}function n(){w.append("<div class='ug-grid-panel'></div>"),S=w.children(".ug-grid-panel"),O.isHorType?(S.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+j.gridpanel_arrows_skin+"'></div>"),S.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+j.gridpanel_arrows_skin+"'></div>"),E=S.children(".grid-arrow-left-hortype"),x=S.children(".grid-arrow-right-hortype")):0==j.gridpanel_vertical_scroll?(S.append("<div class='grid-arrow grid-arrow-left ug-skin-"+j.gridpanel_arrows_skin+"'></div>"),S.append("<div class='grid-arrow grid-arrow-right ug-skin-"+j.gridpanel_arrows_skin+"'></div>"),E=S.children(".grid-arrow-left"),x=S.children(".grid-arrow-right")):(S.append("<div class='grid-arrow grid-arrow-up ug-skin-"+j.gridpanel_arrows_skin+"'></div>"),S.append("<div class='grid-arrow grid-arrow-down ug-skin-"+j.gridpanel_arrows_skin+"'></div>"),E=S.children(".grid-arrow-up"),x=S.children(".grid-arrow-down")),L.setHtml(S),E.fadeTo(0,0),x.fadeTo(0,0),P.setHtml(S),s()}function s(){""!=j.gridpanel_background_color&&S.css("background-color",j.gridpanel_background_color)}function r(){"center"==j.gridpanel_grid_align&&(j.gridpanel_grid_align="middle")}function o(){var e=j.gridpanel_padding_border_top+j.gridpanel_padding_border_bottom,t=O.panelHeight-e;if(0==j.gridpanel_arrows_always_on){if(1==P.getNumPanesEstimationByHeight(t))return t}var i=M.getElementSize(x),n=i.height,e=n+j.gridpanel_arrows_padding_vert;return 1==j.gridpanel_vertical_scroll&&(e*=2),e+=j.gridpanel_padding_border_top+j.gridpanel_padding_border_bottom,t=O.panelHeight-e}function a(){var e=j.gridpanel_padding_border_left+j.gridpanel_padding_border_right,t=O.panelWidth-e;if(0==j.gridpanel_arrows_always_on){if(1==P.getNumPanesEstimationByWidth(t))return t}return e+=2*(M.getElementSize(x).width+j.gridpanel_arrows_padding_hor),t=O.panelWidth-e}function l(){var e=!1;if(1==j.gridpanel_arrows_always_on)e=!0;else{P.getNumPanes()>1&&(e=!0)}1==e?(x.show().fadeTo(0,1),E.show().fadeTo(0,1),O.arrowsVisible=!0):(x.hide(),E.hide(),O.arrowsVisible=!1)}function d(){var e=P.getSize();1==O.isHorType?O.panelHeight=e.height+j.gridpanel_padding_border_top+j.gridpanel_padding_border_bottom:O.panelWidth=e.width+j.gridpanel_padding_border_left+j.gridpanel_padding_border_right,M.setElementSize(S,O.panelWidth,O.panelHeight)}function u(){if(1==O.isEventsInited)return!1;O.isEventsInited=!0,E&&(M.addClassOnHover(E),P.attachPrevPaneButton(E)),x&&(M.addClassOnHover(x),P.attachNextPaneButton(x)),L.initEvents()}function h(){return j.gridpanel_padding_border_left}function c(){var e=j.gridpanel_grid_align,t=0;switch(e){case"top":t=j.gridpanel_padding_border_top;break;case"bottom":t=j.gridpanel_padding_border_bottom}var i=h(),n=P.getElement();M.placeElement(n,i,e,0,t)}function p(){var e,t,i,n,s=M.getElementSize(E),r=P.getSize();switch(j.gridpanel_grid_align){default:case"top":e=j.gridpanel_padding_border_top+s.height+j.gridpanel_arrows_padding_vert;break;case"middle":e="middle";break;case"bottom":e=O.panelHeight-r.height-s.height-j.gridpanel_padding_border_bottom-j.gridpanel_arrows_padding_vert}var o=h(),a=P.getElement();M.placeElement(a,o,e);var r=P.getSize();switch(j.gridpanel_arrows_align_vert){default:case"center":case"middle":t=(r.top-s.height)/2,i=r.bottom+(O.panelHeight-r.bottom-s.height)/2,n=0;break;case"grid":t=r.top-s.height-j.gridpanel_arrows_padding_vert_vert,i=r.bottom+j.gridpanel_arrows_padding_vert,n=0;break;case"border":case"borders":t=j.gridpanel_padding_border_top,i="bottom",n=j.gridpanel_padding_border_bottom}M.placeElement(E,"center",t),M.placeElement(x,"center",i,0,n)}function f(){1==O.arrowsVisible?p():c()}function g(){var e,t,i,n,s=M.getElementSize(E),r=P.getSize(),o=j.gridpanel_padding_border_top;switch(j.gridpanel_grid_align){case"middle":switch(j.gridpanel_arrows_align_vert){default:var a=r.height+j.gridpanel_arrows_padding_vert+s.height;o=(O.panelHeight-a)/2;break;case"border":case"borders":o=(O.panelHeight-s.height-j.gridpanel_padding_border_bottom-r.height)/2}break;case"bottom":var a=r.height+s.height+j.gridpanel_arrows_padding_vert;o=O.panelHeight-a-j.gridpanel_padding_border_bottom}var l=P.getElement(),d=h();M.placeElement(l,d,o);var r=P.getSize();switch(j.gridpanel_arrows_align_vert){default:case"center":case"middle":e=r.bottom+(O.panelHeight-r.bottom-s.height)/2,i=0;break;case"grid":e=r.bottom+j.gridpanel_arrows_padding_vert,i=0;break;case"border":case"borders":e="bottom",i=j.gridpanel_padding_border_bottom}t=-s.width/2-j.gridpanel_space_between_arrows/2,M.placeElement(E,"center",e,t,i);var n=Math.abs(t);M.placeElement(x,"center",e,n,i)}function m(){1==O.arrowsVisible?g():c()}function _(){var e,t,i,n,s=M.getElementSize(E),r=P.getSize();switch(j.gridpanel_grid_align){default:case"left":e=j.gridpanel_padding_border_left+j.gridpanel_arrows_padding_hor+s.width;break;case"middle":case"center":e="center";break;case"right":e=O.panelWidth-r.width-s.width-j.gridpanel_padding_border_right-j.gridpanel_arrows_padding_hor}var o=P.getElement();switch(M.placeElement(o,e,j.gridpanel_padding_border_top),r=P.getSize(),j.gridpanel_arrows_align_vert){default:case"center":case"middle":n=(r.height-s.height)/2+r.top;break;case"top":n=j.gridpanel_padding_border_top+j.gridpanel_arrows_padding_vert;break;case"bottom":n=O.panelHeight-j.gridpanel_padding_border_bottom-j.gridpanel_arrows_padding_vert-s.height}switch(j.gridpanel_arrows_align_hor){default:case"borders":t=j.gridpanel_padding_border_left,i=O.panelWidth-j.gridpanel_padding_border_right-s.width;break;case"grid":t=r.left-j.gridpanel_arrows_padding_hor-s.width,i=r.right+j.gridpanel_arrows_padding_hor;break;case"center":t=(r.left-s.width)/2,i=r.right+(O.panelWidth-r.right-s.width)/2}M.placeElement(E,t,n),M.placeElement(x,i,n)}function v(){var e,t=P.getSize();switch(j.gridpanel_grid_align){default:case"left":e=j.gridpanel_padding_border_left;break;case"middle":case"center":e="center";break;case"right":e=O.panelWidth-t.width-j.gridpanel_padding_border_right}var i=P.getElement();M.placeElement(i,e,j.gridpanel_padding_border_top)}function y(){1==O.arrowsVisible?_():v()}function b(){0==O.isHorType?1==j.gridpanel_vertical_scroll?f():m():y(),L.placeElements()}var w,S,x,E,T=this,C=jQuery(this),I=new UniteGalleryMain,M=new UGFunctions,P=new UGThumbsGrid,L=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var j={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!1,gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},A={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},k={gridpanel_grid_align:"center"},O={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.destroy=function(){E&&M.destroyButton(E),x&&M.destroyButton(x),L.destroy(),P.destroy()},this.getOrientation=function(){return O.orientation},this.setOrientation=function(e){switch(O.orientation=e,e){case"right":case"left":O.isHorType=!1;break;case"top":case"bottom":O.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+e)}},this.setHeight=function(e){
if(1==O.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+O.orientation+"). Please use setWidth");O.panelHeight=e;var t=o();P.setMaxHeight(t)},this.setWidth=function(e){if(0==O.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+O.orientation+"). Please use setHeight");O.panelWidth=e;var t=a();P.setMaxWidth(t)},this.init=function(t,i){e(t,i)},this.setHtml=function(){n()},this.run=function(){i()},this.getElement=function(){return S},this.getSize=function(){return M.getElementSize(S)},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return L.isPanelClosed()},this.getClosedPanelDest=function(){return L.getClosedPanelDest()},this.openPanel=function(e){L.openPanel(e)},this.closePanel=function(e){L.closePanel(e)},this.setOpenedState=function(e){L.setOpenedState(e)},this.setClosedState=function(e){L.setClosedState(e)},this.setDisabledAtStart=function(e){L.setDisabledAtStart(e)}}function UGThumbsGrid(){function e(e,t,i){if(N=e.getObjects(),F=e,F.attachThumbsPanel("grid",W),z=jQuery(e),H=N.g_objWrapper,D=N.g_arrItems,!0===i&&(U.isTilesMode=!0),U.numThumbs=D.length,h(t),1==U.isTilesMode){V.setFixedMode(),V.setApproveClickFunction(I),V.init(e,Y);var n=V.getOptions();U.tileMaxHeight=n.tile_height,U.tileMaxWidth=n.tile_width,Q=V.getObjThumbs()}else t.thumb_fixed_size=!0,Q.init(e,t)}function t(e){var t=H;e&&(t=e),t.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),R=t.children(".ug-thumbs-grid"),$=R.children(".ug-thumbs-grid-inner"),1==U.isTilesMode?V.setHtml($):Q.setHtmlThumbs($)}function n(){if(0==U.isHorizontal){if(0==U.gridHeight)throw new Error("You must set height before run.")}else if(0==U.gridWidth)throw new Error("You must set width before run.")}function s(){var e=F.getSelectedItem();if(n(),1==U.isFirstTimeRun)O(),1==U.isTilesMode?(o(),d(),V.run()):(Q.setHtmlProperties(),d(),Q.loadThumbsImages());else if(1==U.isTilesMode){var t=o();1==t&&(d(),V.run())}if(g(),1==U.isFirstTimeRun&&U.isTilesMode){var i=Q.getThumbs();i.each(function(e,t){H.trigger(U.eventSizeChange,jQuery(t))}),i.fadeTo(0,1)}null!=e&&u(e.index),B.trigger(W.events.PANE_CHANGE,U.currentPane),U.isFirstTimeRun=!1}function r(){if(1==U.isTilesMode)var e=V.getGlobalTileSize();else var e=Q.getGlobalThumbSize();return e}function o(){if(0==U.isTilesMode)throw new Error("Dynamic size can be set only in tiles mode");var e=!1,t=F.isMobileMode(),i=U.spaceBetweenCols;1==t?(U.spaceBetweenCols=Y.grid_space_between_mobile,U.spaceBetweenRows=Y.grid_space_between_mobile):(U.spaceBetweenCols=Y.grid_space_between_cols,U.spaceBetweenRows=Y.grid_space_between_rows),U.spaceBetweenCols!=i&&(e=!0);var n=r(),s=n.width,o=U.tileMaxWidth;return G.getNumItemsInSpace(U.gridWidth,U.tileMaxWidth,U.spaceBetweenCols)<Y.grid_min_cols&&(o=G.getItemSizeInSpace(U.gridWidth,Y.grid_min_cols,U.spaceBetweenCols)),V.setTileSizeOptions(o),o!=s&&(e=!0),e}function a(){var e=r(),t=e.height,i=U.gridWidth,n=Y.grid_num_rows*t+(Y.grid_num_rows-1)*U.spaceBetweenRows+2*Y.grid_padding;U.gridHeight=n,G.setElementSize(R,i,n),G.setElementSize($,i,n),U.innerWidth=i,U.innerHeight=n}function l(){var e=r(),t=e.width,i=Y.grid_num_cols*t+(Y.grid_num_cols-1)*U.spaceBetweenCols+2*Y.grid_padding,n=U.gridHeight;U.gridWidth=i,G.setElementSize(R,i,n),G.setElementSize($,i,n),U.innerWidth=i,U.innerHeight=n}function d(){0==U.isHorizontal?l():a()}function u(e){var t=E(e);if(-1==t)return!1;W.gotoPane(t,"scroll")}function h(e){Y=jQuery.extend(Y,e),Q.setOptions(e),U.isNavigationVertical="top"==Y.grid_panes_direction||"bottom"==Y.grid_panes_direction,U.spaceBetweenCols=Y.grid_space_between_cols,U.spaceBetweenRows=Y.grid_space_between_rows}function c(){var e=$.children(".ug-thumb-wrapper"),t=0,n=0,s=0,r=0,o=0,a=0;U.innerWidth=0,U.numPanes=1,U.arrPanes=[],U.numThumbsInPane=0,U.arrPanes.push(r);var l=e.length;for(i=0;i<l;i++){var d=jQuery(e[i]);G.placeElement(d,t,n);var u=d.outerWidth(),h=d.outerHeight();t>o&&(o=t);var c=n+h;c>a&&(a=c);var p=o+u;p>U.innerWidth&&(U.innerWidth=p),t+=u+U.spaceBetweenCols,s++,s>=Y.grid_num_cols&&(n+=h+U.spaceBetweenRows,t=r,s=0),1==U.numPanes&&U.numThumbsInPane++,n+h>U.gridHeight&&(n=0,r=U.innerWidth+U.spaceBetweenCols,t=r,s=0,1==U.isMaxHeight&&1==U.numPanes&&(U.gridHeight=a,R.height(U.gridHeight)),i<l-1&&(U.numPanes++,U.arrPanes.push(r)))}$.width(U.innerWidth),1==U.isMaxHeight&&1==U.numPanes&&(U.gridHeight=a,R.height(a))}function p(){var e=$.children(".ug-thumb-wrapper"),t=0,n=0,s=0,r=0,o=0,a=0;U.innerWidth=0,U.numPanes=1,U.arrPanes=[],U.numThumbsInPane=0,U.arrPanes.push(o);var l=e.length;for(i=0;i<l;i++){var d=jQuery(e[i]);G.placeElement(d,t,n);var u=d.outerWidth(),h=d.outerHeight();t+=u+U.spaceBetweenCols;var c=n+h;c>s&&(s=c),r++,r>=Y.grid_num_cols&&(n+=h+U.spaceBetweenRows,t=o,r=0),1==U.numPanes&&U.numThumbsInPane++,c=n+h;var p=a+U.gridHeight;c>p&&(1==U.isMaxHeight&&1==U.numPanes&&(U.gridHeight=s,R.height(U.gridHeight),p=U.gridHeight),n=p+U.spaceBetweenRows,a=n,o=0,t=o,r=0,i<l-1&&(U.numPanes++,U.arrPanes.push(n)))}$.height(s),U.innerHeight=s,1==U.isMaxHeight&&1==U.numPanes&&(U.gridHeight=s,R.height(s))}function f(){var e=$.children(".ug-thumb-wrapper"),t=Y.grid_padding,n=Y.grid_padding,s=n,r=t,o=0,a=0,l=0,d=0,u=0;U.innerWidth=0,U.numPanes=1,U.arrPanes=[],U.numThumbsInPane=0,U.arrPanes.push(t-Y.grid_padding);var h=e.length;for(i=0;i<h;i++){var c=jQuery(e[i]),p=c.outerWidth(),f=c.outerHeight();r-t+p>U.gridWidth&&(u++,s=0,u>=Y.grid_num_rows?(u=0,t=r,s=n,l=0,1==U.numPanes&&(U.gridWidth=o+Y.grid_padding,R.width(U.gridWidth),U.gridHeight=d+Y.grid_padding,R.height(U.gridHeight)),U.numPanes++,U.arrPanes.push(t-Y.grid_padding)):(r=t,s=l+U.spaceBetweenRows)),G.placeElement(c,r,s);var g=r+p;g>o&&(o=g);var m=s+f;m>l&&(l=m),m>d&&(d=m),m>a&&(a=m);var g=o+p;g>U.innerWidth&&(U.innerWidth=g),r+=p+U.spaceBetweenCols,1==U.numPanes&&U.numThumbsInPane++}U.innerWidth=o+Y.grid_padding,U.innerHeight=d+Y.grid_padding,$.width(U.innerWidth),$.height(U.innerHeight),1==U.numPanes&&(U.gridWidth=o+Y.grid_padding,U.gridHeight=d+Y.grid_padding,R.width(U.gridWidth),R.height(U.gridHeight))}function g(){0==U.isHorizontal?U.isNavigationVertical?p():c():f()}function m(e){if(e<0||e>=U.numThumbs)throw new Error("Thumb not exists: "+e);return!0}function _(e){if(e>=U.numPanes||e<0)throw new Error("Pane "+index+" doesn't exists.");return!0}function v(e){var t=S(e);if(0==t)return!1;$.css(t)}function y(e){var t=S(e);if(0==t)return!1;$.stop(!0).animate(t,{duration:Y.grid_transition_duration,easing:Y.grid_transition_easing,queue:!1})}function b(){y(-U.arrPanes[U.currentPane])}function w(){return 1==U.isNavigationVertical?U.gridHeight:U.gridWidth}function S(e){var t={};return 1==U.isNavigationVertical?t.top=e+"px":t.left=e+"px",t}function x(){var e=G.getElementSize($);return 1==U.isNavigationVertical?e.top:e.left}function E(e){return 0==m(e)?-1:Math.floor(e/U.numThumbsInPane)}function T(){if(1==U.numPanes)return!1;var e=G.getStoredEventData(U.storedEventID),t=e.diffTime,i=x(),n=Math.abs(i-e.startInnerPos);return n>30||n>5&&t>300}function C(){var e=G.getStoredEventData(U.storedEventID),t=x();diffPos=Math.abs(e.startInnerPos-t);var i=w(),n=Math.round(3*i/8);return diffPos>=n||e.diffTime<300&&diffPos>25}function I(){return 1==U.numPanes||G.isApproveStoredEventClick(U.storedEventID,U.isNavigationVertical)}function M(e){if(1==T())return!0;var t=jQuery(this),i=Q.getItemByThumb(t);F.selectItem(i)}function P(e){if(1==U.numPanes)return!0;if(1==U.touchActive)return!0;0==U.isTilesMode&&e.preventDefault(),U.touchActive=!0;var t={startInnerPos:x()};G.storeEventData(e,U.storedEventID,t)}function L(){return 0!=Y.grid_vertical_scroll_ondrag&&(1!=U.isNavigationVertical&&"vert"===G.handleScrollTop(U.storedEventID))}function j(e){if(0==U.touchActive)return!0;e.preventDefault(),G.updateStoredEventData(e,U.storedEventID);var t=G.getStoredEventData(U.storedEventID,U.isNavigationVertical);if(L())return!0;var i=t.diffMousePos,n=t.startInnerPos+i,s=i>0?"prev":"next",r=U.arrPanes[U.numPanes-1];0==Y.grid_carousel&&n>0&&"prev"==s&&(n/=3),0==Y.grid_carousel&&n<-r&&"next"==s&&(n=t.startInnerPos+i/3),v(n)}function A(e){if(0==U.touchActive)return!0;G.updateStoredEventData(e,U.storedEventID);var t=G.getStoredEventData(U.storedEventID,U.isNavigationVertical);if(U.touchActive=!1,0==C())return b(),!0;"next"==(x()-t.startInnerPos>0?"prev":"next")?0==Y.grid_carousel&&W.isLastPane()?b():W.nextPane():0==Y.grid_carousel&&W.isFirstPane()?b():W.prevPane()}function k(){var e=F.getSelectedItem();Q.setThumbSelected(e.objThumbWrapper),u(e.index)}function O(){if(0==U.isTilesMode){Q.initEvents();R.find(".ug-thumb-wrapper").on("click touchend",M),z.on(F.events.ITEM_CHANGE,k)}else V.initEvents();R.bind("mousedown touchstart",P),jQuery("body").bind("mousemove touchmove",j),jQuery(window).add("body").bind("mouseup touchend",A)}var z,N,H,D,R,$,W=this,B=jQuery(this),F=new UniteGalleryMain,G=new UGFunctions,Q=new UGThumbsGeneral,V=new UGTileDesign,Y={grid_panes_direction:"left",grid_num_cols:2,grid_min_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_space_between_mobile:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1};this.events={PANE_CHANGE:"pane_change"};var U={eventSizeChange:"thumb_size_change",isHorizontal:!1,isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid",tileMaxWidth:null,tileMaxHeight:null,spaceBetweenCols:null,spaceBetweenRows:null};this.destroy=function(){if(0==U.isTilesMode){var e=R.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),z.on(F.events.ITEM_CHANGE),Q.destroy()}else V.destroy();R.unbind("mousedown"),R.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),B.off(W.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(e){Q.setThumbUnselected(e)},this.isItemThumbVisible=function(e){return E(e.index)==U.currentPane},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(e){if(1==U.isTilesMode)var t=Y.tile_height;else var i=Q.getOptions(),t=i.thumb_height;var n=Q.getNumThumbs(),s=Math.ceil(n/Y.grid_num_cols),r=s*t+(s-1)*U.spaceBetweenRows;return Math.ceil(r/e)},this.getNumPanesEstimationByWidth=function(e){if(U.isTilesMode)var t=Y.tile_width;else var i=Q.getOptions(),t=i.thumb_width;var n=Q.getNumThumbs(),s=Math.ceil(n/Y.grid_num_rows),r=s*t+(s-1)*U.spaceBetweenCols;return Math.ceil(r/e)},this.getHeightEstimationByWidth=function(e){if(0==U.isTilesMode)throw new Error("This function works only with tiles mode");var t=Q.getNumThumbs(),i=G.getNumItemsInSpace(e,Y.tile_width,U.spaceBetweenCols),n=Math.ceil(t/i);n>Y.grid_num_rows&&(n=Y.grid_num_rows);var s=G.getSpaceByNumItems(n,Y.tile_height,U.spaceBetweenRows);return s+=2*Y.grid_padding},this.getElement=function(){return R},this.getSize=function(){return G.getElementSize(R)},this.getNumPanes=function(){return U.numPanes},this.isFirstPane=function(){return 0==U.currentPane},this.isLastPane=function(){return U.currentPane==U.numPanes-1},this.getPaneInfo=function(){return{pane:U.currentPane,total:U.numPanes}},this.getPane=function(){return U.currentPane},this.setWidth=function(e){U.gridWidth=e,U.isHorizontal=!0},this.setMaxWidth=function(e){U.gridWidth=e,U.isMaxWidth=!0,U.isHorizontal=!0},this.setHeight=function(e){U.gridHeight=e,U.isHorizontal=!1},this.setMaxHeight=function(e){U.gridHeight=e,U.isMaxHeight=!0,U.isHorizontal=!1},this.gotoPane=function(e,t){if(0==_(e))return!1;if(e==U.currentPane)return!1;var i=-U.arrPanes[e];U.currentPane=e,y(i),B.trigger(W.events.PANE_CHANGE,e)},this.nextPane=function(){var e=U.currentPane+1;if(e>=U.numPanes){if(0==Y.grid_carousel)return!0;e=0}W.gotoPane(e,"next")},this.prevPane=function(){var e=U.currentPane-1;if(e<0&&(e=U.numPanes-1,0==Y.grid_carousel))return!1;W.gotoPane(e,"prev")},this.attachNextPaneButton=function(e){if(G.setButtonOnClick(e,W.nextPane),1==Y.grid_carousel)return!0;W.isLastPane()&&e.addClass("ug-button-disabled"),B.on(W.events.PANE_CHANGE,function(){W.isLastPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")})},this.attachPrevPaneButton=function(e){if(G.setButtonOnClick(e,W.prevPane),1==Y.grid_carousel)return!0;W.isFirstPane()&&e.addClass("ug-button-disabled"),B.on(W.events.PANE_CHANGE,function(){W.isFirstPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")})},this.attachBullets=function(e){e.setActive(U.currentPane),jQuery(e).on(e.events.BULLET_CLICK,function(t,i){W.gotoPane(i,"theme"),e.setActive(i)}),jQuery(W).on(W.events.PANE_CHANGE,function(t,i){e.setActive(i)})},this.getObjTileDesign=function(){return V},this.init=function(t,i,n){e(t,i,n)},this.run=function(){s()},this.setHtml=function(e){t(e)}}function UGTiles(){function e(e,i){g_objects=e.getObjects(),re=e,Z=jQuery(e),K=g_objects.g_objWrapper,ee=g_objects.g_arrItems,ue=jQuery.extend(ue,i),t(),ae.init(e,ue),le=ae.getObjThumbs()}function t(){ue.tiles_min_columns<1&&(ue.tiles_min_columns=1),0!=ue.tiles_max_columns&&ue.tiles_max_columns<ue.tiles_min_columns&&(ue.tiles_max_columns=ue.tiles_min_columns)}function i(e){if(!e)if(J)e=J;else var e=K;J=e;var t=ue.tiles_type;e.addClass("ug-tiletype-"+t),ae.setHtml(e),e.children(".ug-thumb-wrapper").hide()}function n(){if(J.addClass("ug-tiles-rest-mode"),he.isTransInited=!0,1==ue.tiles_enable_transition){J.addClass("ug-tiles-transit");var e=ae.getOptions();1==e.tile_enable_image_effect&&0==e.tile_image_effect_reverse&&J.addClass("ug-tiles-transit-overlays"),he.isTransActive=!0}}function s(){return oe.getElementSize(J).width}function r(){return 0!=he.isTransInited&&(J.addClass("ug-tiles-transition-active"),J.removeClass("ug-tiles-rest-mode"),0!=he.isTransActive&&void ae.disableEvents())}function o(){if(0==he.isTransInited)return!1;J.removeClass("ug-tiles-transition-active"),J.addClass("ug-tiles-rest-mode")}function a(){1==he.isTransActive?(setTimeout(function(){ae.enableEvents(),ae.triggerSizeChangeEventAllTiles(),o()},800),he.handle&&clearTimeout(he.handle),he.handle=setTimeout(function(){o(),ae.triggerSizeChangeEventAllTiles(),he.handle=null},2e3)):(ae.triggerSizeChangeEventAllTiles(),o())}function l(){de.colWidth=(de.availWidth-de.colGap*(de.numCols-1))/de.numCols,de.colWidth=Math.floor(de.colWidth),de.totalWidth=oe.getSpaceByNumItems(de.numCols,de.colWidth,de.colGap)}function d(){if(de.colWidth=ue.tiles_col_width,de.minCols=ue.tiles_min_columns,de.maxCols=ue.tiles_max_columns,0==re.isMobileMode()?de.colGap=ue.tiles_space_between_cols:de.colGap=ue.tiles_space_between_cols_mobile,de.galleryWidth=s(),de.availWidth=de.galleryWidth,1==ue.tiles_include_padding&&(de.availWidth=de.galleryWidth-2*de.colGap),1==ue.tiles_exact_width)de.numCols=oe.getNumItemsInSpace(de.availWidth,de.colWidth,de.colGap),de.maxCols>0&&de.numCols>de.maxCols&&(de.numCols=de.maxCols),de.numCols<de.minCols?(de.numCols=de.minCols,l()):de.totalWidth=de.numCols*(de.colWidth+de.colGap)-de.colGap;else{var e=oe.getNumItemsInSpaceRound(de.availWidth,de.colWidth,de.colGap);e<de.minCols?e=de.minCols:0!=de.maxCols&&e>de.maxCols&&(e=de.maxCols),de.numCols=e,l()}switch(ue.tiles_align){case"center":default:de.addX=Math.round((de.galleryWidth-de.totalWidth)/2);break;case"left":de.addX=0;break;case"right":de.addX=de.galleryWidth-de.totalWidth}for(de.arrPosx=[],col=0;col<de.numCols;col++){var t=oe.getColX(col,de.colWidth,de.colGap);de.arrPosx[col]=t+de.addX}}function u(){de.maxColHeight=0,de.colHeights=[0]}function h(){var e=0,t=999999999;for(col=0;col<de.numCols;col++){if(void 0==de.colHeights[col]||0==de.colHeights[col])return col;de.colHeights[col]<t&&(e=col,t=de.colHeights[col])}return e}function c(e,t,i,n){if(null===n||void 0===n)var n=h();var s=0;void 0!==de.colHeights[n]&&(s=de.colHeights[n]);var r=ae.getTileHeightByWidth(de.colWidth,e);if(null===r){if(1==ue.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");r=oe.getElementSize(e).height}var o=de.arrPosx[n];oe.placeElement(e,o,s);var a=s+r;de.colHeights[n]=a+de.colGap,de.maxColHeight<a&&(de.maxColHeight=a),1==t&&e.show().fadeTo(0,1),1==i&&J.height(de.maxColHeight)}function p(e){e||(e=!1),d(),u();var t=le.getThumbs(le.type.GET_THUMBS_RATIO);r(),ae.resizeAllTiles(de.colWidth,ae.resizemode.VISIBLE_ELEMENTS,t);for(var i=0;i<t.length;i++){var n=jQuery(t[i]),s=void 0;1==ue.tiles_keep_order&&(s=oe.getColByIndex(de.numCols,i)),c(n,e,!1,s)}a();var o=J.height();1==he.isTransActive&&o>de.maxColHeight?setTimeout(function(){J.height(de.maxColHeight)},700):J.height(de.maxColHeight)}function f(e){var t=e.index();if(!0===re.getItem(t).ordered_placed)return!1;var i=oe.getPrevRowSameColIndex(t,de.numCols);return i<0||!0===re.getItem(i).ordered_placed}function g(e,t){if(!0!==t){if(0==f(e))return!1}var i=e.index(),n=oe.getColByIndex(de.numCols,i),s=re.getItem(i);ae.resizeTile(e,de.colWidth),c(e,!0,!0,n),s.ordered_placed=!0;var r=re.getNumItems(),o=oe.getNextRowSameColIndex(i,de.numCols);if(o>=r)return!1;var a=le.getThumbByIndex(o),l=re.getItem(o);le.isThumbLoaded(a);le.isThumbLoaded(a)&&!l.ordered_placed&&g(a,!0)}function m(e,t){if(1==t)return!1;e=jQuery(e);var i=jQuery(e).parent();le.triggerImageLoadedEvent(i,e),1==ue.tiles_keep_order?g(i):(ae.resizeTile(i,de.colWidth),c(i,!0,!0))}function _(){var e=le.getThumbs(le.type.GET_THUMBS_NO_RATIO);if(!e||0==e.length)return!1;if(he.isAllLoaded=!1,1==he.isFirstPlaced){d(),u();var t=Math.abs(de.galleryWidth-de.totalWidth);if(1==ue.tiles_set_initial_height&&0==oe.isScrollbarExists()&&t<25){var i=(e.length,Math.ceil(e.length/de.numCols)),s=i*ue.tiles_col_width*.75;J.height(s),d()}}e.fadeTo(0,0);var r=e.find("img.ug-thumb-image"),o=de.numCols,a=de.galleryWidth;oe.checkImagesLoaded(r,function(){d(),o==de.numCols&&a==de.galleryWidth||p(!1),n(),se.trigger(ne.events.ALL_TILES_LOADED)},function(e,t){1==he.isFirstPlaced&&re.triggerEvent(ne.events.TILES_FIRST_PLACED),m(e,t)})}function v(){var e=s(),t=le.getThumbs(!0),i=ue.tiles_justified_row_height,n=[],r=0,o=ue.tiles_justified_space_between,a=t.length;jQuery.each(t,function(e,t){t=jQuery(t);var s=le.getItemByThumb(t),o=s.thumbWidth;s.thumbHeight!==i&&(o=Math.floor(s.thumbRatioByWidth*i)),n[e]=o,r+=o});var l=Math.ceil(r/e);l>a&&(l=a);var d=r/l,u=[],h=0,c=[],p=[],f=0,g=0;jQuery.each(t,function(e,t){var i=n[e];f+i/2>(g+1)*d&&(c[u.length]=h,u.push(p),p=[],h=0,g++),f+=i,h+=i,p.push(t)}),c[u.length]=h,u.push(p);var m=[],_=[],v=0;return jQuery.each(u,function(t,s){var r=(s.length,c[t]),a=(s.length-1)*o,l=(e-a)/r,d=Math.round(i*l);v+=d,t>0&&(v+=o),_.push(d);var u=d/i,h=[],p=a;jQuery.each(s,function(e,t){var i=jQuery(t),s=i.index(),r=n[s],o=Math.round(r*u);h[e]=o,p+=o});var f=p-e;jQuery.each(h,function(e,t){if(0==f)return!1;f<0?(h[e]=t+1,f++):(h[e]=t-1,f--),e==h.length-1&&0!=f&&(h[e]-=f)}),m[t]=h}),{arrRows:u,arrRowWidths:m,arrRowHeights:_,gap:o,totalHeight:v}}function y(e){if(!e)var e=!1;var t=s(),i=v();J.height(i.totalHeight),s()!=t&&(i=v()),r();var n=0,o=0;jQuery.each(i.arrRows,function(t,s){var r=i.arrRowWidths[t],a=i.arrRowHeights[t],l=0;jQuery.each(s,function(t,s){var d=jQuery(s),u=a,h=r[t];ae.resizeTile(d,h,u,ae.resizemode.VISIBLE_ELEMENTS),oe.placeElement(d,l,n),l+=h,l>o&&(o=l),l+=i.gap,1==e&&jQuery(s).show()}),n+=a+i.gap}),a()}function b(){var e=jQuery(K).find("img.ug-thumb-image"),t=le.getThumbs();he.isAllLoaded=!1,t.fadeTo(0,0),oe.checkImagesLoaded(e,function(){setTimeout(function(){y(!0),t.fadeTo(0,1),re.triggerEvent(ne.events.TILES_FIRST_PLACED),n(),se.trigger(ne.events.ALL_TILES_LOADED)})},function(e,t){e=jQuery(e);var i=jQuery(e).parent();le.triggerImageLoadedEvent(i,e)})}function w(){var e=jQuery(K).find("img.ug-thumb-image"),t=le.getThumbs();he.isAllLoaded=!1,t.fadeTo(0,0),oe.checkImagesLoaded(e,function(){1==re.isMobileMode()?p(!0):x(!0),re.triggerEvent(ne.events.TILES_FIRST_PLACED),n(),se.trigger(ne.events.ALL_TILES_LOADED)},function(e,t){e=jQuery(e);var i=jQuery(e).parent();le.triggerImageLoadedEvent(i,e)})}function S(){var e=s();switch(ce.galleryWidth=e,te={},ce.colWidth=ue.tiles_nested_col_width,ce.optimalTileWidth=ue.tiles_nested_optimal_tile_width,ce.currentGap=ue.tiles_space_between_cols,1==re.isMobileMode()&&(ce.currentGap=ue.tiles_space_between_cols_mobile),null==ce.colWidth?ce.colWidth=Math.floor(ce.optimalTileWidth/ce.nestedOptimalCols):ce.optimalTileWidth>ce.colWidth?ce.nestedOptimalCols=Math.ceil(ce.optimalTileWidth/ce.colWidth):ce.nestedOptimalCols=1,ce.maxColumns=oe.getNumItemsInSpace(e,ce.colWidth,ce.currentGap),ce.colWidth=oe.getItemSizeInSpace(e,ce.maxColumns,ce.currentGap),ce.gridY=0,ie=[],le.getThumbs(!0).each(function(){var e=jQuery(this),t=E(e);ie.push(t)}),ce.optimalTileWidth>ce.colWidth?ce.nestedOptimalCols=Math.ceil(ce.optimalTileWidth/ce.colWidth):ce.nestedOptimalCols=1,ce.totalWidth=ce.maxColumns*(ce.colWidth+ce.currentGap)-ce.currentGap,ue.tiles_align){case"center":default:ce.addX=Math.round((ce.galleryWidth-ce.totalWidth)/2);break;case"left":ce.addX=0;break;case"right":ce.addX=ce.galleryWidth-ce.totalWidth}ce.maxGridY=0}function x(e){var t=s();S(),I();var i=ce.maxGridY*(ce.colWidth+ce.currentGap)-ce.currentGap;J.height(i),s()!=t&&(S(),I()),0==ue.tiles_nested_debug&&V(e)}function E(e){var t,i,n={},s=ce.colWidth,r=ce.currentGap,o=ae.getTileImageSize(e),a=e.index(),l=Math.ceil(T(a)*(1*ce.nestedOptimalCols/3)+2*ce.nestedOptimalCols/3),d=o.width,u=o.height,h=d/u;return d>u?(t=l,0==(i=Math.round(t/h))&&(i=1)):(i=l,0==(t=Math.round(i*h))&&(t=1)),n.dimWidth=t,n.dimHeight=i,n.width=t*s+r*(t-1),n.height=i*s+r*(i-1),n.imgWidth=d,n.imgHeight=u,n.left=0,n.top=0,n}function T(e){return Math.abs(Math.sin(Math.abs(1e3*Math.sin(e))))}function C(e,t){if(0==t){for(var i=ce.currentItem;i<ie.length;i++)M(i,!0);ce.currentItem=ie.length-1}else M(ce.currentItem,!0);for(var i=0;i<=ce.currentItem;i++)Y(i,!0);ce.currentItem++}function I(e){if(1==ue.tiles_nested_debug)return void 0===e&&(e=!0),C(!0,e),!1;for(var t=0;t<ie.length;t++)M(t,!0)}function M(e,t){if(!t)var t=!1;ce.maxColHeight=0;for(var i=oe.getObjectLength(te),n=ce.gridY;n<=i+1;n++){for(var s=0;s<ce.maxColumns;s++)if(0==W(ce.gridY)||0==G(ce.gridY,s)){var r=$(s);return void P(e,r,s)}ce.gridY++}}function P(e,t,i){var n=jQuery.extend(!0,{},ie[e]),s=n.dimWidth,r=t-n.dimWidth,o=ce.nestedOptimalCols;if(t<=n.dimWidth||r<=.33*o||t<=o)N(e,t);else if(r<=o)o>=4?1==R(Math.floor(t/2),i)?N(e,Math.floor(t/2)+1):N(e,Math.floor(t/2)):N(objImage,t);else if(1==R(s,i))switch(s>=o){case!0:N(e,s-1);break;case!1:N(e,s+1)}n=jQuery.extend(!0,{},ie[e]);var a=O(e,n.dimWidth,i);if(ce.columnsValueToEnableHeightResize<=a[0]&&ce.maxColumns>=2*ce.nestedOptimalCols){var l=z(i,n),d=H(e,l.newHeight,!0);ie[e].dimHeight=d.dimHeight;var u=k(a,d.dimWidth),h=L(u),c=!1;h>=2&&(c=!0),l.newHeight>=n.dimHeight&&(n=H(e,l.newHeight,!0));var p=j(l.idToResize,l.newHeight,n.dimHeight);n.top=ce.gridY,n.left=i,p.push({tileID:e,sizes:n});return D(p)<D(u)||1==c?void A(p):void A(u)}n.left=i,n.top=ce.gridY,ie[e]=n,B(e,n,i,ce.gridY),ce.maxGridY=n.top+n.dimHeight}function L(e){for(var t=0,i=0,n=0;n<e.length-1;n++){var s=e[n].sizes,r=-1,o=-1;W(s.top+s.dimHeight)&&ce.maxColumns>s.left+s.dimWidth&&(r=te[s.top+s.dimHeight-1][s.left+s.dimWidth],o=te[s.top+s.dimHeight][s.left+s.dimWidth]),r!=o&&t++}for(var n=0;n<e.length-1;n++){var s=e[n].sizes,r=-1,o=-1;W(s.top+s.dimHeight)&&s.left-1>=0&&(r=te[s.top+s.dimHeight-1][s.left-1],o=te[s.top+s.dimHeight][s.left-1]),r!=o&&i++}return Math.max(i,t)}function j(e,t,i){var n=ie[e],s=n.dimHeight,r=(n.dimWidth,n.left),o=n.top,a=(parseInt(o/(ce.colWidth+ce.currentGap)),parseInt(r/(ce.colWidth+ce.currentGap)),s-t+i),l=H(e,a,!0),d=[];return d.push({tileID:e,sizes:l}),d}function A(e){for(var t=0;t<e.length;t++){var i=e[t].sizes,n=e[t].tileID;ie[n]=jQuery.extend(!0,{},i),B(n,i,i.left,i.top)}}function k(e,t){for(var i=0,n=0,s=[],r=0,o=0,a=0;a<e[1].length;a++){var l=e[1][a],d=ie[e[1][a]];if(n+=d.dimHeight,0!=a)i+=d.dimHeight,s.push([l,d.dimHeight]);else{var u=N(l,t,!0);i+=u.dimHeight,s.push([e[1][a],u.dimHeight])}}r=d.left,o=d.top;for(var h=n,c=[],a=s.length-1;a>=0;a--){var p,l=s[a][0];0!=a?(p=Math.max(Math.round(1*n/3),Math.floor(s[a][1]*(n/i))),h-=p,u=H(l,p,!0),u.left=r,u.top=o,c.push({tileID:l,sizes:u}),o+=u.dimHeight):(p=h,u=H(l,p,!0),u.left=r,u.top=o,c.push({tileID:l,sizes:u}))}return c}function O(e,t,i){var n=ce.gridY-1,s=0,r=0,o=1,a=[],l=[];if(a.push(e),n>=0){for(r=0;n>=0;){if(s=te[n][i],void 0!==te[n][i-1]&&te[n][i-1]==te[n][i]||void 0!==te[n][i+t]&&te[n][i+t-1]==te[n][i+t]||te[n][i]!=te[n][i+t-1])return l.push(o),l.push(a),l;r!=s&&(o++,a.push(s)),n--,r=s}return l.push(o),l.push(a),l}return[0,[]]}function z(e,t){var i=0,n=0,s=t.dimWidth,r=t.dimHeight,o=0,a=0,l=jQuery.map(te,function(e,t){return[e]});if(void 0===l[ce.gridY]||void 0===l[ce.gridY][e-1])n=0;else for(var d=0;;){if(void 0===te[ce.gridY+d]||-1==te[ce.gridY+d][e-1])break;o=te[ce.gridY+d][e-2],d++,n++}if(void 0===l[ce.gridY]||void 0===l[ce.gridY][e+s])i=0;else for(d=0;;){if(void 0===te[ce.gridY+d]||-1==te[ce.gridY+d][e+s])break;a=te[ce.gridY+d][e+s+1],d++,i++}var u=0,h=0;return Math.abs(r-n)<Math.abs(r-i)&&0!=n?(u=n,h=o):0!=i?(u=i,h=a):u=r,{newHeight:u,idToResize:h}}function N(e,t,i){i||(i=!1);var n=ce.colWidth,s=ce.currentGap,r=ie[e],o=r.imgWidth,a=r.imgHeight,l=o/a;if(dimWidth=t,dimHeight=Math.round(dimWidth/l),1==i){var d=jQuery.extend(!0,{},r);return d.dimWidth=dimWidth,d.dimHeight=dimHeight,d.width=dimWidth*n+s*(dimWidth-1),d.height=dimHeight*n+s*(dimHeight-1),d}r.dimWidth=dimWidth,r.dimHeight=dimHeight,r.width=dimWidth*n+s*(dimWidth-1),r.height=dimHeight*n+s*(dimHeight-1)}function H(e,t,i){i||(i=!1);var n=ie[e],s=n.dimWidth,r=ce.colWidth,o=ce.currentGap;if(1==i){var a=jQuery.extend(!0,{},n);return a.dimHeight=t,a.width=s*r+o*(s-1),a.height=t*r+o*(t-1),a}n.dimHeight=t,n.width=s*r+o*(s-1),n.height=t*r+o*(t-1)}function D(e){for(var t=0,i=0,n=0;n<e.length;n++){var s=ie[e[n].tileID];if(0==s.dimHeight||0==s.height)return;resizeVal=s.dimWidth/s.dimHeight/(s.imgWidth/s.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),t+=resizeVal,i++}return t/i}function R(e,t){var i=ce.gridY-1;return!(i<=0||0==W(i))&&te[i][t+e-1]!=te[i][t+e]}function $(e){var t=e,i=0;if(1==W(ce.gridY))for(;0==G(ce.gridY,t);)i++,t++;else i=ce.maxColumns;return i}function W(e){return void 0!==te[e]}function B(e,t,i,n){for(var s=0;s<t.dimHeight;s++)for(var r=0;r<t.dimWidth;r++)0==W(n+s)&&F(n+s),Q(n+s,i+r,e)}function F(e){te[e]=new Object;for(var t=0;t<ce.maxColumns;t++)te[e][t]=-1}function G(e,t){return-1!=te[e][t]}function Q(e,t,i){te[e][t]=i}function V(e){if(!e)var e=!1;r();for(var t=0;t<ie.length;t++)Y(t,e);J.height(ce.maxColHeight),a()}function Y(e,t){var i=le.getThumbByIndex(e),n=ie[e],s=n.top*(ce.colWidth+ce.currentGap),r=ce.addX+n.left*(ce.colWidth+ce.currentGap);ae.resizeTile(i,n.width,n.height,ae.resizemode.VISIBLE_ELEMENTS),oe.placeElement(i,r,s),s+n.height>ce.maxColHeight&&(ce.maxColHeight=s+n.height),1==t&&i.fadeTo(0,1)}function U(){if(1==he.isFirstTimeRun)return!0;if(0==he.isAllLoaded)return!1;switch(ue.tiles_type){case"columns":p(!1);break;case"justified":y(!1);break;case"nested":1==re.isMobileMode()?p(!1):x(!1)}}function X(){se.on(ne.events.ALL_TILES_LOADED,function(){he.isAllLoaded=!0}),Z.on(re.events.SIZE_CHANGE,U),Z.on(ne.events.TILES_FIRST_PLACED,function(){he.isFirstPlaced=!1}),ae.initEvents()}function q(){switch(K.children(".ug-tile").show(),1==he.isFirstTimeRun&&X(),ae.run(),ue.tiles_type){default:case"columns":_();break;case"justified":b();break;case"nested":w()}he.isFirstTimeRun=!1}var Z,K,J,ee,te,ie,ne=this,se=jQuery(this),re=new UniteGalleryMain,oe=new UGFunctions,ae=new UGTileDesign,le=new UGThumbsGeneral,de={},ue={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0};this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed",ALL_TILES_LOADED:"all_tiles_loaded"};var he={isFirstTimeRun:!0,handle:null,isTransActive:!1,isTransInited:!1,isFirstPlaced:!0,isAllLoaded:!1},ce={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};this.destroy=function(){Z.off(re.events.SIZE_CHANGE),ae.destroy(),Z.off(ne.events.TILES_FIRST_PLACED)},this.init=function(t,i){e(t,i)},this.setHtml=function(e){i(e)},this.getObjTileDesign=function(){return ae},this.run=function(){q()},this.runNewItems=function(){if(!J)throw new Error("Can't run new items - parent not set");switch(ae.setHtml(J,!0),ae.run(!0),ue.tiles_type){case"columns":_();break;default:case"justified":case"nested":throw new Error("Tiles type: "+ue.tiles_type+" not support load more yet")}}}function UGTileDesign(){function e(e,i){$=e,O=jQuery(e);var s=$.getObjects();N=s.g_objWrapper,H=$.getArrItems(),F=jQuery.extend(F,G),F=jQuery.extend(F,i),t(),B.init(e,F);var r={allow_onresize:!1},o=["overlay"];Q.funcCustomTileHtml&&(o=[]),B.setCustomThumbs(n,o,r);var a=B.getOptions();F=jQuery.extend(F,a),Q.ratioByWidth=F.tile_width/F.tile_height,Q.ratioByHeight=F.tile_height/F.tile_width,F.tile_size_by==D.sizeby.GLOBAL_RATIO&&Q.isTextpanelOutside&&(Q.hasImageContainer=!0)}function t(){if(1==F.tile_enable_overlay?(F.thumb_overlay_opacity=F.tile_overlay_opacity,F.thumb_overlay_color=F.tile_overlay_color):0==F.tile_enable_icons?F.thumb_color_overlay_effect=!1:F.thumb_overlay_opacity=0,F.tile_as_link&&(F.thumb_wrapper_as_link=!0,F.thumb_link_newpage=F.tile_link_newpage),1==F.tile_enable_outline&&0==F.tile_enable_border&&(F.tile_enable_outline=!1),Q.tileInnerReduce=0,F.tile_enable_border&&(Q.tileInnerReduce=2*F.tile_border_width,B.setThumbInnerReduce(Q.tileInnerReduce)),Q.isSaparateIcons=!W.isRgbaSupported(),1==F.tile_enable_textpanel){switch(F.tile_textpanel_position){case"top":F.tile_textpanel_align="top";case"bottom":Q.isTextpanelOutside=!0,F.tile_textpanel_always_on=!0,F.tile_textpanel_offset=0;break;case"inside_top":F.tile_textpanel_align="top";break;case"middle":F.tile_textpanel_align="middle",F.tile_textpanel_appear_type="fade"}0==F.tile_textpanel_always_on&&(Q.isSaparateIcons=!0)}0!=F.tile_textpanel_offset&&(F.tile_textpanel_appear_type="fade",F.tile_textpanel_margin=F.tile_textpanel_offset),"title_and_desc"==F.tile_textpanel_source&&(F.tile_textpanel_enable_description=!0,F.tile_textpanel_desc_style_as_title=!0)}function i(){var e=$.isMobileMode();switch(Q.isTextPanelHidden=!1,1==e&&0==F.tile_textpanel_always_on&&(Q.isTextPanelHidden=!0),Q.isVideoplayIconAlwaysOn=F.tile_videoplay_icon_always_on,F.tile_videoplay_icon_always_on){case"always":Q.isVideoplayIconAlwaysOn=!0;break;case"never":Q.isVideoplayIconAlwaysOn=!1;break;case"mobile_only":Q.isVideoplayIconAlwaysOn=1==e;break;case"desktop_only":Q.isVideoplayIconAlwaysOn=0==e}}function n(e,t){if(e.addClass("ug-tile"),Q.funcCustomTileHtml)return Q.funcCustomTileHtml(e,t),!1;var i="";1==Q.hasImageContainer&&(i+="<div class='ug-image-container ug-trans-enabled'>");var n="ug-thumb-image";0!=F.tile_enable_image_effect&&1!=F.tile_image_effect_reverse||(n+=" ug-trans-enabled");var s=W.stripTags(t.title);s=W.htmlentitles(s),i+='<img src="'+W.escapeDoubleSlash(t.urlThumb)+"\" alt='"+s+"' class='"+n+"'>",1==Q.hasImageContainer&&(i+="</div>"),e.append(i),F.tile_size_by==D.sizeby.GLOBAL_RATIO&&e.fadeTo(0,0);var r={};if(1==F.tile_enable_background&&(r["background-color"]=F.tile_background_color),
1==F.tile_enable_border&&(r["border-width"]=F.tile_border_width+"px",r["border-style"]="solid",r["border-color"]=F.tile_border_color,F.tile_border_radius&&(r["border-radius"]=F.tile_border_radius+"px")),1==F.tile_enable_outline&&(r.outline="1px solid "+F.tile_outline_color),1==F.tile_enable_shadow){var o=F.tile_shadow_h+"px ";o+=F.tile_shadow_v+"px ",o+=F.tile_shadow_blur+"px ",o+=F.tile_shadow_spread+"px ",o+=F.tile_shadow_color,r["box-shadow"]=o}e.css(r);var a="";if(F.tile_enable_icons){if(0==F.tile_as_link&&1==F.tile_enable_action){var l="ug-button-play ug-icon-zoom";"image"!=t.type&&(l="ug-button-play ug-icon-play"),a+="<div class='ug-tile-icon "+l+"' style='display:none'></div>"}if(t.link&&1==F.tile_show_link_icon||1==F.tile_as_link)if(0==F.tile_as_link){var d="";1==F.tile_link_newpage&&(d=" target='_blank'"),a+="<a href='"+t.link+"'"+d+" class='ug-tile-icon ug-icon-link'></a>"}else a+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>";var h=Q.isSaparateIcons;if(0==h&&"image"!=t.type&&1==Q.isVideoplayIconAlwaysOn&&(h=!0),h)var c=e;else var c=e.children(".ug-thumb-overlay");c.append(a);var p=c.children("."+l);0==p.length?p=null:p.hide();var f=c.children(".ug-icon-link");0==f.length?f=null:f.hide(),f||1!=F.tile_enable_action||e.addClass("ug-tile-clickable")}else 1==F.tile_enable_action&&e.addClass("ug-tile-clickable");if(1==F.tile_enable_image_effect){var g="";0==F.tile_image_effect_reverse&&(g=" ug-trans-enabled");var m="<div class='ug-tile-image-overlay"+g+"' >",_=" ug-"+F.tile_image_effect_type+"-effect";m+='<img src="'+W.escapeDoubleSlash(t.urlThumb)+"\" alt='"+t.title+"' class='"+_+g+"'>",m+="</div>",e.append(m),1==F.tile_image_effect_reverse&&e.children(".ug-tile-image-overlay").fadeTo(0,0)}if(1==F.tile_enable_textpanel){var v=new UGTextPanel;v.init($,F,"tile");var y="";1!=F.tile_textpanel_always_on&&1!=Q.isTextpanelOutside||(y="ug-trans-enabled"),v.appendHTML(e,y);var b=t.title,w="";switch(F.tile_textpanel_source){case"desc":case"description":b=t.description;break;case"desc_title":""!=t.description&&(b=t.description);break;case"title_and_desc":b=t.title,w=t.description}if(v.setTextPlain(b,w),0==F.tile_textpanel_always_on&&v.getElement().fadeTo(0,0),e.data("objTextPanel",v),1==F.tile_textpanel_always_on){u(e).css("z-index",2)}if(1==Q.isTextpanelOutside){e.append("<div class='ug-tile-cloneswrapper'></div>");var S=e.children(".ug-tile-cloneswrapper"),x=new UGTextPanel;x.init($,F,"tile"),x.appendHTML(S),x.setTextPlain(b,w),e.data("objTextPanelClone",x)}}null!==t.addHtml&&e.append(t.addHtml)}function s(e){return e.children(".ug-tile-image-overlay")}function r(e){return e.children(".ug-thumb-overlay")}function o(e){return 0==Q.hasImageContainer?null:e.children(".ug-image-container")}function a(e){return e.find(".ug-tile-image-overlay img")}function l(e){return e.data("objTextPanel")}function d(e){return e.data("objTextPanelClone")}function u(e){return e.children(".ug-textpanel")}function h(e){var t=e.find(".ug-tile-cloneswrapper .ug-textpanel");if(0==t.length)throw new Error("text panel cloned element not found");return t}function c(e){if(1==Q.isTextpanelOutside)var t=h(e);else var t=u(e);return t?W.getElementSize(t).height:0}function p(e){var t=e.find(".ug-icon-link");return 0==t.length?null:t}function f(e){var t=Q.ratioByHeight;switch(F.tile_size_by){default:t=Q.ratioByHeight;break;case D.sizeby.IMAGE_RATIO:if(!e)throw new Error("tile should be given for tile ratio");var i=D.getItemByTile(e);if(void 0!==i.thumbRatioByHeight){if(0==i.thumbRatioByHeight)throw trace(i),new Error("the item ratio not inited yet");t=i.thumbRatioByHeight}break;case D.sizeby.CUSTOM:return null}return t}function g(e){var t=e.find(".ug-button-play");return 0==t.length?null:t}function m(e){return!!e.hasClass("ug-thumb-over")}function _(e){return e.hasClass("ug-tile-clickable")}function v(e){return 1==F.tile_enable_icons&&1==Q.isVideoplayIconAlwaysOn&&"image"!=e.type}function y(e,t,i,n){var r=s(e),l=D.getTileImage(e),d=a(e);t-=Q.tileInnerReduce,i-=Q.tileInnerReduce;var u=null;if(1==Q.isTextpanelOutside){var h=c(e);if(i-=h,"top"==F.tile_textpanel_position&&(u=h),1==Q.hasImageContainer){var p=o(e);W.setElementSize(p,t,i),null!==u&&W.placeElement(p,0,u)}}if(0==F.tile_enable_image_effect)W.scaleImageCoverParent(l,t,i),0==Q.hasImageContainer&&null!==u&&W.placeElement(l,0,u);else{var f="nothing";!0===n&&0==Q.isTextpanelOutside&&(f=1==F.tile_image_effect_reverse?"effect":"image"),"effect"!=f&&(W.setElementSize(r,t,i),null!==u&&W.placeElement(r,0,u),W.scaleImageCoverParent(d,t,i)),"image"!=f&&(1==Q.hasImageContainer?W.scaleImageCoverParent(l,t,i):"effect"==f?(W.scaleImageCoverParent(l,t,i),null!==u&&W.placeElement(l,0,u)):W.cloneElementSizeAndPos(d,l,!1,null,u))}}function b(e,t,i,n){var s=null;if(i&&(s=i-Q.tileInnerReduce),n&&(n-=Q.tileInnerReduce),"clone"==t){d(e).refresh(!0,!0,s);return D.getItemByTile(e).textPanelCloneSizeSet=!0,!1}var r=l(e);if(!r)return!1;var o=null;if(1==Q.isTextpanelOutside&&(o=c(e)),r.refresh(!1,!0,s,o),1==F.tile_textpanel_always_on||"fade"==F.tile_textpanel_appear_type)if(1==Q.isTextpanelOutside&&n&&"bottom"==F.tile_textpanel_position){var a=n-o;r.positionPanel(a)}else r.positionPanel()}function w(e){var t=(D.getItemByTile(e),g(e)),i=p(e),n=W.getElementSize(e);y(e,n.width,n.height),1==F.tile_enable_textpanel&&b(e,"regular",n.width,n.height);var s=n.width-Q.tileInnerReduce,o=n.height-Q.tileInnerReduce,a=0;if(1==Q.isTextpanelOutside){var l=c(e);o-=l,"top"==F.tile_textpanel_position&&(a=l)}var d=r(e);if(W.setElementSizeAndPosition(d,0,a,s,o),t||i){var h=0;if(1==F.tile_enable_textpanel&&0==Q.isTextPanelHidden&&0==Q.isTextpanelOutside){var f=u(e),m=W.getElementSize(f);m.height>0&&(h=Math.floor(m.height/2*-1))}}if(t&&i){var _=W.getElementSize(t),v=W.getElementSize(i),w=F.tile_space_between_icons,S=_.width+w+v.width,x=Math.floor((n.width-S)/2);x<w&&(w=Math.floor((n.width-_.width-v.width)/3),S=_.width+w+v.width,x=Math.floor((n.width-S)/2)),W.placeElement(t,x,"middle",0,h),W.placeElement(i,x+_.width+w,"middle",0,h)}else t&&W.placeElement(t,"center","middle",0,h),i&&W.placeElement(i,"center","middle",0,h);t&&t.show(),i&&i.show()}function S(e,t){var i=(D.getItemByTile(e),s(e)),n=F.thumb_transition_duration;if(0==F.tile_image_effect_reverse){var r=D.getTileImage(e);t?(r.fadeTo(0,1),i.stop(!0).fadeTo(n,0)):i.stop(!0).fadeTo(n,1)}else t?i.stop(!0).fadeTo(n,1):i.stop(!0).fadeTo(n,0)}function x(e,t){var i=F.thumb_transition_duration,n=u(e);if(!n)return!0;if("slide"==F.tile_textpanel_appear_type){var s=W.getElementSize(n);if(0==s.width)return!1;var r=-s.height,o={},a={},l="bottom";"inside_top"==F.tile_textpanel_position&&(l="top"),o[l]=r+"px",a[l]="0px",1==t?(n.fadeTo(0,1),0==n.is(":animated")&&n.css(o),a.opacity=1,n.stop(!0).animate(a,i)):n.stop(!0).animate(o,i)}else 1==t?n.stop(!0).fadeTo(i,1):n.stop(!0).fadeTo(i,0)}function E(e,t,i){var n=F.thumb_transition_duration;i&&!0===i&&(n=0);var s=g(e),r=p(e),o=t?1:0;s&&s.stop(!0).fadeTo(n,o),r&&r.stop(!0).fadeTo(n,o)}function T(e,t){if(t=jQuery(t),F.tile_enable_image_effect&&S(t,!0),1==F.tile_enable_textpanel&&0==F.tile_textpanel_always_on&&0==Q.isTextPanelHidden&&x(t,!0),Q.isSaparateIcons&&1==F.tile_enable_icons){var i=1==F.thumb_overlay_reverse;0==v(D.getItemByTile(t))&&E(t,i,!1)}}function C(e,t){if(t=jQuery(t),F.tile_enable_image_effect&&S(t,!1),1==F.tile_enable_textpanel&&0==F.tile_textpanel_always_on&&x(t,!1),1==Q.isSaparateIcons&&1==F.tile_enable_icons){var i=1!=F.thumb_overlay_reverse;0==v(D.getItemByTile(t))?E(t,i,!1):E(t,!0,!0)}}function I(e){B.getThumbs().not(e).each(function(e,t){B.setThumbNormalStyle(jQuery(t))})}function M(e,t,i){if(t=jQuery(t),1==F.tile_visible_before_image&&!0!==t.data("image_placed")&&!0!==i)return!0;w(t),B.setThumbNormalStyle(t)}function P(e,t,i){w(t),i.fadeTo(0,1),t.data("image_placed",!0)}function L(e){if(1==_(e))return R.trigger(D.events.TILE_CLICK,e),!0;0==m(e)&&(I(e),B.setThumbOverStyle(e))}function j(e){var t=jQuery(this),i=t.prop("tagName").toLowerCase(),n=!0;if(Q.funcParentApproveClick&&0==Q.funcParentApproveClick()&&(n=!1),"a"==i)0==n&&e.preventDefault();else if(0==m(t))1==n&&L(t);else{if(0==_(t))return!0;1==n&&R.trigger(D.events.TILE_CLICK,t)}}function A(e){e.stopPropagation();var t=jQuery(this).parents(".ug-tile"),i=!0;return Q.funcParentApproveClick&&0==Q.funcParentApproveClick()&&(i=!1),0==m(t)?(L(t),!0):1==i?(R.trigger(D.events.TILE_CLICK,t),!1):void 0}function k(e){var t=jQuery(this).parents(".ug-tile");Q.funcParentApproveClick&&0==Q.funcParentApproveClick()&&e.preventDefault(),0==m(t)&&0==F.tile_as_link&&(e.preventDefault(),L(t))}var O,z,N,H,D=this,R=jQuery(this),$=new UniteGalleryMain,W=new UGFunctions,B=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var F={tile_width:250,tile_height:200,tile_size_by:D.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:"#F0F0F0",tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:"never",tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0},G={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},Q={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1,isVideoplayIconAlwaysOn:!1,isTextPanelHidden:!1};this.loadTileImage=function(e){var t=D.getTileImage(e);W.checkImagesLoaded(t,null,function(t,i){P(null,e,jQuery(t))})},this.setHtml=function(e,t){z=e,!0!==t&&i(),B.setHtmlThumbs(e,t)},this.initEvents=function(){B.initEvents(),jQuery(B).on(B.events.SETOVERSTYLE,T),jQuery(B).on(B.events.SETNORMALSTYLE,C),jQuery(B).on(B.events.PLACEIMAGE,P),N.on(Q.eventSizeChange,M),z.on("click",".ug-tile",j),z.on("click",".ug-tile .ug-button-play",A),z.on("click",".ug-tile .ug-icon-link",k)},this.destroy=function(){if(z.off("click",".ug-tile"),z.off("click",".ug-tile .ug-button-play"),z.off("click",".ug-tile .ug-icon-link"),jQuery(B).off(B.events.SETOVERSTYLE),jQuery(B).off(B.events.SETNORMALSTYLE),jQuery(B).off(B.events.PLACEIMAGE),N.off(Q.eventSizeChange),1==F.tile_enable_textpanel){var e=B.getThumbs();jQuery.each(e,function(e,t){var i=l(jQuery(t));i&&i.destroy()})}B.destroy()},this.init=function(t,i,n){e(t,i)},this.setFixedMode=function(){F.tile_size_by=D.sizeby.GLOBAL_RATIO,F.tile_visible_before_image=!0},this.setApproveClickFunction=function(e){Q.funcParentApproveClick=e},this.resizeTile=function(e,t,i,n){if(1==Q.isTextpanelOutside&&b(e,"clone",t),t){if(!i)var i=D.getTileHeightByWidth(t,e)}else var t=F.tile_width,i=F.tile_height;switch(W.setElementSize(e,t,i),n){default:case D.resizemode.FULL:D.triggerSizeChangeEvent(e,!0);break;case D.resizemode.WRAPPER_ONLY:return!0;case D.resizemode.VISIBLE_ELEMENTS:if(Q.funcCustomTileHtml)return D.triggerSizeChangeEvent(e,!0),!0;y(e,t,i,!0),1==F.tile_enable_textpanel&&1==F.tile_textpanel_always_on&&t&&b(e,"regular",t,i)}},this.resizeAllTiles=function(e,t,n){i();var s=null;if(F.tile_size_by==D.sizeby.GLOBAL_RATIO&&(s=D.getTileHeightByWidth(e)),!n)var n=B.getThumbs();n.each(function(i,n){D.resizeTile(jQuery(n),e,s,t)})},this.triggerSizeChangeEvent=function(e,t){if(!e)return!1;if(!t)var t=!1;N.trigger(Q.eventSizeChange,[e,t])},this.triggerSizeChangeEventAllTiles=function(e){B.getThumbs().each(function(){var t=jQuery(this);D.triggerSizeChangeEvent(t,e)})},this.disableEvents=function(){B.getThumbs().css("pointer-events","none")},this.enableEvents=function(){B.getThumbs().css("pointer-events","auto")},this.setOptions=function(e){F=jQuery.extend(F,e),B.setOptions(e)},this.setTileSizeOptions=function(e){if(F.tile_size_by!==D.sizeby.GLOBAL_RATIO)throw new Error("setNewTileOptions works with global ration only");F.tile_width=e,F.tile_height=Math.floor(e*Q.ratioByHeight)},this.setCustomFunctions=function(e,t){Q.funcCustomTileHtml=e,Q.funcCustomPositionElements=t},this.run=function(e){var t=B.type.GET_THUMBS_ALL;!0===e&&(t=B.type.GET_THUMBS_NEW);var i=B.getThumbs(t);F.tile_size_by==D.sizeby.GLOBAL_RATIO&&D.resizeAllTiles(F.tile_width,D.resizemode.WRAPPER_ONLY,i),1==F.tile_enable_image_effect&&0==F.tile_image_effect_reverse&&i.children(".ug-thumb-image").fadeTo(0,0),B.setHtmlProperties(i),1==F.tile_visible_before_image&&(i.children(".ug-thumb-image").fadeTo(0,0),B.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return B},this.getOptions=function(){return F},this.getTileImage=function(e){return e.find("img.ug-thumb-image")},this.getItemByTile=function(e){return B.getItemByThumb(e)},this.getTileHeightByWidth=function(e,t){var i=f(t);if(null===i)return null;var n=Math.floor((e-Q.tileInnerReduce)*i)+Q.tileInnerReduce;return t&&1==Q.isTextpanelOutside&&F.tile_size_by==D.sizeby.IMAGE_RATIO&&(n+=c(t)),n},this.getTileImageSize=function(e){var t=D.getItemByTile(e);if(!t.thumbWidth||!t.thumbHeight)throw new Error("Can't get image size - image not inited.");return{width:t.thumbWidth,height:t.thumbHeight}},this.getGlobalTileSize=function(){if(F.tile_size_by!=D.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");return{width:F.tile_width,height:F.tile_height}}}function UGAviaControl(){function e(e){return 0==g?e.pageX:e.pageY}function t(t){jQuery("body").on("touchstart",function(e){if(0==m.isControlEnabled)return!0;m.touchEnabled=!0}),jQuery("body").mousemove(function(t){if(0==m.isControlEnabled)return!0;if(1==m.touchEnabled)return jQuery("body").off("mousemove"),!0;m.isMouseInsideStrip=c.ismouseover();var i=d.isTouchMotionActive();if(1==m.isMouseInsideStrip&&0==i){l(e(t))}else o()})}function i(e){var t=f.strip_padding_top,i=(f.strip_padding_bottom,c.height()),n=p.height();if(i>n)return null;var s=c.offset(),r=s.top,o=e-r-t;if(o<0)return null;var a=f.thumb_height,l=i-f.thumb_height,d=l-a;o<a&&(o=a),o>l&&(o=l);var u=(o-a)/d,h=(n-i)*u;return h=-1*Math.round(h)+t}function n(e){var t=f.strip_padding_left,i=f.strip_padding_right,n=c.width()-t-i,s=p.width();if(n>s)return null;var r=c.offset(),o=r.left,a=e-o-t,l=f.thumb_width,d=n-f.thumb_width,u=d-l;a<l&&(a=l),a>d&&(a=d);var h=(a-l)/u,g=(s-n)*h;return g=-1*Math.round(g)+t}function s(){if(0==m.is_strip_moving)return!1;var e=d.getInnerStripPos();Math.floor(e)==Math.floor(m.strip_finalPos)&&o();var t,i=Math.abs(m.strip_finalPos-e);i<1?t=i:(t=i/4)>0&&t<1&&(t=1),m.strip_finalPos<e&&(t*=-1);var n=e+t;d.positionInnerStrip(n)}function r(){if(1==m.isStripMoving)return!1;m.isStripMoving=!0,m.handle_timeout=setInterval(s,10)}function o(){if(0==m.isStripMoving)return!1;m.isStripMoving=!1,m.handle_timeout=clearInterval(m.handle_timeout)}function a(e){return 0==g?n(e):i(e)}function l(e){var t=a(e);if(null===t)return!1;m.is_strip_moving=!0,m.strip_finalPos=t,r()}var d,u,h,c,p,f,g,m={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};this.enable=function(){m.isControlEnabled=!0},this.disable=function(){m.isControlEnabled=!1},this.init=function(e){d=e,h=e.getObjects(),u=h.g_gallery,c=h.g_objStrip,p=h.g_objStripInner,f=h.g_options,g=h.isVertical,t()},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}function UGSlider(){function e(e,t,n){_e=e,n&&(fe=n,t=Se.convertCustomPrefixOptions(t,fe,"slider")),te=jQuery(e);var s=_e.getObjects();if(ie=s.g_objWrapper,ne=s.g_objThumbs,t.hasOwnProperty("slider_progress_indicator_type")&&(Te.slider_progress_indicator_type=t.slider_progress_indicator_type),"bar"==Te.slider_progress_indicator_type&&(Te=jQuery.extend(Te,Ce)),t&&ge.setOptions(t),i(),1==Te.slider_enable_bullets){be=new UGBullets;var r={bullets_skin:Te.slider_bullets_skin,bullets_space_between:Te.slider_bullets_space_between};be.init(_e,r)}Te.slider_enable_text_panel&&(Ee=new UGTextPanel,Ee.init(_e,Te,"slider")),Te.slider_enable_zoom_panel&&(pe=new UGZoomButtonsPanel,pe.init(ge,Te));var o=_e.getGalleryID();we.init(Te,!1,o)}function t(){if(1==Ie.isRunOnce)return!1;if(Ie.isRunOnce=!0,Te.slider_background_color){var e=Te.slider_background_color;1!=Te.slider_background_opacity&&(e=Se.convertHexToRGB(e,Te.slider_background_opacity)),se.css("background-color",e)}else 1!=Te.slider_background_opacity&&(e=Se.convertHexToRGB("#000000",Te.slider_background_opacity),se.css("background-color",e));1==Te.slider_control_swipe&&(he=new UGTouchSliderControl,he.init(ge,Te)),1==Te.slider_control_zoom&&(ce=new UGZoomSliderControl,ce.init(ge,Te)),Ee&&Ee.run(),U()}function i(){var e=_e.getOptions(),t=e.gallery_skin;""==Te.slider_bullets_skin&&(Te.slider_bullets_skin=t),""==Te.slider_arrows_skin&&(Te.slider_arrows_skin=t),""==Te.slider_zoompanel_skin&&(Te.slider_zoompanel_skin=t),""==Te.slider_play_button_skin&&(Te.slider_play_button_skin=t),""==Te.slider_fullscreen_button_skin&&(Te.slider_fullscreen_button_skin=t),Te.video_enable_closebutton=Te.slider_video_enable_closebutton,"zoom"!=e.gallery_mousewheel_role&&(Te.slider_zoom_mousewheel=!1)}function n(e,t){var i="ug-type-square";"round"==Te.slider_videoplay_button_type&&(i="ug-type-round");var n="";return n+="<div class='ug-slide-wrapper ug-slide"+t+"'>",n+="<div class='ug-item-wrapper'></div>",n+="<div class='ug-slider-preloader "+e+"'></div>",n+="<div class='ug-button-videoplay "+i+"' style='display:none'></div>",n+="</div>"}function s(e){e&&(ie=e);var t=X(),i=(_e.getOptions(),"<div class='ug-slider-wrapper'>");if(i+="<div class='ug-slider-inner'>",i+=n(t,1),i+=n(t,2),i+=n(t,3),i+="</div>",1==Te.slider_enable_arrows&&(i+="<div class='ug-slider-control ug-arrow-left ug-skin-"+Te.slider_arrows_skin+"'></div>",i+="<div class='ug-slider-control ug-arrow-right ug-skin-"+Te.slider_arrows_skin+"'></div>"),1==Te.slider_enable_play_button&&(i+="<div class='ug-slider-control ug-button-play ug-skin-"+Te.slider_play_button_skin+"'></div>"),1==Te.slider_enable_fullscreen_button&&(i+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+Te.slider_fullscreen_button_skin+"'></div>"),i+="</div>",ie.append(i),se=ie.children(".ug-slider-wrapper"),re=se.children(".ug-slider-inner"),oe=re.children(".ug-slide1"),ae=re.children(".ug-slide2"),le=re.children(".ug-slide3"),oe.data("slidenum",1),ae.data("slidenum",2),le.data("slidenum",3),be&&be.appendHTML(se),1==Te.slider_enable_arrows&&(de=se.children(".ug-arrow-left"),ue=se.children(".ug-arrow-right")),1==Te.slider_enable_play_button&&(ve=se.children(".ug-button-play")),1==Te.slider_enable_fullscreen_button&&(ye=se.children(".ug-button-fullscreen")),1==Te.slider_enable_progress_indicator){xe=Se.initProgressIndicator(Te.slider_progress_indicator_type,Te,se);"bar"==xe.getType()&&"pie"==Te.slider_progress_indicator_type&&(Te.slider_progress_indicator_type="bar",Te=jQuery.extend(Te,Ce)),_e.setProgressIndicator(xe)}if(1==Te.slider_enable_text_panel&&(Ee.appendHTML(se),0==Te.slider_textpanel_always_on)){Ee.getElement().hide().data("isHidden",!0),Ie.isTextPanelSaparateHover=!0}1==Te.slider_enable_zoom_panel&&pe.appendHTML(se),we.setHtml(re)}function r(e){var t=K(e);Se.placeElementInParentCenter(t);var i=J(e);Se.placeElementInParentCenter(i)}function o(){if(be&&(objBullets=be.getElement(),Se.placeElement(objBullets,Te.slider_bullets_align_hor,Te.slider_bullets_align_vert,Te.slider_bullets_offset_hor,Te.slider_bullets_offset_vert),Se.placeElement(objBullets,Te.slider_bullets_align_hor,Te.slider_bullets_align_vert,Te.slider_bullets_offset_hor,Te.slider_bullets_offset_vert)),1==Te.slider_enable_arrows&&(Se.placeElement(de,Te.slider_arrow_left_align_hor,Te.slider_arrow_left_align_vert,Te.slider_arrow_left_offset_hor,Te.slider_arrow_left_offset_vert),Se.placeElement(ue,Te.slider_arrow_right_align_hor,Te.slider_arrow_left_align_vert,Te.slider_arrow_right_offset_hor,Te.slider_arrow_right_offset_vert)),0==Te.slider_controls_always_on&&j(!0),xe){var e=xe.getElement();if("bar"==Te.slider_progress_indicator_type){var t=se.width();xe.setSize(t),Se.placeElement(e,"left",Te.slider_progress_indicator_align_vert,0,Te.slider_progress_indicator_offset_vert)}else Se.placeElement(e,Te.slider_progress_indicator_align_hor,Te.slider_progress_indicator_align_vert,Te.slider_progress_indicator_offset_hor,Te.slider_progress_indicator_offset_vert)}Ee&&Ee.positionPanel(),a(),r(oe),r(ae),r(le),P()}function a(){if(ve&&Se.placeElement(ve,Te.slider_play_button_align_hor,Te.slider_play_button_align_vert,Te.slider_play_button_offset_hor,Te.slider_play_button_offset_vert),ye&&Se.placeElement(ye,Te.slider_fullscreen_button_align_hor,Te.slider_fullscreen_button_align_vert,Te.slider_fullscreen_button_offset_hor,Te.slider_fullscreen_button_offset_vert),pe){var e=pe.getElement();Se.placeElement(e,Te.slider_zoompanel_align_hor,Te.slider_zoompanel_align_vert,Te.slider_zoompanel_offset_hor,Te.slider_zoompanel_offset_vert)}}function l(){var e,t,i,n,s=ge.getSlidesReference(),r=0;i=ge.isSlideHasItem(s.objNextSlide),n=ge.isSlideHasItem(s.objPrevSlide),n?(r=s.objPrevSlide.outerWidth(),s.objPrevSlide.css("z-index",1)):s.objPrevSlide.hide(),t=r+s.objCurrentSlide.outerWidth(),e=t,i?(e=t+s.objNextSlide.outerWidth(),s.objPrevSlide.css("z-index",2)):s.objNextSlide.hide(),s.objCurrentSlide.css("z-index",3),Se.placeElement(s.objCurrentSlide,r,0),re.css({left:-r+"px",width:e+"px"}),n&&(Se.placeElement(s.objPrevSlide,0,0),Se.showElement(s.objPrevSlide)),i&&(Se.showElement(s.objNextSlide),Se.placeElement(s.objNextSlide,t,0))}function d(e){var t=e.data("index");if(void 0===t||null==t)return!1;var i=_e.getItem(t);if(!i)return!1;m(e,i)}function u(e){e.stop(!0).show(100)}function h(e){e.stop(!0).hide(100)}function c(e,t){var i=Te.slider_image_border_width;if(i<=10)return i;var n=Se.getElementSize(e),s=n.width,r=n.height;if(t&&(t.hasOwnProperty("imageWidth")&&(s=t.imageWidth),t.hasOwnProperty("imageHeight")&&(r=t.imageHeight)),s<=0)return i;var o=s<r?s:r;if(2*i/o<Te.slider_image_border_maxratio)return i;var i=o*Te.slider_image_border_maxratio/2;return i=Math.round(i)}function p(e,t,i){var n={};if(1==Te.slider_image_border){n["border-style"]="solid";var s=c(e,i);n["border-width"]=s+"px",n["border-color"]=Te.slider_image_border_color,n["border-radius"]=Te.slider_image_border_radius}"image"!=t&&1==Te.slider_video_constantsize&&(n["background-color"]="#000000"),1==Te.slider_image_shadow&&(n["box-shadow"]="3px 3px 10px 0px #353535"),e.css(n)}function f(e,t){var i=Te.slider_video_constantsize_width,n=Te.slider_video_constantsize_height,s=Te.slider_video_constantsize_scalemode;return Se.scaleImageExactSizeInParent(e,t.imageWidth,t.imageHeight,i,n,s)}function g(e,t,i){var n=e.children(".ug-item-wrapper"),s=K(e);if(void 0===t.urlImage||""==t.urlImage)throw new Error("The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.","showbig");var r=t.urlImage,o=e.data("urlImage");e.data("urlImage",r);var a=ge.getScaleMode(e),l=ge.getSlideType(e);if(objPadding=ge.getObjImagePadding(),o==r&&!0!==i){var d=n.children("img");0!=t.imageWidth&&0!=t.imageHeight||_e.checkFillImageSize(d,t);var c={};c="image"!=l&&1==Te.slider_video_constantsize?f(d,t):Se.scaleImageFitParent(d,t.imageWidth,t.imageHeight,a,objPadding),p(d,l,c),me.trigger(ge.events.AFTER_PUT_IMAGE,e)}else if(d=Se.placeImageInsideParent(r,n,t.imageWidth,t.imageHeight,a,objPadding),1==t.isBigImageLoaded){if(d.fadeTo(0,1),h(s),"image"!=l&&1==Te.slider_video_constantsize)var c=f(d,t);else var c=Se.getImageInsideParentData(n,t.imageWidth,t.imageHeight,a,objPadding);d.css("width",c.imageWidth+"px"),p(d,l,c),me.trigger(ge.events.AFTER_PUT_IMAGE,e)}else d.fadeTo(0,0),u(s),e.data("isLoading",!0),ge.isSlideCurrent(e)&&me.trigger(ge.events.CURRENTSLIDE_LOAD_START),d.data("itemIndex",t.index),d.on("load",function(){var e=jQuery(this),t=e.data("itemIndex");e.fadeTo(0,1);var i=e.parent().parent(),n=ge.getSlideType(i),s=K(i),r=ge.getObjImagePadding(),o=ge.getScaleMode(i);h(s),i.data("isLoading",!1),ge.isSlideCurrent(i)&&me.trigger(ge.events.CURRENTSLIDE_LOAD_END),_e.onItemBigImageLoaded(null,e);var a=_e.getItem(t),l={};"image"!=n&&1==Te.slider_video_constantsize?f(e,a):l=Se.scaleImageFitParent(e,a.imageWidth,a.imageHeight,o,r),e.fadeTo(0,1),p(e,n,l),me.trigger(ge.events.AFTER_PUT_IMAGE,i)})}function m(e,t){try{var i=e.children(".ug-item-wrapper");if(null==t)return i.html(""),e.removeData("index"),e.removeData("type"),e.removeData("urlImage"),!1;e.data("index");e.data("index",t.index),e.data("type",t.type),1==Te.slider_enable_links&&"image"==t.type&&(t.link?e.addClass("ug-slide-clickable"):e.removeClass("ug-slide-clickable")),g(e,t);var n=J(e);switch(t.type){case"image":n.hide();break;default:n.show()}}catch(e){throw void 0!==e.fileName&&"showbig"==e.fileName&&_e.showErrorMessageReplaceGallery(e.message),i.html(""),new Error(e)}}function _(){if(!Ee)return!1;if(1==y())return!1;var e=Ee.getElement(),t=0;1!=Ie.isTextPanelSaparateHover&&1!=Te.slider_textpanel_always_on||(t=Te.slider_controls_appear_duration),e.stop().fadeTo(t,0),e.data("isHidden",!0)}function v(){if(!Ee)return!1;if(0==y())return!1;var e=Ee.getElement(),t=0;1!=Ie.isTextPanelSaparateHover&&1!=Te.slider_textpanel_always_on||(e.show(),Ee.positionElements(),t=Te.slider_controls_appear_duration),e.stop().show().fadeTo(t,1),e.data("isHidden",!1)}function y(){return!1!==Ee.getElement().data("isHidden")}function b(e,t){if(void 0==t)var t=ge.getCurrentSlide();var i=ge.getSlideType(t);if(i!=e)throw new Error("Wrong slide type: "+i+", should be: "+e);return!0}function w(){var e=ge.getCurrentSlide(),t=ge.getSlideImage(e),i=Se.getElementSize(e),n=i.left,s=i.top;if(1==Te.slider_video_constantsize){var r=Se.getElementSize(t);n+=r.left,s+=r.top}else n+=Te.slider_video_padding_left,s+=Te.slider_video_padding_top;we.setPosition(n,s)}function S(){var e=Te.slider_video_constantsize_width,t=Te.slider_video_constantsize_height;we.setSize(e,t),p(we.getObject(),"video")}function x(e,t,i){me.trigger(ge.events.TRANSITION_START);var n=Te.slider_transition;switch(i&&(n=i),ge.stopSlideAction(null,!0),n){default:case"fade":C(t);break;case"slide":E(e,t);break;case"lightbox_open":C(t,!1,!0)}}function E(e,t){if(1==ge.isAnimating())return Ie.itemWaiting=t,!0;null!=Ie.itemWaiting&&(Ie.itemWaiting=null);var i=ge.getSlidesReference();switch(e){case"right":m(i.objPrevSlide,t),l();var n=Se.getElementSize(i.objPrevSlide),s=-n.left;ge.switchSlideNums("right");break;case"left":m(i.objNextSlide,t),l();var r=Se.getElementSize(i.objNextSlide),s=-r.left;ge.switchSlideNums("left");break;default:throw new Error("wrong direction: "+e)}var o=Te.slider_transition_speed,a=Te.slider_transition_easing,d={duration:o,easing:a,queue:!1,always:function(){if(ge.stopSlideAction(),we.hide(),null!=Ie.itemWaiting){E(Z(Ie.itemWaiting),Ie.itemWaiting)}else ge.placeNabourItems(),me.trigger(ge.events.TRANSITION_END)}};re.animate({left:s+"px"},d)}function T(e,t,i){i?e.fadeTo(Te.slider_transition_speed,t,i):e.fadeTo(Te.slider_transition_speed,t)}function C(e,t,i){if(!t)var t=!1;var n=ge.getSlidesReference();m(n.objNextSlide,e);var s=Se.getElementSize(n.objCurrentSlide);Se.placeElement(n.objNextSlide,s.left,s.top);var r=Ie.numCurrent;if(Ie.numCurrent=Ie.numNext,Ie.numNext=r,me.trigger(ge.events.ITEM_CHANGED),n.objNextSlide.stop(!0),n.objCurrentSlide.stop(!0),1==t)n.objCurrentSlide.fadeTo(0,0),n.objNextSlide.fadeTo(0,1),ge.placeNabourItems(),me.trigger(ge.events.TRANSITION_END),!0!==i&&we.hide();else{if(n.objNextSlide.fadeTo(0,0),T(n.objCurrentSlide,0,function(){ge.placeNabourItems(),me.trigger(ge.events.TRANSITION_END),!0!==i&&we.hide()}),1==we.isVisible()){T(we.getObject(),0)}T(n.objNextSlide,1)}}function I(){1==Te.slider_fullscreen_button_mobilehide&&ye&&ye.hide(),1==Te.slider_play_button_mobilehide&&ve&&ve.hide(),1==Te.slider_zoompanel_mobilehide&&pe&&pe.getElement().hide()}function M(){1==Te.slider_fullscreen_button_mobilehide&&ye&&ye.show(),1==Te.slider_play_button_mobilehide&&ve&&ve.show(),1==Te.slider_zoompanel_mobilehide&&pe&&pe.getElement().show()}function P(){_e.isMobileMode()?I():M()}function L(){return se.children(".ug-slider-control")}function j(e){if(0==Se.isTimePassed("sliderControlsToggle"))return!1;if(0==Ie.isControlsVisible)return!1;if(!e)var e=!1;var t=L();!0===e?t.stop().fadeTo(0,0).hide():t.stop().fadeTo(Te.slider_controls_appear_duration,0,function(){t.hide()}),Ie.isControlsVisible=!1}function A(e){if(0==Se.isTimePassed("sliderControlsToggle"))return!1;if(1==Ie.isControlsVisible)return!0;if(!e)var e=!1;var t=L();!0===e?t.stop().show():(t.stop().show().fadeTo(0,0),t.fadeTo(Te.slider_controls_appear_duration,1)),Ie.isControlsVisible=!0}function k(){0==Ie.isControlsVisible?A():j()}function O(e){if(e==Ie.currentControlsMode)return!1;switch(e){case"image":pe&&pe.getElement().show();break;case"video":pe&&pe.getElement().hide();break;default:throw new Error("wrong controld mode: "+e)}Ie.currentControlsMode=e}function z(e,t,i){var n=_e.getSelectedItem();ge.setItem(n,!1,i);var s=n.index;be&&be.setActive(s),Ee&&0==Ie.isTextPanelSaparateHover&&v(),O("image"==n.type?"image":"video")}function N(e,t){_e.selectItem(t)}function H(e){if(he&&0==he.isTapEventOccured(e))return!0;me.trigger(ge.events.CLICK,e)}function D(){var e=ge.getCurrentSlide(),t=e.hasClass("ug-slide-clickable"),i=ge.getCurrentItem();if(t)return 0==Te.slider_links_newpage?location.href=i.link:window.open(i.link,"_blank"),!0;0==Te.slider_controls_always_on&&1==Te.slider_controls_appear_ontap&&1==ge.isCurrentSlideType("image")&&(k(),Ee&&1==Te.slider_textpanel_always_on&&ge.isCurrentSlideType("image")&&ge.isCurrentSlideImageFit()&&v())}function R(e){Ee&&ge.isCurrentSlideType("image")&&0==ge.isCurrentSlideImageFit()&&_()}function $(){A()}function W(){j()}function B(e){var t=e.parent();ge.startSlideAction(t)}function F(){_e.isPlayMode()&&_e.pausePlaying(),me.trigger(ge.events.ACTION_START)}function G(){_e.isPlayMode()&&_e.continuePlaying(),me.trigger(ge.events.ACTION_END)}function Q(e,t,i){oe.data("index")==t&&(objItem=_e.getItem(t),g(oe,objItem,!0)),ae.data("index")==t&&(objItem=_e.getItem(t),g(ae,objItem,!0)),le.data("index")==t&&(objItem=_e.getItem(t),g(le,objItem,!0))}function V(e,t){t=jQuery(t);var i=ge.getSlideImage(t),n=J(t),s=Se.getElementSize(i);Se.placeElement(n,"center","middle",s.left,s.top,i)}function Y(e){var t=J(e);Se.addClassOnHover(t),Se.setButtonOnClick(t,B)}function U(){te.on(_e.events.ITEM_IMAGE_UPDATED,Q),te.on(_e.events.ITEM_CHANGE,z),be&&jQuery(be).on(be.events.BULLET_CLICK,N),1==Te.slider_enable_arrows&&(Se.addClassOnHover(ue,"ug-arrow-hover"),Se.addClassOnHover(de,"ug-arrow-hover"),_e.setNextButton(ue),_e.setPrevButton(de)),0==Te.slider_controls_always_on&&se.hover($,W),se.on("touchend click",H),me.on(ge.events.CLICK,D),Ee&&1==Ie.isTextPanelSaparateHover&&se.hover(v,_),ve&&(Se.addClassOnHover(ve,"ug-button-hover"),_e.setPlayButton(ve)),ye&&(Se.addClassOnHover(ye,"ug-button-hover"),_e.setFullScreenToggleButton(ye)),ce&&me.on(ge.events.ZOOM_CHANGE,R),pe&&pe.initEvents(),we.initEvents(),jQuery(we).on(we.events.SHOW,F),jQuery(we).on(we.events.HIDE,G),Y(oe),Y(ae),Y(le),me.on(ge.events.AFTER_PUT_IMAGE,V),se.on("mouseenter",".ug-item-wrapper img",function(e){me.trigger(ge.events.IMAGE_MOUSEENTER)}),
se.on("mouseleave",".ug-item-wrapper img",function(e){0==ge.isMouseInsideSlideImage(e)&&me.trigger(ge.events.IMAGE_MOUSELEAVE)})}function X(){var e;switch(Te.slider_loader_type){default:case 1:e="ug-loader1";break;case 2:e="ug-loader2";break;case 3:e="ug-loader3";break;case 4:e="ug-loader4";break;case 5:e="ug-loader5";break;case 6:e="ug-loader6";break;case 7:e="ug-loader7";break;case 8:e="ug-loader8";break;case 9:e="ug-loader9"}return"black"==Te.slider_loader_color&&(e+=" ug-loader-black"),e}function q(e){switch(e){case 1:return oe;case 2:return ae;case 3:return le;default:throw new Error("wrong num: "+e)}}function Z(e){var t=ge.getSlidesReference(),i=t.objCurrentSlide.data("index"),n=e.index,s="left";return i>n&&(s="right"),s}function K(e){if(!e)var e=ge.getCurrentSlide();return e.children(".ug-slider-preloader")}function J(e){return e.children(".ug-button-videoplay")}function ee(e){if(!e)var e=ge.getCurrentSlide();var t=e.data("index");return void 0==t?null:_e.getItem(t)}var te,ie,ne,se,re,oe,ae,le,de,ue,he,ce,pe,fe,ge=this,me=jQuery(ge),_e=new UniteGalleryMain,ve=null,ye=null,be=null,we=new UGVideoPlayer,Se=new UGFunctions,xe=null,Ee=null;this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"};var Te={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!1,slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_border_maxratio:.35,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:!0,slider_links_newpage:!1,slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},Ce={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},Ie={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};this.switchSlideNums=function(e){switch(me.trigger(ge.events.BEFORE_SWITCH_SLIDES),e){case"left":var t=Ie.numCurrent;Ie.numCurrent=Ie.numNext,Ie.numNext=Ie.numPrev,Ie.numPrev=t;break;case"right":var t=Ie.numCurrent;Ie.numCurrent=Ie.numPrev,Ie.numPrev=Ie.numNext,Ie.numNext=t;break;default:throw new Error("wrong direction: "+e)}me.trigger(ge.events.ITEM_CHANGED)},this.destroy=function(){me.off(ge.events.AFTER_PUT_IMAGE),te.off(_e.events.ITEM_IMAGE_UPDATED),te.off(_e.events.ITEM_CHANGE),be&&jQuery(be).on(be.events.BULLET_CLICK),se.off("mouseenter"),se.off("mouseleave"),se.off("touchend"),se.off("click"),me.off(ge.events.CLICK),ce&&me.off(ge.events.ZOOM_CHANGE),me.off(ge.events.BEFORE_SWITCH_SLIDES),jQuery(we).off(we.events.SHOW),jQuery(we).off(we.events.HIDE),we.destroy(),se.off("mouseenter",".ug-item-wrapper img"),se.off("mouseleave",".ug-item-wrapper img")},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,i,n){e(t,i,n)},this.getSlideImage=function(e){if(!e)var e=ge.getCurrentSlide();return e.find(".ug-item-wrapper img")},this.setHtml=function(e){s(e)},this.run=function(){t()},this.isInnerInPlace=function(){var e=ge.getSlidesReference();return-Se.getElementSize(e.objCurrentSlide).left==Se.getElementSize(re).left},this.isAnimating=function(){return re.is(":animated")},this.isSlideCurrent=function(e){var t=e.data("slidenum");return Ie.numCurrent==t},this.isSlideHasItem=function(e){var t=e.data("index");return void 0!==t&&null!==t},this.getObjImagePadding=function(){return{padding_top:Te.slider_image_padding_top,padding_bottom:Te.slider_image_padding_bottom,padding_left:Te.slider_image_padding_left,padding_right:Te.slider_image_padding_right}},this.getSlidesReference=function(){return{objPrevSlide:q(Ie.numPrev),objNextSlide:q(Ie.numNext),objCurrentSlide:q(Ie.numCurrent)}},this.getCurrentSlide=function(){return ge.getSlidesReference().objCurrentSlide},this.getCurrentItemIndex=function(){var e=ge.getSlidesReference(),t=e.objCurrentSlide.data("index");return null!==t&&void 0!==t||(t=-1),t},this.getCurrentItem=function(){var e=ge.getCurrentItemIndex();return-1==e?null:_e.getItem(e)},this.getSlideType=function(e){return void 0==e&&(e=ge.getCurrentSlide()),e.data("type")},this.isMouseInsideSlideImage=function(e){var t=ge.getSlideImage(),i=Se.getMousePosition(e);void 0===i.pageX&&(i=he.getLastMousePos());var n=Se.getMouseElementPoint(i,t),s=Se.getElementSize(t);return isMouseInside=Se.isPointInsideElement(n,s),isMouseInside},this.isCurrentSlideType=function(e){return ge.getSlideType()==e},this.isCurrentSlideLoadingImage=function(){return!0===ge.getCurrentSlide().data("isLoading")},this.setItem=function(e,t,i){var n=ge.getSlidesReference(),s=n.objCurrentSlide.data("index"),r=e.index;if(r==s)return!0;if(void 0==s)m(n.objCurrentSlide,e),ge.placeNabourItems();else{var o="left";_e.getNumItems(),"next"==i?o="left":"prev"==i||s>r?o="right":s>r&&(o="right"),x(o,e,t)}},this.placeNabourItems=function(){var e=ge.getSlidesReference(),t=e.objCurrentSlide.data("index"),i=_e.getPrevItem(t),n=_e.getNextItem(t);m(e.objNextSlide,n),m(e.objPrevSlide,i),l()},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(e,t){e||(e=ge.getCurrentSlide()),!0===t?we.pause():we.hide()},this.startSlideAction=function(e){e||(e=ge.getCurrentSlide());var t=ee(e);if("image"==t.type)return!0;switch(1==Te.slider_video_constantsize&&S(),w(),we.show(),t.type){case"youtube":we.playYoutube(t.videoid);break;case"vimeo":we.playVimeo(t.videoid);break;case"html5video":we.playHtml5Video(t.videoogv,t.videowebm,t.videomp4,t.urlImage);break;case"soundcloud":we.playSoundCloud(t.trackid);break;case"wistia":we.playWistia(t.videoid)}},this.getScaleMode=function(e){if(!e)var e=ge.getCurrentSlide();return"image"!=ge.getSlideType(e)?Te.slider_scale_mode_media:Te.slider_scale_mode==Te.slider_scale_mode_fullscreen?Te.slider_scale_mode:1==_e.isFullScreen()?Te.slider_scale_mode_fullscreen:Te.slider_scale_mode},this.getObjects=function(){return{g_objSlider:se,g_objInner:re,g_options:Te,g_objZoomSlider:ce}},this.getObjZoom=function(){return ce},this.getOptions=function(){return Te},this.getElement=function(){return se},this.getVideoObject=function(){return we},this.isCurrentSlideImageFit=function(){var e=ge.getCurrentSlide();ge.getSlideType(e);b("image",e);var t=ge.getSlideImage(e);return 0!=t.length&&Se.isImageFitParent(t)},this.isCurrentImageInPlace=function(){var e=ge.getSlideImage();if(0==e.length)return!1;var t=ge.getScaleMode(),i=ge.getObjImagePadding(),n=ee(),s=e.parent(),r=Se.getImageInsideParentData(s,n.imageWidth,n.imageHeight,t,i),o=Se.getElementSize(e),a=!1;return r.imageWidth==o.width&&(a=!0),a},this.isSlideActionActive=function(){return we.isVisible()},this.isSwiping=function(){return!!he&&he.isTouchActive()},this.isPreloading=function(){return!!K().is(":visible")},this.setOptions=function(e){fe&&(e=Se.convertCustomPrefixOptions(e,fe,"slider")),Te=jQuery.extend(Te,e)},this.setSize=function(e,t){if(e<0||t<0)return!0;var i={};i.width=e+"px",i.height=t+"px",se.css(i);var n={};n.height=t+"px",n.top="0px",n.left="0px",re.css(n);var s={};s.height=t+"px",s.width=e+"px",oe.css(s),ae.css(s),le.css(s);var r=e-Te.slider_item_padding_left-Te.slider_item_padding_right,a=t-Te.slider_item_padding_top-Te.slider_item_padding_bottom,u={};if(u.width=r+"px",u.height=a+"px",u.top=Te.slider_item_padding_top+"px",u.left=Te.slider_item_padding_left+"px",se.find(".ug-item-wrapper").css(u),Ee&&Ee.setSizeByParent(),o(),d(oe),d(ae),d(le),l(),"image"!=ge.getSlideType()&&1==Te.slider_video_constantsize)S();else{var h=e-Te.slider_video_padding_left-Te.slider_video_padding_right,c=t-Te.slider_video_padding_top-Te.slider_video_padding_bottom;we.setSize(h,c)}w()},this.refreshSlideItems=function(){if(1==ge.isAnimating())return!0;d(oe),d(ae),d(le),l()},this.isMouseOver=function(){return se.ismouseover()},this.setPosition=function(e,t){Se.placeElement(se,e,t)},this.zoomIn=function(){if(!ce)return!0;ce.zoomIn()},this.zoomOut=function(){if(!ce)return!0;ce.zoomOut()},this.zoomBack=function(){if(!ce)return!0;ce.zoomBack()}}function UGTextPanel(){function e(e,t){if(!t)var t=v.textpanel_padding_top;var i=t;if(u){var n=i;m.placeElement(u,0,n);if(1==u.is(":visible")){var r=m.getElementSize(u),i=r.bottom;i>0&&(y.lastTitleBottom=i)}else{var i=20;y.lastTitleBottom>0&&(i=y.lastTitleBottom)}}var o="";if(h&&(o=jQuery.trim(h.text())),""!=o){var a=i;u&&(a+=v.textpanel_padding_title_description),m.placeElement(h,0,a);if(1==jQuery(h).is(":visible")){var l=m.getElementSize(h);i=l.bottom,l.height>0&&(y.lastDescHeight=l.height)}else{var d=16;y.lastDescHeight>0&&(d=y.lastDescHeight),i=a+d}}if(!v.textpanel_height&&1==y.setInternalHeight){s(i+v.textpanel_padding_bottom,e)}}function t(){var e=0;if(u&&(e+=u.outerHeight()),h){var t="";h&&(t=jQuery.trim(h.text())),""!=t&&(u&&(e+=v.textpanel_padding_title_description),e+=h.outerHeight())}return e}function i(){var i=t();e(!1,(p.height()-i)/2)}function n(){var i=t();e(!1,p.height()-i-v.textpanel_padding_bottom)}function s(e,t){if(!t)var t=!1;if(1==t){if(c){e>c.height()&&c.height(e)}var i={height:e+"px"};l.add(p).animate(i,v.textpanel_fade_duration)}else c&&c.height(e),l.add(p).height(e)}function r(){if(1==v.textpanel_enable_bg){c=l.children(".ug-textpanel-bg"),c.fadeTo(0,v.textpanel_bg_opacity);var e={"background-color":v.textpanel_bg_color};e=jQuery.extend(e,v.textpanel_bg_css),c.css(e)}if(1==v.textpanel_enable_title){u=p.children(".ug-textpanel-title");var t={};null!==v.textpanel_title_color&&(t.color=v.textpanel_title_color),null!==v.textpanel_title_font_family&&(t["font-family"]=v.textpanel_title_font_family),null!==v.textpanel_title_text_align&&(t["text-align"]=v.textpanel_title_text_align),null!==v.textpanel_title_font_size&&(t["font-size"]=v.textpanel_title_font_size+"px"),null!==v.textpanel_title_bold&&(!0===v.textpanel_title_bold?t["font-weight"]="bold":t["font-weight"]="normal"),v.textpanel_css_title&&(t=jQuery.extend(t,v.textpanel_css_title)),u.css(t)}if(1==v.textpanel_enable_description){h=p.children(".ug-textpanel-description");var i={};null!==v.textpanel_desc_color&&(i.color=v.textpanel_desc_color),null!==v.textpanel_desc_font_family&&(i["font-family"]=v.textpanel_desc_font_family),null!==v.textpanel_desc_text_align&&(i["text-align"]=v.textpanel_desc_text_align),null!==v.textpanel_desc_font_size&&(i["font-size"]=v.textpanel_desc_font_size+"px"),null!==v.textpanel_desc_bold&&(!0===v.textpanel_desc_bold?i["font-weight"]="bold":i["font-weight"]="normal"),v.textpanel_css_title&&(i=jQuery.extend(i,v.textpanel_css_description)),h.css(i)}}function o(){var e=f.getSelectedItem();g.setText(e.title,e.description)}function a(){jQuery(f).on(f.events.ITEM_CHANGE,o)}var l,d,u,h,c,p,f,g=this,m=new UGFunctions,_="",v={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},y={isFirstTime:!0,setInternalHeight:!0,lastTitleBottom:0,lastDescHeight:0};this.positionElements=function(t){if(!v.textpanel_height||"top"==v.textpanel_text_valign)return e(t),!1;switch(v.textpanel_text_valign){default:case"top":e(!1);break;case"bottom":n();break;case"center":case"middle":i()}},this.init=function(e,t,i){if(f=e,i&&(_=i,t=m.convertCustomPrefixOptions(t,_,"textpanel")),t&&(v=jQuery.extend(v,t)),0==v.textpanel_enable_title&&0==v.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");v.textpanel_height&&v.textpanel_height<0&&(v.textpanel_height=null),1==v.textpanel_desc_style_as_title&&(v.textpanel_desc_color||(v.textpanel_desc_color=v.textpanel_title_color),v.textpanel_desc_bold||(v.textpanel_desc_bold=v.textpanel_title_bold),v.textpanel_desc_font_family||(v.textpanel_desc_font_family=v.textpanel_title_font_family),v.textpanel_desc_font_size||(v.textpanel_desc_font_size=v.textpanel_title_font_size),v.textpanel_desc_text_align||(v.textpanel_desc_text_align=v.textpanel_title_text_align))},this.appendHTML=function(e,t){d=e,t=t?" "+t:"";var i="<div class='ug-textpanel"+t+"'>";1==v.textpanel_enable_bg&&(i+="<div class='ug-textpanel-bg"+t+"'></div>"),i+="<div class='ug-textpanel-textwrapper"+t+"'>",1==v.textpanel_enable_title&&(i+="<div class='ug-textpanel-title"+t+"'></div>"),1==v.textpanel_enable_description&&(i+="<div class='ug-textpanel-description"+t+"'></div>"),i+="</div></div>",e.append(i),l=e.children(".ug-textpanel"),p=l.children(".ug-textpanel-textwrapper"),r()},this.destroy=function(){jQuery(f).off(f.events.ITEM_CHANGE)},this.run=function(){g.setSizeByParent(),a()},this.setPanelSize=function(e,t){if(y.setInternalHeight=!0,t)y.setInternalHeight=!1;else var t=80;v.textpanel_height&&(t=v.textpanel_height),l.width(e),l.height(t),c&&(c.width(e),c.height(t));var i=e-v.textpanel_padding_left-v.textpanel_padding_right,n=v.textpanel_padding_left;m.setElementSizeAndPosition(p,n,0,i,t),u&&u.width(i),h&&h.width(i),0==y.isFirstTime&&g.positionElements(!1)},this.setSizeByParent=function(){var e=m.getElementSize(d);g.setPanelSize(e.width)},this.setTextPlain=function(e,t){u&&u.html(e),h&&h.html(t)},this.setText=function(e,t){1==y.isFirstTime?(g.setTextPlain(e,t),y.isFirstTime=!1,g.positionElements(!1)):p.stop().fadeTo(v.textpanel_fade_duration,0,function(){g.setTextPlain(e,t),g.positionElements(!0),jQuery(this).fadeTo(v.textpanel_fade_duration,1)})},this.positionPanel=function(e,t){var i={};if(void 0!==e&&null!==e)i.top=e,i.bottom="auto";else switch(v.textpanel_align){case"top":i.top=v.textpanel_margin+"px";break;case"bottom":i.top="auto",i.bottom=v.textpanel_margin+"px";break;case"middle":i.top=m.getElementRelativePos(l,"middle",v.textpanel_margin)}void 0!==t&&null!==t&&(i.left=t),l.css(i)},this.setOptions=function(e){_&&(e=m.convertCustomPrefixOptions(e,_,"textpanel")),v=jQuery.extend(v,e)},this.getElement=function(){return l},this.getSize=function(){return m.getElementSize(l)},this.refresh=function(e,t,i,n){r(),i?g.setPanelSize(i,n):g.setSizeByParent(),g.positionElements(!1),!0!==t&&g.positionPanel(),!0===e&&g.show()},this.hide=function(){l.hide()},this.show=function(){l.show()},this.getOptions=function(){return v},this.getOption=function(e){return 0==v.hasOwnProperty(e)?null:v[e]}}function UGZoomButtonsPanel(){function e(e){return!e||!!e.hasClass("ug-zoompanel-button-disabled")}function t(e){e&&e.addClass("ug-zoompanel-button-disabled")}function i(e){e&&e.removeClass("ug-zoompanel-button-disabled")}function n(){if(0==u.isCurrentSlideType("image"))return!0;1==u.isCurrentSlideImageFit()?0==e(a)&&(t(a),t(l)):1==e(a)&&(i(a),i(l))}var s,r,o,a,l,d=this,u=new UGSlider,h=new UGFunctions,c={slider_zoompanel_skin:""};this.init=function(e,t){u=e,t&&(c=jQuery.extend(c,t))},this.appendHTML=function(e){r=e;var t="<div class='ug-slider-control ug-zoompanel ug-skin-"+c.slider_zoompanel_skin+"'>";t+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",t+="</div>",e.append(t),s=e.children(".ug-zoompanel"),o=s.children(".ug-zoompanel-plus"),a=s.children(".ug-zoompanel-minus"),l=s.children(".ug-zoompanel-return")},this.setObjects=function(e,t,i){o=e,a=t,l=i,a&&a.addClass("ug-zoompanel-button-disabled"),l&&l.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return s},d.initEvents=function(){h.addClassOnHover(o,"ug-button-hover"),h.addClassOnHover(a,"ug-button-hover"),h.addClassOnHover(l,"ug-button-hover"),h.setButtonOnClick(o,function(){if(1==e(o))return!0;u.zoomIn()}),h.setButtonOnClick(a,function(){if(1==e(a))return!0;u.zoomOut()}),h.setButtonOnClick(l,function(){if(1==e(l))return!0;u.zoomBack()}),jQuery(u).on(u.events.ZOOM_CHANGE,n),jQuery(u).on(u.events.ITEM_CHANGED,n)}}function UGBullets(){function e(){var e="",t="";-1!=f.bullets_space_between&&(t=" style='margin-left:"+f.bullets_space_between+"px'");for(var i=0;i<d;i++)e+=0==i?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+t+"></div>";if(r.html(e),!a){var n=r.find(".ug-bullet:first-child");n.length&&(a=n.width())}}function t(e){if(1==l.isActive(e))return!0;var t=e.index();jQuery(l).trigger(l.events.BULLET_CLICK,t)}function i(){var e=r.children(".ug-bullet");c.setButtonOnClick(e,t),e.on("mousedown mouseup",function(e){return!1})}function n(e){if(e<0||e>=d)throw new Error("wrong bullet index: "+e)}function s(){if(1==p.isInited)return!0;throw new Error("The bullets are not inited!")}var r,o,a,l=this,d=0,u=new UniteGalleryMain,h=-1,c=new UGFunctions,p={isInited:!1},f={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};this.events={BULLET_CLICK:"bullet_click"},this.init=function(e,t,i){u=e,d=i||u.getNumItems(),p.isInited=!0,f=jQuery.extend(f,t),""==f.bullets_skin&&(f.bullets_skin=f.gallery_skin)},this.getBulletsWidth=function(){return 0==d?0:a?d*a+(d-1)*f.bullets_space_between:0},this.appendHTML=function(t){o=t,s();var n="";""!=f.bullets_addclass&&(n=" "+f.bullets_addclass);var a="<div class='ug-slider-control ug-bullets ug-skin-"+f.bullets_skin+n+"'>";a+="</div>",r=jQuery(a),t.append(r),e(),i()},this.updateNumBullets=function(t){d=t,e(),i()},this.getElement=function(){return r},this.setActive=function(e){s(),n(e);var t=r.children(".ug-bullet");t.removeClass("ug-bullet-active"),jQuery(t[e]).addClass("ug-bullet-active"),h=e},this.isActive=function(e){if(n(e),"number"!=typeof e)var t=e;else var t=r.children(".ug-bullet")[e];return!!t.hasClass("ug-bullet-active")},this.getNumBullets=function(){return d}}function UGProgressBar(){var e,t,i=this,n=0,s=new UGFunctions,r={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(i,n){n&&(r=jQuery.extend(r,n)),i.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),e=i.children(".ug-progress-bar"),t=e.children(".ug-progress-bar-inner"),t.css("background-color",r.slider_progressbar_color),e.height(r.slider_progressbar_line_width),t.height(r.slider_progressbar_line_width),t.width("0%");var s=r.slider_progressbar_opacity,o=t[0];o.style.opacity=s,o.style.filter="alpha(opacity="+100*s+")"},this.putHidden=function(t,n){i.put(t,n),e.hide()},this.getElement=function(){return e},this.setSize=function(n){e.width(n),t.width(n),i.draw()},this.setPosition=function(t,i,n,r){s.placeElement(e,t,i,n,r)},this.draw=function(){var e=100*n;t.width(e+"%")},this.setProgress=function(e){n=s.normalizePercent(e),i.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){function e(e){if(!e)var e=0;var t=Math.min(o.slider_progresspie_width,o.slider_progresspie_height)/2,n=i[0].getContext("2d");0==s&&(s=!0,n.rotate(1.5*Math.PI),n.translate(-2*t,0)),n.clearRect(0,0,o.slider_progresspie_width,o.slider_progresspie_height);var r=o.slider_progresspie_width/2,a=o.slider_progresspie_height/2,l=0,d=e*Math.PI*2;if(1==o.slider_progresspie_type_fill)n.beginPath(),n.moveTo(r,a),n.arc(r,a,t,l,d),n.lineTo(r,a),n.fillStyle=o.slider_progresspie_color1,n.fill(),n.closePath();else{n.globalCompositeOperation="source-over",n.beginPath(),n.moveTo(r,a),n.arc(r,a,t,l,d),n.lineTo(r,a),n.fillStyle=o.slider_progresspie_color1,n.fill(),n.closePath(),n.globalCompositeOperation="destination-out";var u=t-o.slider_progresspie_stroke_width;n.beginPath(),n.moveTo(r,a),n.arc(r,a,u,l,d),n.lineTo(r,a),n.fillStyle=o.slider_progresspie_color1,n.fill(),n.closePath()}1==o.slider_progresspie_type_fill&&(l=d,d=2*Math.PI,n.beginPath(),n.arc(r,a,t,l,d),n.lineTo(r,a),n.fillStyle=o.slider_progresspie_color2,n.fill(),n.closePath())}var t,i,n=this,s=!1,r=new UGFunctions,o={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(e,t){t&&(o=jQuery.extend(o,t)),e.append("<canvas class='ug-canvas-pie' width='"+o.slider_progresspie_width+"' height='"+o.slider_progresspie_height+"'></canvas>"),i=e.children(".ug-canvas-pie")},this.putHidden=function(t,s){n.put(t,s),e(.1),i.hide()},this.getElement=function(){return i},this.setPosition=function(e,t){r.placeElement(i,e,t)},this.getSize=function(){return{width:o.slider_progresspie_width,height:o.slider_progresspie_height}},this.setProgress=function(i){i=r.normalizePercent(i),t=i,e(i)},this.getType=function(){return"pie"}}function UGTouchSliderControl(){function e(e){if(!e)var e=_.getSlidesReference();return-v.getElementSize(e.objCurrentSlide).left-v.getElementSize(f).left}function t(){var t=_.getSlidesReference(),i=e(t),n=Math.round(3*t.objCurrentSlide.width()/8);if(Math.abs(i)>=n)return!0;var s=Math.abs(y.lastMouseX-y.startMouseX);Math.abs(y.lastMouseY-y.startMouseY);return!(s<20)&&jQuery.now()-y.startTime<500}function i(e){if(1==_.isInnerInPlace())return!1;if(g.trigger(_.events.BEFORE_RETURN),!e)var e=_.getSlidesReference();var t=v.getElementSize(e.objCurrentSlide),i=-t.left;f.animate({left:i+"px"},{duration:m.slider_transition_return_speed,easing:m.slider_transition_continuedrag_easing,queue:!1,progress:function(e,t,n){if(1==y.isDragVideo){var s=v.getElementSize(f),r=s.left,o=r-i,a=y.videoStartX+o;y.videoObject.css("left",a)}},complete:function(){g.trigger(_.events.AFTER_RETURN)}})}function n(e){_.getVideoObject().hide(),_.switchSlideNums(e),_.placeNabourItems()}function s(){var t=_.getSlidesReference(),s=e(t);if(0==s)return!1;var r=s>0?"left":"right",o=!1;switch(r){case"right":if(_.isSlideHasItem(t.objPrevSlide))var a=v.getElementSize(t.objPrevSlide),l=-a.left;else o=!0;break;case"left":if(_.isSlideHasItem(t.objNextSlide))var d=v.getElementSize(t.objNextSlide),l=-d.left;else o=!0}1==o?i(t):f.stop().animate({left:l+"px"},{duration:m.slider_transition_continuedrag_speed,easing:m.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==y.isDragVideo){var e=v.getElementSize(f),t=e.left,i=t-y.startPosx,n=y.videoStartX+i;y.videoObject.css("left",n)}},always:function(){n(r),g.trigger(_.events.AFTER_DRAG_CHANGE)}})}function r(e){var t=y.lastMouseX-y.startMouseX;if(0==t)return!0;var i=t<0?"left":"right",n=_.getObjZoom();if(n){if(1==n.isPanEnabled(e,i))return y.isInitDataValid=!1,!0;if(0==y.isInitDataValid)return o(e),!0}var s=y.startPosx+t;if(t>0&&s>0)s/=3;else if(t<0){var r=s+f.width(),a=p.width();r<a&&(s=y.startPosx+t/3)}if(0==y.isDragging&&(y.isDragging=!0,g.trigger(_.events.START_DRAG)),f.css("left",s+"px"),1==y.isDragVideo){var l=s-y.startPosx,d=y.videoStartX+l;y.videoObject.css("left",d)}}function o(e){var t=v.getMousePosition(e);y.startMouseX=t.pageX,y.startMouseY=t.pageY,y.lastMouseX=y.startMouseX,y.lastMouseY=y.startMouseY,y.startTime=jQuery.now();var i=v.getArrTouches(e);y.startArrTouches=v.getArrTouchPositions(i);var n=v.getElementSize(f);y.startPosx=n.left,y.isInitDataValid=!0,y.isDragVideo=!1,v.storeEventData(e,y.storedEventID)}function a(e){y.touch_active=!1}function l(e,t){y.touch_active=!0,o(t)}function d(e){return e.preventDefault(),y.isDragging=!1,1==_.isAnimating()&&f.stop(!0,!0),v.getArrTouches(e).length>1?(1==y.touch_active&&a("1"),!0):1==y.touch_active||void l("1",e)}function u(e){if(0==y.touch_active)return!0;if(0==e.buttons)return a("2"),s(),!0;v.updateStoredEventData(e,y.storedEventID),e.preventDefault();var t=v.getMousePosition(e);y.lastMouseX=t.pageX,y.lastMouseY=t.pageY;var i=null;1==m.slider_vertical_scroll_ondrag&&(i=v.handleScrollTop(y.storedEventID)),"vert"!==i&&r(e)}function h(e){var n=v.getArrTouches(e),r=n.length;if(1==_.isInnerInPlace()&&0==y.touch_active&&0==r)return!0;if(0==r&&1==y.touch_active){a("3");var o=!1;0==v.wasVerticalScroll(y.storedEventID)&&(o=t()),1==o?s():i()}else 1==r&&0==y.touch_active&&l("2",e)}function c(){p.bind("mousedown touchstart",d),jQuery("body").bind("mousemove touchmove",u),jQuery(window).add("body").bind("mouseup touchend",h)}var p,f,g,m,_=new UGSlider,v=new UGFunctions,m={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},y={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};this.isTapEventOccured=function(t){var i=v.getArrTouches(t),n=i.length;if(0!=n||0!=y.lastNumTouches)return y.lastNumTouches=n,!1;y.lastNumTouches=n;var s=_.getSlidesReference(),r=(e(s),Math.abs(y.lastMouseX-y.startMouseX)),o=Math.abs(y.lastMouseY-y.startMouseY),a=jQuery.now(),l=a-y.startTime;return r<20&&o<50&&l<500},this.init=function(e,t){_=e,g=jQuery(_),g_objects=e.getObjects(),p=g_objects.g_objSlider,f=g_objects.g_objInner,m=jQuery.extend(m,t),c()},this.getLastMousePos=function(){return{pageX:y.lastMouseX,pageY:y.lastMouseY}},this.isTouchActive=function(){return y.touch_active}}function UGZoomSliderControl(){function e(e,t){x=e,S=jQuery(x),g_objects=e.getObjects(),b=g_objects.g_objSlider,w=g_objects.g_objInner,T=jQuery.extend(T,t),y()}function t(){var e=x.getScaleMode();return"down"!=e&&(e="fit"),e}function i(){var e=jQuery.now();if(e-C.storeImageLastTime<20)return!1;var i=x.getSlidesReference();if(C.objSlide=i.objCurrentSlide,C.objImage=i.objCurrentSlide.find("img"),0==C.objImage.length)return!1;C.objImageSize=E.getElementSize(C.objImage),C.objParent=C.objImage.parent(),C.objParentSize=E.getElementSize(C.objParent);var n=t();objPadding=x.getObjImagePadding(),C.objFitImageSize=E.getImageInsideParentDataByImage(C.objImage,n,objPadding);var e=jQuery.now();return C.storeImageLastTime=e,!0}function n(e,i){var n=x.getSlidesReference(),s=n.objCurrentSlide.find("img"),r=t();S.trigger(x.events.ZOOM_START);var o=!0,a=x.getObjImagePadding();if("back"==e){var l=E.getImageOriginalSize(s);E.scaleImageFitParent(s,l.width,l.height,r,a)}else{var d="in"==e;o=E.zoomImageInsideParent(s,d,T.slider_zoom_step,i,r,T.slider_zoom_max_ratio,a)}1==o&&(S.trigger(x.events.ZOOMING),S.trigger(x.events.ZOOM_CHANGE),S.trigger(x.events.ZOOM_END))}function s(e,t,i){var n=E.getArrTouches(t);if(!0===i){if(1!=n.length)return!1}else if(n.length>1)return!1;return!!E.isElementBiggerThenParent(e)}function r(e){var t=E.getMousePosition(e);C.startMouseX=t.pageX,C.startMouseY=t.pageY,C.lastMouseX=C.startMouseX,C.lastMouseY=C.startMouseY,C.startImageX=C.objImageSize.left,C.startImageY=C.objImageSize.top,C.panXActive=C.objImageSize.width>C.objParentSize.width,C.panYActive=C.objImageSize.height>C.objParentSize.height}function o(e){C.isPanActive=!0,r(e)}function a(e){if(void 0==C.objImage||0==C.objImage.length)return!0;var t=E.getMousePosition(e),i=(t.pageX,C.startMouseX,t.pageY,C.startMouseY,t.pageX-C.lastMouseX),n=t.pageY-C.lastMouseY,s=i<0?"left":"right",r=n<0?"up":"down";C.lastMouseX=t.pageX,C.lastMouseY=t.pageY;var o=E.getElementSize(C.objImage);0==C.panYActive?n=0:"down"==r&&o.top>0?n/=3:"up"==r&&o.bottom<C.objParentSize.height&&(n/=3),0==C.panXActive||0==x.isInnerInPlace()?i=0:"right"==s&&o.left>0?i/=3:"left"==s&&o.right<C.objParentSize.width&&(i/=3);var a=o.left+i,l=o.top+n;E.placeElement(C.objImage,a,l)}function l(){var e=!1,t=!1,i=0,n=0,s=E.getElementSize(C.objImage),r=x.getObjImagePadding(),o=E.getElementCenterPosition(C.objImage,r);C.panXActive=C.objImageSize.width>C.objParentSize.width,C.panYActive=C.objImageSize.height>C.objParentSize.height,1==C.panYActive?s.top>0?(n=0,t=!0):s.bottom<C.objParentSize.height&&(n=C.objParentSize.height-s.height,t=!0):s.top!=o.top&&(t=!0,n=o.top),1==C.panXActive?s.left>0?(i=0,e=!0):s.right<C.objParentSize.width&&(i=C.objParentSize.width-s.width,e=!0):s.left!=o.left&&(e=!0,i=o.left);var a={};1==t&&(a.top=n+"px"),1==e&&(a.left=i+"px"),1!=t&&1!=e||C.objImage.animate(a,{duration:T.slider_zoom_return_pan_duration,easing:T.slider_zoom_return_pan_easing,queue:!1})}function d(){return!(!C.objImage||!C.objImage.is(":animated"))}function u(e){C.isZoomActive=!0,C.startDistance=E.getDistance(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),0==C.startDistance&&(C.startDistance=1),C.startMiddlePoint=E.getMiddlePoint(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),C.objImageSize=E.getElementSize(C.objImage),C.startImageX=C.objImageSize.left,C.startImageY=C.objImageSize.top,C.imageOrientPoint=E.getElementLocalPoint(C.startMiddlePoint,C.objImage),
0==E.isPointInsideElement(C.imageOrientPoint,C.objImageSize)&&(C.imageOrientPoint=E.getElementCenterPoint(C.objImage)),S.trigger(x.events.ZOOM_START)}function h(e){if(0==C.isZoomActive)return!1;2!=E.getArrTouches(e).length&&(C.isZoomActive=!1,S.trigger(x.events.ZOOM_END))}function c(e){if(1==C.isZoomActive)return!0;var t=E.getArrTouches(e);if(2!=t.length)return!0;u(t)}function p(e){var t=E.getArrTouches(e),i=E.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),n=i/C.startDistance,s=E.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),r=C.objImageSize.width*n,o=C.objImageSize.height*n,a=E.getImageOriginalSize(C.objImage),l=1;if(a.width>0&&(l=r/a.width),l>T.slider_zoom_max_ratio)return!0;panX=-(C.imageOrientPoint.x*n-C.imageOrientPoint.x),panY=-(C.imageOrientPoint.y*n-C.imageOrientPoint.y);var d=s.x-C.startMiddlePoint.x,u=s.y-C.startMiddlePoint.y,h=C.startImageX+panX+d,c=C.startImageY+panY+u;E.setElementSizeAndPosition(C.objImage,h,c,r,o),S.trigger(x.events.ZOOMING),S.trigger(x.events.ZOOM_CHANGE)}function f(){if(void 0==C.objImage||0==C.objImage.length)return!0;if(E.getElementSize(C.objImage).width<C.objFitImageSize.imageWidth){C.objImage.css({position:"absolute",margin:"none"});var e={top:C.objFitImageSize.imageTop+"px",left:C.objFitImageSize.imageLeft+"px",width:C.objFitImageSize.imageWidth+"px",height:C.objFitImageSize.imageHeight+"px"};C.objImage.animate(e,{duration:T.slider_zoom_return_pan_duration,easing:T.slider_zoom_return_pan_easing,queue:!1})}else l()}function g(e){if(0==x.isCurrentSlideType("image"))return!0;i();if(void 0==C.objImage||0==C.objImage.length)return!0;e.preventDefault(),1==d()&&C.objImage.stop(!0),1==C.isZoomActive?h(e):c(e),1==C.isZoomActive?C.isPanActive=!1:1==s(C.objImage,e)&&1==C.isZoomedOnce&&o(e)}function m(e){if(0==x.isCurrentSlideType("image"))return!0;if(1==jQuery(e.target).data("ug-button"))return!1;i();if(void 0==C.objImage||0==C.objImage.length)return!0;var t=C.isPanActive,n=C.isZoomActive;if(0==x.isInnerInPlace())return C.isZoomActive=!1,C.isPanActive=!1,!0;if(1==C.isZoomActive?h(e):c(e),1==C.isZoomActive)C.isPanActive=!1;else{var r=s(C.objImage,e,!0);1==C.isPanActive?C.isPanActive=!1:1==r&&o(e)}(t||n)&&0==C.isZoomActive&&0==C.isPanActive&&f()}function _(e){if(0==x.isCurrentSlideType("image"))return!0;1==C.isZoomActive?p(e):1==C.isPanActive&&a(e)}function v(e,t,i,s){if(0==T.slider_zoom_mousewheel)return!0;if(0==x.isCurrentSlideType("image"))return!0;e.preventDefault();var r=t>0,o=E.getMousePosition(e);n(1==r?"in":"out",o)}function y(){b.on("mousewheel",v),b.bind("mousedown touchstart",g),jQuery("body").bind("mousemove touchmove",_),jQuery(window).add("body").bind("mouseup touchend",m),S.bind(x.events.BEFORE_RETURN,function(){f()}),S.bind(x.events.ITEM_CHANGED,function(){C.isZoomedOnce=!1}),S.bind(x.events.ZOOM_CHANGE,function(){C.isZoomedOnce=!0})}var b,w,S,x=new UGSlider,E=new UGFunctions,T={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},C={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(e,t){if(i(),void 0==C.objImage||0==C.objImage.length)return!1;if(0==C.isZoomedOnce)return!1;if(0==s(C.objImage,e))return!1;if(0==x.isInnerInPlace())return!1;if("left"==t){if(C.objImageSize.right<=C.objParentSize.width)return!1}else if(C.objImageSize.left>=0)return!1;return!0},this.init=function(t,i){e(t,i)},this.zoomIn=function(){n("in")},this.zoomOut=function(){n("out")},this.zoomBack=function(){n("back")}}function UGWistiaAPI(){function e(){return"undefined"!=typeof Wistia}function t(e,t,n,r,o){s=null,a=!1;var l=e+"_video",d="<div id='"+l+"' class='wistia_embed' style='width:"+n+";height:"+r+";' data-video-width='"+n+"' data-video-height='"+r+"'>&nbsp;</div>";jQuery("#"+e).html(d),s=Wistia.embed(t,{version:"v1",videoWidth:n,videoHeight:r,container:l,autoPlay:o}),a=!0,i()}function i(){s.bind("play",function(){o.trigger(r.events.START_PLAYING)}),s.bind("pause",function(){o.trigger(r.events.STOP_PLAYING)}),s.bind("end",function(){o.trigger(r.events.STOP_PLAYING),o.trigger(r.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,s,r=this,o=jQuery(this),a=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded||(e()?(g_ugWistiaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0)))},this.doCommand=function(e){if(null==s)return!1;if(0==a)return!1;switch(e){case"play":s.play();break;case"pause":s.pause()}},this.pause=function(){r.doCommand("pause")},this.play=function(){r.doCommand("play")},this.putVideo=function(i,s,r,o,a){if(e())return t(i,s,r,o,a),!0;this.loadAPI(),n=setInterval(function(){e()&&(t(i,s,r,o,a),clearInterval(n))},500)},this.isPlayerReady=function(){return!(!a||!s)}}function UGSoundCloudAPI(){function e(){return"undefined"!=typeof SC}function t(e,t,n,o,a){s=null,g_isPlayerReady=!1;var l=e+"_iframe",d=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+t;d+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true",d+=!0===a?"&amp;auto_play=true":"&amp;auto_play=false";var u="<iframe id='"+l+"' src="+d+" width='"+n+"' height='"+o+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(u),s=SC.Widget(l),s.bind(SC.Widget.Events.READY,function(){s&&(g_isPlayerReady=!0,i())}),r=e}function i(){s.bind(SC.Widget.Events.PLAY,function(){a.trigger(o.events.START_PLAYING)}),s.bind(SC.Widget.Events.PAUSE,function(){a.trigger(o.events.STOP_PLAYING)}),s.bind(SC.Widget.Events.FINISH,function(){a.trigger(o.events.STOP_PLAYING),a.trigger(o.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,s,r,o=this,a=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded||(e()?(g_ugSoundCloudAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0)))},this.putSound=function(i,s,r,o,a){if(e())return t(i,s,r,o,a),!0;this.loadAPI(),n=setInterval(function(){e()&&(t(i,s,r,o,a),clearInterval(n))},500)},this.doCommand=function(e){if(null==s)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":s.play();break;case"pause":s.pause()}},this.pause=function(){o.doCommand("pause")},this.play=function(){o.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,s=null,r&&(jQuery("#"+r).html(""),r=null)}}function UGHtml5MediaAPI(){function e(){return"undefined"!=typeof mejs}function t(e,t,n,r,o){s=null,g_isPlayerReady=!1;var a=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf",l=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap",d=e+"_video",u="";o&&!0===o&&(u="autoplay='autoplay'");var h="";t.posterImage&&(h="poster='"+t.posterImage+"'");var c="<video id='"+d+"' width='"+n+"' height='"+r+"'  controls='controls' preload='none' "+u+" "+h+">";""!=t.mp4&&(c+="<source type='video/mp4' src='"+t.mp4+"' />"),""!=t.webm&&(c+="<source type='video/webm' src='"+t.webm+"' />"),""!=t.ogv&&(c+="<source type='video/ogg' src='"+t.ogv+"' />"),c+="<object width='"+n+"' height='"+r+"' type='application/x-shockwave-flash' data='"+a+"'>",c+="<param name='movie' value='"+a+"' />",c+="<param name='flashvars' value='controls=true&file="+t.mp4+"' />",c+="</object>",c+="</video>",jQuery("#"+e).html(c),new MediaElement(d,{enablePluginDebug:!1,flashName:a,silverlightName:l,success:function(e,t){g_isPlayerReady=!0,s=e,0==o&&s.pause(),i()},error:function(e){trace(e)}})}function i(){g_ugFunctions.addEvent(s,"play",function(){o.trigger(r.events.START_PLAYING)}),g_ugFunctions.addEvent(s,"pause",function(){o.trigger(r.events.STOP_PLAYING)}),g_ugFunctions.addEvent(s,"ended",function(){o.trigger(r.events.STOP_PLAYING),o.trigger(r.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,s,r=this,o=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded||(e()?(g_ugHtml5MediaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0)))},this.putVideo=function(i,s,r,o,a){if(e())return t(i,s,r,o,a),!0;this.loadAPI(),n=setInterval(function(){e()&&(t(i,s,r,o,a),clearInterval(n))},500)},this.doCommand=function(e){if(null==s)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":s.play();break;case"pause":s.pause()}},this.pause=function(){r.doCommand("pause")},this.play=function(){r.doCommand("play")}}function UGVimeoAPI(){function e(){return"undefined"!=typeof Froogaloop}function t(e,t,n,r,o){a=null,l=!1;var d=location.protocol+"//player.vimeo.com/video/"+t+"?api=1";!0===o&&(d+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var u="<iframe src="+d+" width='"+n+"' height='"+r+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(u);var h=jQuery("#"+e+" iframe")[0];a=Froogaloop(h),a.addEvent("ready",function(){a&&(l=!0,i())}),s=e}function i(){if(!a)return!1;a.addEvent("cuechange",function(){1==d&&r.play()}),a.addEvent("play",function(){o.trigger(r.events.START_PLAYING)}),a.addEvent("pause",function(){o.trigger(r.events.STOP_PLAYING)}),a.addEvent("finish",function(){o.trigger(r.events.STOP_PLAYING),o.trigger(r.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,s,r=this,o=jQuery(this),a=null,l=!1,d=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded||(e()?(g_ugVimeoAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0)))},this.doCommand=function(e){return null!=a&&(0!=l&&void a.api(e))},this.pause=function(){r.doCommand("pause")},this.play=function(){r.doCommand("play")},this.destroy=function(){a&&(a.api("unload"),a=null,l=!1),s&&jQuery("#"+s).html("")},this.putVideo=function(i,s,r,o,a){if(e())return t(i,s,r,o,a),!0;this.loadAPI(),n=setInterval(function(){e()&&(t(i,s,r,o,a),clearInterval(n))},500)},this.isPlayerReady=function(){return!(!l||!a)},this.changeVideo=function(e,t){if(0==r.isPlayerReady())return!1;d=t,a.api("loadVideo",e)},this.getVideoImages=function(e,t,i){var n=location.protocol+"//vimeo.com/api/v2/video/"+e+".json";jQuery.get(n,{},function(e){var n={};n.preview=e[0].thumbnail_large,n.thumb=e[0].thumbnail_medium,i(t,n)})}}function UGYoutubeAPI(){function e(e,t,s,o,d){a&&l&&a.destroy();var u={controls:2,showinfo:h.video_youtube_showinfo,rel:0};!0===d&&(u.autoplay=1),l=!1,a=new YT.Player(e,{height:o,width:s,videoId:t,playerVars:u,events:{onReady:i,onStateChange:n}}),r=e}function t(){return"undefined"!=typeof YT&&void 0!==YT.Player}function i(){l=!0}function n(){if("function"!=typeof a.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var e=a.getPlayerState();switch(e){case YT.PlayerState.PLAYING:d.trigger(o.events.START_PLAYING);break;case YT.PlayerState.ENDED:d.trigger(o.events.STOP_PLAYING),d.trigger(o.events.VIDEO_ENDED);break;default:u==YT.PlayerState.PLAYING&&d.trigger(o.events.STOP_PLAYING)}u=e}this.isAPILoaded=!1;var s,r,o=this,a=null,l=!1,d=jQuery(this),u=-1,h={video_youtube_showinfo:!0};this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.setOptions=function(e){h=jQuery.extend(h,e)},this.putVideo=function(i,n,r,o,a){if(t())return e(i,n,r,o,a),!0;this.loadAPI(),s=setInterval(function(){t()&&(e(i,n,r,o,a),clearInterval(s))},500)},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded||("undefined"!=typeof YT?(g_ugYoutubeAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("https://www.youtube.com/player_api",!1),void(g_ugYoutubeAPI.isAPILoaded=!0)))},this.doCommand=function(e,t){if(!a)return!0;if(0==l)return!1;switch(e){case"play":if("function"!=typeof a.playVideo)return!1;a.playVideo();break;case"pause":if("function"!=typeof a.pauseVideo)return!1;a.pauseVideo();break;case"seek":if("function"!=typeof a.seekTo)return!1;a.seekTo(t);break;case"stopToBeginning":var i=a.getPlayerState();switch(a.pauseVideo(),i){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:a.seekTo(0)}}},this.play=function(){o.doCommand("play")},this.pause=function(){o.doCommand("pause")},this.destroy=function(){try{a&&(l=!1,a.clearVideo(),a.destroy())}catch(e){jQuery("#"+r).html("")}},this.stopToBeginning=function(){o.doCommand("stopToBeginning")},this.changeVideo=function(e,t){if(0==o.isPlayerReady())return!1;t&&1==t?a.loadVideoById(e,0,"large"):a.cueVideoById(e,0,"large")},this.isPlayerReady=function(){return!(!l||!a)},this.getVideoImages=function(e){var t={};return t.preview="https://i.ytimg.com/vi/"+e+"/sddefault.jpg",t.thumb="https://i.ytimg.com/vi/"+e+"/default.jpg",t}}function UGVideoPlayer(){function e(){f.hide()}function t(){g.trigger(f.events.PLAY_START),h&&h.hide()}function i(){g.trigger(f.events.PLAY_STOP),h&&h.show()}function n(){g.trigger(f.events.VIDEO_ENDED)}function s(){h&&(m.setButtonMobileReady(h),m.setButtonOnClick(h,e)),jQuery(_).on(_.events.START_PLAYING,t),jQuery(_).on(_.events.STOP_PLAYING,i),jQuery(_).on(_.events.VIDEO_ENDED,n),jQuery(v).on(v.events.START_PLAYING,t),jQuery(v).on(v.events.STOP_PLAYING,i),jQuery(v).on(v.events.VIDEO_ENDED,n),jQuery(y).on(y.events.START_PLAYING,t),jQuery(y).on(y.events.STOP_PLAYING,i),jQuery(y).on(y.events.VIDEO_ENDED,n),jQuery(b).on(b.events.START_PLAYING,t),jQuery(b).on(b.events.STOP_PLAYING,i),jQuery(b).on(b.events.VIDEO_ENDED,n),jQuery(w).on(w.events.START_PLAYING,t),jQuery(w).on(w.events.STOP_PLAYING,i),jQuery(w).on(w.events.VIDEO_ENDED,n)}function r(e){var t=["youtube","vimeo","html5","soundcloud","wistia"];for(var i in t){var n=t[i];if(n!=e)switch(n){case"youtube":_.pause(),_.destroy(),l.hide();break;case"vimeo":v.pause(),v.destroy(),d.hide();break;case"html5":y.pause(),u.hide();break;case"soundcloud":b.pause(),b.destroy(),c.hide();break;case"wistia":w.pause(),p.hide()}}}var o,a,l,d,u,h,c,p,f=this,g=jQuery(this),m=new UGFunctions,_=new UGYoutubeAPI,v=new UGVimeoAPI,y=new UGHtml5MediaAPI,b=new UGSoundCloudAPI,w=new UGWistiaAPI,S=null,x={video_enable_closebutton:!0};this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop",VIDEO_ENDED:"video_ended"};var E={standAloneMode:!1,youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};this.init=function(e,t,i){if(!(o=i))throw new Error("missing gallery ID for video player, it's a must!");x=jQuery.extend(x,e),_.setOptions(x),t&&1==t&&(E.standAloneMode=!0)},this.setHtml=function(e){E.youtubeInnerID=o+"_youtube_inner",E.vimeoPlayerID=o+"_videoplayer_vimeo",E.html5PlayerID=o+"_videoplayer_html5",E.wistiaPlayerID=o+"_videoplayer_wistia",E.soundCloudPlayerID=o+"_videoplayer_soundcloud";var t="<div class='ug-videoplayer' style='display:none'>";t+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+E.youtubeInnerID+"'></div></div>",t+="<div id='"+E.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",t+="<div id='"+E.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",t+="<div id='"+E.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",t+="<div id='"+E.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==E.standAloneMode&&1==x.video_enable_closebutton&&(t+="<div class='ug-videoplayer-button-close'></div>"),t+="</div>",e.append(t),a=e.children(".ug-videoplayer"),l=a.children(".ug-videoplayer-youtube"),d=a.children(".ug-videoplayer-vimeo"),u=a.children(".ug-videoplayer-html5"),c=a.children(".ug-videoplayer-soundcloud"),p=a.children(".ug-videoplayer-wistia"),0==E.standAloneMode&&1==x.video_enable_closebutton&&(h=a.children(".ug-videoplayer-button-close"))},this.destroy=function(){h&&(h.off("click"),h.off("touchend")),jQuery(_).off(_.events.START_PLAYING),jQuery(_).off(_.events.STOP_PLAYING),jQuery(v).off(v.events.START_PLAYING),jQuery(v).off(v.events.STOP_PLAYING),jQuery(y).off(y.events.START_PLAYING),jQuery(y).off(y.events.STOP_PLAYING),jQuery(b).off(b.events.START_PLAYING,t),jQuery(b).off(b.events.STOP_PLAYING,i),jQuery(w).off(w.events.START_PLAYING,t),jQuery(w).off(w.events.STOP_PLAYING,i),S=null},this.initEvents=function(){s()},this.setSize=function(e,t){m.setElementSize(a,e,t),h&&m.placeElement(h,"right","top")},this.setPosition=function(e,t){m.placeElement(a,e,t)},this.getObject=function(){return a},this.show=function(){if(1==f.isVisible())return!0;a.show(),a.fadeTo(0,1),h&&h.show(),g.trigger(f.events.SHOW)},this.hide=function(){if(0==f.isVisible())return!0;r(),S=null,a.hide(),g.trigger(f.events.HIDE)},this.getActiveAPI=function(){switch(S){case"youtube":return _;case"vimeo":return v;case"wistia":return w;case"soundcloud":return b;case"html5":return y;default:return null}},this.pause=function(){var e=f.getActiveAPI();if(null==e)return!1;"function"==typeof e.pause&&e.pause()},this.isVisible=function(){return a.is(":visible")},this.playYoutube=function(e,t){if(void 0===t)var t=!0;r("youtube"),l.show(),0==l.children("#"+E.youtubeInnerID).length&&l.append("<div id='"+E.youtubeInnerID+"'></div>"),1==_.isPlayerReady()&&1==E.standAloneMode?_.changeVideo(e,t):_.putVideo(E.youtubeInnerID,e,"100%","100%",t),S="youtube"},this.playVimeo=function(e,t){if(void 0===t)var t=!0;r("vimeo"),d.show(),v.putVideo(E.vimeoPlayerID,e,"100%","100%",t),S="vimeo"},this.playHtml5Video=function(e,t,i,n,s){if(void 0===s)var s=!0;r("html5"),u.show();var o={ogv:e,webm:t,mp4:i,posterImage:n};y.putVideo(E.html5PlayerID,o,"100%","100%",s),S="html5"},this.playSoundCloud=function(e,t){if(void 0===t)var t=!0;r("soundcloud"),c.show(),b.putSound(E.soundCloudPlayerID,e,"100%","100%",t),S="soundcloud"},this.playWistia=function(e,t){if(void 0===t)var t=!0;r("wistia"),p.show(),w.putVideo(E.wistiaPlayerID,e,"100%","100%",t),S="wistia"}}function ugCheckForMinJQueryVersion(){if(0==g_ugFunctions.checkMinJqueryVersion("1.8.0"))throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(e,t){try{"jquery"==t?(!function(){if("undefined"==typeof jQuery)throw new Error("jQuery library not included")}(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),function(){if("function"==typeof jQuery.fn.unitegallery)return!0;var e="You have some jquery.js library include that comes after the gallery files js include.";throw e+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==t?(e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):e+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",new Error(e)}())}catch(s){var i=s.message;if(i="Unite Gallery Error: "+i,i="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+i+"</div>","jquery"==t){var n=document.getElementById(e);n.innerHTML=i,n.style.display="block"}else jQuery(e).show().html(i);return!1}return!0}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(e){var t=e;return-1==t.indexOf("UGTheme_")&&(t="UGTheme_"+t),t}function initTheme(objCustomOptions){if(objCustomOptions.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objCustomOptions.gallery_theme;else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),g_objTheme=new g_options.gallery_theme,g_objTheme.init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=void 0,g_objThumbs=void 0,g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(e){throwErrorShowMessage(e.message)}"object"==typeof g_objWrapper.outerWidth()&&throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version."),setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(e,i,n,s){var r="object"==typeof i;if(r&&(g_temp.objCustomOptions=i),1==g_temp.isRunFirstTime){if(g_galleryID=e,g_objWrapper=jQuery(g_galleryID),0==g_objWrapper.length)return trace("div with id: "+g_galleryID+" not found"),!1;g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),r&&(g_options=jQuery.extend(g_options,i)),1==g_options.gallery_enable_cache&&g_options.gallery_initial_catid&&cacheItems(g_options.gallery_initial_catid),t.setSizeClass();var o=g_objWrapper.children();fillItemsArray(o),loadAPIs(),g_objWrapper.find("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),n){if(s&&1==g_options.gallery_enable_cache&&cacheItems(s,n),"noitems"==n)return showErrorMessage("No items in this category",""),!1;g_objWrapper.html(n);var o=g_objWrapper.children();fillItemsArray(o),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_tabs&&(g_objTabs=new UGTabs,g_objTabs.init(t,g_options)),1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_loadmore&&(g_objLoadMore=new UGLoadMore,g_objLoadMore.init(t,g_options)),r&&modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&&t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties(),0==g_objWrapper.width()?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&&g_temp.isRunFirstTime&&g_objTabs.run(),preloadBigImages(),initEvents(),g_numItems>0&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(e,t){if(void 0===t)var t="<b>Unite Gallery Error: </b>";else t="<b>"+t+": </b>";e=t+e;var i="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+e+"</div></div>";g_objWrapper.children().remove(),g_objWrapper.html(i),g_objWrapper.show()}function throwErrorShowMessage(e){throw showErrorMessage(e),new Error(e)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),(void 0==g_options.gallery_min_height||g_options.gallery_height<g_options.gallery_min_height)&&(g_options.gallery_min_height=0),(void 0==g_options.gallery_min_width||g_options.gallery_width<g_options.gallery_min_width)&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width,g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e=t.getSize();if(e.width/e.height!=e.orig_ratio){var i=e.width/e.orig_ratio;i=Math.round(i),i<g_options.gallery_min_height&&(i=g_options.gallery_min_height),g_objWrapper.height(i)}}function setHtmlObjectsProperties(){var e=g_functions.getCssSizeParam(g_options.gallery_width),t={"max-width":e,"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};if(0==g_temp.isFreestyleMode){var i=g_functions.getCssSizeParam(g_options.gallery_height);t.height=i}else t.overflow="visible";g_options.gallery_background_color&&(t["background-color"]=g_options.gallery_background_color),g_objWrapper.css(t)}function fillItemByChild(e){var i=t.isMobileMode(),n=e.prop("tagName").toLowerCase(),s="";if("a"==n){s=e.attr("href"),e=e.children();var n=e.prop("tagName").toLowerCase()}var r=e.data("type");void 0==r&&(r="image");var o={};if(o.type=r,"img"==n){var a=e.data("lazyload-src");a&&""!=a&&(e.attr("src",a),jQuery.removeData(e,"lazyload-src"));var l=e.data("image"),d=e.data("thumb");void 0===l&&(l=null),void 0===d&&(d=null);var u=e.attr("src");l||(l=u),d||(d=u),d||(d=l),l||(l=d),o.urlThumb=d,o.urlImage=l,o.title=e.attr("alt"),o.objThumbImage=e,o.objThumbImage.attr("src",o.urlThumb)}else{if("image"==r)throw trace("Problematic gallery item found:"),trace(e),trace("Please look for some third party js script that could add this item to the gallery"),new Error("The item should not be image type");o.urlThumb=e.data("thumb"),o.title=e.data("title"),o.objThumbImage=null,o.urlImage=e.data("image")}if(1==i){var h=e.data("thumb-mobile");void 0!==h&&""!=h&&(o.urlThumb=h,"img"==n&&e.attr("src",o.urlThumb));var c=e.data("image-mobile");void 0!==c&&""!=c&&(o.urlImage=c)}o.link=s,o.description=e.attr("title"),o.description||(o.description=e.data("description")),o.description||(o.description=""),o.isNewAdded=!1,o.isLoaded=!1,o.isThumbImageLoaded=!1,o.objPreloadImage=null,o.isBigImageLoadStarted=!1,o.isBigImageLoaded=!1,o.isBigImageLoadError=!1,o.imageWidth=0,o.imageHeight=0,o.thumbWidth=0,o.thumbHeight=0,o.thumbRatioByWidth=0,o.thumbRatioByHeight=0;var p=e.data("width"),f=e.data("height");p&&"number"==typeof p&&f&&"number"==typeof f&&(o.thumbWidth=p,o.thumbHeight=f,o.thumbRatioByWidth=p/f,o.thumbRatioByHeight=f/p),o.addHtml=null;var g=void 0==o.urlImage||""==o.urlImage,m=void 0==o.urlThumb||""==o.urlThumb;switch(o.type){case"youtube":if(o.videoid=e.data("videoid"),g||m){var _=g_ugYoutubeAPI.getVideoImages(o.videoid);g&&(o.urlImage=_.preview),m&&(o.urlThumb=_.thumb,"img"==n&&e.attr("src",o.urlThumb))}g_temp.isYoutubePresent=!0;break;case"vimeo":o.videoid=e.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":o.videoogv=e.data("videoogv"),o.videowebm=e.data("videowebm"),o.videomp4=e.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":o.trackid=e.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":o.videoid=e.data("videoid"),g_temp.isWistiaPresent=!0;break;case"custom":var v=e.children("img");v.length&&(v=jQuery(v[0]),o.urlThumb=v.attr("src"),o.title=v.attr("alt"),o.objThumbImage=v);var y=e.children().not("img:first-child");y.length&&(o.addHtml=y.clone())}return o.objThumbImage&&(o.objThumbImage.removeAttr("data-description",""),o.objThumbImage.removeAttr("data-image",""),o.objThumbImage.removeAttr("data-thumb",""),o.objThumbImage.removeAttr("title","")),o}function fillItemsArray(e,t){if(!0!==t)g_arrItems=[];else for(var i=0;i<g_numItems;i++)g_arrItems[i].isNewAdded=!1;for(var i=0;i<e.length;i++){var n=jQuery(e[i]),s=fillItemByChild(n);numIndex=g_arrItems.length,s.index=numIndex,!0===t&&(s.isNewAdded=!0),g_arrItems.push(s)}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){var e=this;1==g_objThumbs.isItemThumbVisible(e)&&preloadItemImage(e)})}}function checkPreloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(e);break;case"visible":1==g_objThumbs.isItemThumbVisible(e)&&preloadItemImage(e)}}function preloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!0;var i=e.urlImage;if(""==i||void 0==i)return e.isBigImageLoadError=!0,!1;e.isBigImageLoadStarted=!0,e.objPreloadImage=jQuery("<img/>").attr("src",i),e.objPreloadImage.data("itemIndex",e.index),e.objPreloadImage.on("load",t.onItemBigImageLoaded),e.objPreloadImage.on("error",function(){var e=jQuery(this),i=e.data("itemIndex"),n=g_arrItems[i];n.isBigImageLoadError=!0,n.isBigImageLoaded=!1;var s=jQuery(this).attr("src");console.log("Can't load image: "+s),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[i,n.urlImage]),n.objThumbImage.attr("src",n.urlThumb)}),checkAllItemsStartedPreloading()}function preloadNearBigImages(e){if(1==g_temp.isAllItemsPreloaded)return!1;if(!e)var e=g_selectedItem;if(!e)return!0;var t=e.index,i=t-1,n=t+1;i>0&&preloadItemImage(g_arrItems[i]),n<g_numItems&&preloadItemImage(g_arrItems[n])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var e in g_arrItems)if(0==g_arrItems[e].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(e){1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(e){if(1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()){0==g_objSlider.isCurrentSlideLoadingImage()&&t.continuePlaying()}}function onKeyPress(e){var i=jQuery(e.target);if(i.is("textarea")||i.is("select")||i.is("input"))return!0;var n=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0,s=!0;switch(n){case 39:t.nextItem();break;case 37:t.prevItem();break;default:s=!1}1==s&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),g_objGallery.trigger(t.events.GALLERY_KEYPRESS,[n,e])}function onGalleryResized(){var e=t.getSize();if(0==e.width)return!0;t.setSizeClass();var e=t.getSize();if(e.width!=g_temp.lastWidth||0==g_temp.isFreestyleMode&&e.height!=g_temp.lastHeight){var i=!1;if(g_temp.funcCustomHeight){var n=g_temp.funcCustomHeight(e);n&&(g_objWrapper.height(n),i=!0)}
0==i&&1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE)}}function onThumbsChange(e){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var e=g_functions.isFullScreen(),i=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,n=g_functions.getGlobalData("fullscreenID");if(g_galleryID!==n)return!0;e?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(i),onGalleryResized()}function onItemImageUpdated(e,i){checkPreloadItemImage(t.getItem(i))}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&&t.continuePlaying()}function initEvents(){if(g_objWrapper.on("dragstart",function(e){e.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}if("advance"==g_options.gallery_mousewheel_role&&0==g_temp.isFreestyleMode&&g_objWrapper.on("mousewheel",t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),setTimeout(function(){setInterval(onGalleryResized,2e3)},1e4),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider){if(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();-1!=e&&t.selectItem(e)}),1==g_options.gallery_pause_on_mouseover){g_objSlider.getElement().hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})}retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)}1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(e,t){if(t){var i=t;"noitems"!=i&&(i=jQuery(t).clone())}else var i=g_objWrapper.children().clone();g_objCache[e]=i}function removeAllSizeClasses(e){e||(e=g_objWrapper),e.removeClass("ug-under-480"),e.removeClass("ug-under-780"),e.removeClass("ug-under-960")}function retriggerEvent(e,t,i){jQuery(e).on(t,function(e){g_objGallery.trigger(i,[this])})}function advanceNextStep(){var e=jQuery.now(),i=e-g_temp.playTimeLastStep;if(g_temp.playTimeLastStep=e,0==t.isGalleryVisible())return!1;if(g_temp.playTimePassed+=i,g_temp.objProgress){var n=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(n)}g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){if(null==g_selectedItem)return!0;g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,g_selectedItemIndex=-1}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_objLoadMore,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items",OPEN_LIGHTBOX:"open_lightbox",CLOSE_LIGHTBOX:"close_lightbox"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:"",gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_loadmore:!1,gallery_enable_cache:!0,gallery_initial_catid:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{},funcCustomHeight:null};this.onItemBigImageLoaded=function(e,t){if(!t)var t=jQuery(this);var i=t.data("itemIndex"),n=g_arrItems[i];n.isBigImageLoaded=!0;var s=g_functions.getImageOriginalSize(t);n.imageWidth=s.width,n.imageHeight=s.height},this.checkFillImageSize=function(e,t){if(!t){var i=e.data("itemIndex");if(void 0===i)throw new Error("Wrong image given to gallery.checkFillImageSize");var t=g_arrItems[i]}var n=g_functions.getImageOriginalSize(e);t.imageWidth=n.width,t.imageHeight=n.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(e,t){g_temp.thumbsType=e,g_objThumbs=t},this.initSlider=function(e,i){if(!e)var e={};e=jQuery.extend(g_temp.objCustomOptions,e),g_objSlider=new UGSlider,g_objSlider.init(t,e,i)},this.onGalleryMouseWheel=function(e,i,n,s){e.preventDefault(),i>0?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off("dragstart"),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}if(g_objWrapper.off("mousewheel"),jQuery(window).off("resize"),g_functions.destroyFullScreenChangeEvent(),g_objSlider){jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED);var e=g_objSlider.getElement();e.off("mouseenter"),e.off("mouseleave"),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)}1==g_options.gallery_control_keyboard&&jQuery(document).off("keydown"),g_objTheme&&"function"==typeof g_objTheme.destroy&&g_objTheme.destroy(),g_objWrapper.html("")},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){return{g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems}},this.getObjSlider=function(){return g_objSlider},this.getItem=function(e){if(e<0)throw new Error("item with index: "+e+" not found");if(e>=g_numItems)throw new Error("item with index: "+e+" not found");return g_arrItems[e]},this.getWidth=function(){return t.getSize().width},this.getHeight=function(){return t.getSize().height},this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);return e.orig_width=g_options.gallery_width,e.orig_height=g_options.gallery_height,e.orig_ratio=e.orig_width/e.orig_height,e},this.getGalleryID=function(){return g_galleryID.replace("#","")},this.getNextItem=function(e,t){"object"==typeof e&&(e=e.index);var i=e+1;if(!0!==t&&1==g_numItems)return null;if(i>=g_numItems){if(1!=g_options.gallery_carousel&&!0!==t)return null;i=0}return g_arrItems[i]},this.getPrevItem=function(e){"object"==typeof e&&(e=e.index);var t=e-1;if(t<0){if(1!=g_options.gallery_carousel&&!0!==forceCarousel)return null;t=g_numItems-1}return g_arrItems[t]},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1},this.isFirstItem=function(){return 0==g_selectedItemIndex},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.nextItem)},this.setPrevButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.prevItem)},this.setFullScreenToggleButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnTap(e,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){e.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(e){g_temp.objProgress=e},this.setTextContainers=function(e,i){g_objGallery.on(t.events.ITEM_CHANGE,function(){var n=t.getSelectedItem();e.html(n.title),i.html(n.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()},this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var e=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0),e.show()}g_objGallery.trigger(t.events.START_PLAY),g_objSlider&&1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()},this.resetPlaying=function(){if(0==g_temp.isPlayMode)return!0;g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now()},this.pausePlaying=function(){if(1==g_temp.isPlayModePaused)return!0;g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),g_objGallery.trigger(t.events.PAUSE_PLAYING)},this.continuePlaying=function(){if(0==g_temp.isPlayModePaused)return!0;g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)},this.stopPlayMode=function(){if(g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress){g_temp.objProgress.getElement().hide()}g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){g_arrItems=g_functions.arrayShuffle(g_arrItems);for(var e in g_arrItems)g_arrItems[e].index=parseInt(e)},this.setOptions=function(e){g_options=jQuery.extend(g_options,e)},this.selectItem=function(e,i){"number"==typeof e&&(e=t.getItem(e));var n=e.index;if(n==g_selectedItemIndex)return!0;if(unselectSeletedItem(),g_selectedItem=e,g_selectedItemIndex=n,g_objGallery.trigger(t.events.ITEM_CHANGE,[e,i]),1==g_temp.isPlayMode){t.resetPlaying();1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()}},this.nextItem=function(){var e=g_selectedItemIndex+1;return 0==g_numItems||(0==g_options.gallery_carousel&&e>=g_numItems||(e>=g_numItems&&(e=0),void t.selectItem(e,"next")))},this.prevItem=function(){var e=g_selectedItemIndex-1;return-1==g_selectedItemIndex&&(e=0),0==g_numItems||(0==g_options.gallery_carousel&&e<0||(e<0&&(e=g_numItems-1),void t.selectItem(e,"prev")))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen||1==g_functions.isFullScreen()},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var e=g_objWrapper.get(0);0==g_functions.toFullscreen(e)&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(e,t,i){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",e+"px"),t&&g_objWrapper.height(t),i||!0===i||onGalleryResized()},this.setSizeClass=function(e,i){if(!e)var e=g_objWrapper;if(!i)var n=t.getSize(),i=n.width;if(0==i)var i=jQuery(window).width();var s="";if(i<=480?s="ug-under-480":i<=780?s="ug-under-780":i<960&&(s="ug-under-960"),1==e.hasClass(s))return!0;removeAllSizeClasses(e),""!=s&&e.addClass(s)},this.isMobileMode=function(){return!!g_objWrapper.hasClass("ug-under-480")},this.isSmallWindow=function(){var e=jQuery(window).width();return!e||e<=480},this.isGalleryVisible=function(){return g_objWrapper.is(":visible")},this.changeItems=function(e,t){if(!e)var e="noitems";runGallery(g_galleryID,"nochange",e,t)},this.addItems=function(e){if(!e||0==e.length)return!1;var t=g_objWrapper.children(".ug-newitems-wrapper");if(0==t.length&&g_objWrapper.append("<div class='ug-newitems-wrapper' style='display:none'></div>"),t=g_objWrapper.children(".ug-newitems-wrapper"),t.append(e),fillItemsArray(jQuery(t.children()),!0),loadAPIs(),!g_objTheme||"function"!=typeof g_objTheme.addItems)throw new Error("addItems function not found in the theme");t.remove(),g_objTheme.addItems()},this.getNewAddedItemsIndexes=function(){var e=[];return jQuery.each(g_arrItems,function(t,i){1==i.isNewAdded&&e.push(t)}),e},this.showErrorMessageReplaceGallery=function(e){showErrorMessage(e)},this.setFuncCustomHeight=function(e){g_temp.funcCustomHeight=e},this.__________EXTERNAL_EVENTS_______=function(){},this.triggerEvent=function(e,t){t?("array"!=jQuery.type(t)&&(t=[t]),g_objGallery.trigger(e,t)):g_objGallery.trigger(e)},this.onEvent=function(e,t){g_objGallery.on(e,t)},this.destroyEvent=function(e){g_objGallery.off(e)},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(e,t,i,n){if(!i||"function"!=typeof i)throw new Error("ajaxRequest error: success function should be passed");var s=g_options.gallery_urlajax;if(!s||""==s)throw new Error("ajaxRequest error: Ajax url don't passed");if(void 0===t)var t={};var r={action:"unitegallery_ajax_action",client_action:e,galleryID:g_galleryID,data:t};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:r,success:function(e){if(!e)throw new Error("Empty ajax response!");if(-1==e||0===e)throw new Error("ajax error!!!");if(void 0===e.success)throw new Error("ajax error!!!");if(0==e.success)return showErrorMessage(e.message,"ajax error"),!1;i(e)},error:function(e,t,i){console.log("Ajax Error!!! "+t),responseText=e.responseText,n&&"function"==typeof n?n(responseText):trace(responseText)}})},this.requestNewItems=function(e,i,n){var s=g_options.gallery_enable_cache;if(n||(n=e),1==i&&(s=!1),1==s&&g_objCache.hasOwnProperty(n)){var r=g_objCache[n];t.changeItems(r,n)}else g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest("front_get_cat_items",{catid:e},function(e){var i=e.html;t.changeItems(i,n)})},this.run=function(e,t){g_options.gallery_debug_errors;if(t&&t.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=t.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(e,t)}catch(e){if("object"==typeof e){var i=e.message,n=e.lineNumber,s=e.fileName;e.stack;i+=" <br><br> in file: "+s,i+=" <b> line "+n+"</b>",trace(e)}else var i=e;i=i.replace("Error:",""),showErrorMessage(i)}else runGallery(e,t)}}function UGLightbox(){function e(e,i){ie=e,V=jQuery(e),oe=jQuery.extend(oe,le),oe=jQuery.extend(oe,i),ae.originalOptions=jQuery.extend({},oe),"compact"==oe.lightbox_type&&(ae.isCompact=!0,oe=jQuery.extend(oe,de),oe=jQuery.extend(oe,i)),t(),1==ae.putSlider?(ie.initSlider(oe,"lightbox"),g_objects=e.getObjects(),ne=g_objects.g_objSlider):ne=null,1==oe.lightbox_show_textpanel?re.init(ie,oe,"lightbox"):re=null}function t(){1==ae.isCompact&&1==oe.lightbox_show_textpanel&&(oe.lightbox_slider_image_padding_bottom=ae.initTextPanelHeight),1==ae.isCompact&&"inside"==oe.lightbox_arrows_position&&(ae.isArrowsInside=!0),1==ae.isArrowsInside&&0==oe.lightbox_arrows_inside_alwayson&&(ae.isArrowsOnHoverMode=!0),0==oe.lightbox_show_textpanel&&(ae.isTopPanelEnabled=!1,ae.topPanelHeight=0,oe.lightbox_slider_image_padding_top=0)}function i(){var e="",t="";1==ae.isCompact&&(t=" ug-lightbox-compact"),e+="<div class='ug-gallery-wrapper ug-lightbox"+t+"'>",e+="<div class='ug-lightbox-overlay'></div>",0==ae.isCompact&&ae.isTopPanelEnabled?(e+="<div class='ug-lightbox-top-panel'>",e+="<div class='ug-lightbox-top-panel-overlay'></div>",oe.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="</div>"):oe.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="<div class='ug-lightbox-button-close'></div>",e+="<div class='ug-lightbox-arrow-left'></div>",e+="<div class='ug-lightbox-arrow-right'></div>",e+="</div>",Y=jQuery(e),jQuery("body").append(Y),ne&&ne.setHtml(Y),U=Y.children(".ug-lightbox-overlay"),0==ae.isCompact&&1==ae.isTopPanelEnabled&&(J=Y.children(".ug-lightbox-top-panel"),0==J.length&&(J=null)),Z=Y.find(".ug-lightbox-button-close"),oe.lightbox_show_numbers&&(K=Y.find(".ug-lightbox-numbers")),X=Y.children(".ug-lightbox-arrow-left"),q=Y.children(".ug-lightbox-arrow-right"),re&&(J?re.appendHTML(J):re.appendHTML(Y))}function n(){if(null!==oe.lightbox_overlay_color&&U.css("background-color",oe.lightbox_overlay_color),null!==oe.lightbox_overlay_opacity&&U.fadeTo(0,oe.lightbox_overlay_opacity),J&&null!==oe.lightbox_top_panel_opacity&&J.children(".ug-lightbox-top-panel-overlay").fadeTo(0,oe.lightbox_top_panel_opacity),K){var e={};null!==oe.lightbox_numbers_size&&(e["font-size"]=oe.lightbox_numbers_size+"px"),oe.lightbox_numbers_color&&(e.color=oe.lightbox_numbers_color),null!==oe.lightbox_numbers_padding_right&&(e["padding-right"]=oe.lightbox_numbers_padding_right+"px"),null!==oe.lightbox_numbers_padding_top&&(e["padding-top"]=oe.lightbox_numbers_padding_top+"px"),K.css(e)}}function s(e){if(!ne)return!0;var t={slider_image_padding_top:e};ne.setOptions(t),ne.refreshSlideItems()}function r(e){if(!J)return!1;if(!re)return!1;var t=J.height();if(0==t)return!1;if(0==J.is(":visible"))return!1;var i=t,n=re.getSize(),r=n.height;t!=ae.topPanelHeight&&(i=ae.topPanelHeight),r>i&&(i=r),t!=i&&(J.height(i),ne&&0==ne.isAnimating()&&s(i))}function o(e){var t={},i=oe.lightbox_textpanel_width;i>e.width-47-40?(t.textpanel_padding_left=47,t.textpanel_padding_right=40,t.textpanel_title_text_align="center",t.textpanel_desc_text_align="center"):(t.textpanel_padding_left=Math.floor((e.width-i)/2),t.textpanel_padding_right=t.textpanel_padding_left,t.textpanel_title_text_align="left",t.textpanel_desc_text_align="left",oe.lightbox_textpanel_title_text_align&&(t.textpanel_title_text_align=oe.lightbox_textpanel_desc_text_align),oe.lightbox_textpanel_desc_text_align&&(t.textpanel_desc_text_align=oe.lightbox_textpanel_desc_text_align)),re.setOptions(t),re.refresh(!0,!0),r("positionTextPanelWide"),re.positionPanel()}function a(){if(!J)return!1;J.hide()}function l(){if(!J)return!1;J.show()}function d(e){if(0==ae.isOpened)return!1;if(!re)return!1;if(!ne)return!1;var t=se.getElementSize(Y),i=re.getSize();if(0==i.width||i.height>120)return!1;if(!e)var n=ne.getSlideImage(),e=se.getElementSize(n);if(0==e.height||0==e.width)return!1;if(e.bottom+i.height<t.height)return!1;var s=ne.getOptions(),r=i.height;if(r!=s.slider_image_padding_bottom){var o={slider_image_padding_bottom:r};if(0==ne.isAnimating())return ne.setOptions(o),ne.refreshSlideItems(),!0}return!1}function u(e,t){if(!e)var i=ne.getSlideImage(),e=se.getElementSize(i);ae.textPanelTop=e.bottom,!0===t&&re.positionPanel(ae.textPanelTop,ae.textPanelLeft)}function h(e){var t=(se.getElementSize(Y),ne.getSlideImage()),i=se.getElementSize(t);if(0==i.width)return!1;ae.textPanelLeft=i.left,ae.textPanelTop=i.bottom;var n=i.width;if(K){var s=se.getElementSize(K);n-=s.width;var r=i.right-s.width;se.placeElement(K,r,ae.textPanelTop)}re&&(re.show(),re.refresh(!0,!0,n),u(i)),0==d(i)&&(ae.positionFrom="handleCompactTextpanelSizes",re&&(re.positionPanel(ae.textPanelTop,ae.textPanelLeft),!0===e&&(e(),M())))}function c(){return 0==ne.isCurrentSlideType("image")||1==ne.isCurrentImageInPlace()}function p(e,t){if(0==ae.isArrowsInside)return!1;if(!X)return!1;var i=c();if(X.show(),q.show(),ae.positionFrom="positionArrowsInside",1==ae.isArrowsOnHoverMode&&1==i&&0==b()&&w(!0),0==i)var n=se.getElementRelativePos(X,"left",oe.lightbox_arrows_offset),s=se.getElementRelativePos(X,"middle"),r=se.getElementRelativePos(q,"right",oe.lightbox_arrows_offset),o=s;else var a=ne.getSlideImage(),l=se.getElementSize(a),n=(se.getElementSize(ne.getElement()),se.getElementRelativePos(X,"left",0,a)+l.left+oe.lightbox_arrows_inside_offset),s=se.getElementRelativePos(X,"middle",0,a)+l.top,r=se.getElementRelativePos(X,"right",0,a)+l.left-oe.lightbox_arrows_inside_offset,o=s;if(!0===t){var d={left:n,top:s},u={left:r,top:o};X.stop().animate(d,{duration:ae.fadeDuration}),q.stop().animate(u,{duration:ae.fadeDuration})}else X.stop(),q.stop(),se.placeElement(X,n,s),se.placeElement(q,r,o);1==e&&x(t)}function f(e,t){ae.positionFrom=null;var i=c(),n=se.getElementRelativePos(Z,"right",2,Y);if(0==i)var s=2,r=n;else{var o=ne.getSlideImage(),a=se.getElementSize(o),l=se.getElementSize(ne.getElement()),d=se.getElementSize(Z);l.top==l.height&&(l.top=0);var r=l.left+a.right-d.width/2+oe.lightbox_compact_closebutton_offsetx,s=l.top+a.top-d.height/2-oe.lightbox_compact_closebutton_offsety;s<2&&(s=2),r>n&&(r=n)}if(!0===t){var u={left:r,top:s};Z.stop().animate(u,{duration:ae.fadeDuration})}else Z.stop(),se.placeElement(Z,r,s);!0===e&&E(t)}function g(){Z&&Z.stop().fadeTo(ae.fadeDuration,0),v(),y(),ae.positionFrom="hideCompactElements",1==ae.isArrowsInside&&w()}function m(){Z&&Z.hide(),X&&1==ae.isArrowsInside&&(X.hide(),q.hide()),K&&K.hide(),re&&re.hide()}function _(){var e=se.getElementSize(Y);J&&se.setElementSizeAndPosition(J,0,0,e.width,ae.topPanelHeight),X&&0==ae.isArrowsInside&&(1==oe.lightbox_hide_arrows_onvideoplay&&(X.show(),q.show()),se.placeElement(X,"left","middle",oe.lightbox_arrows_offset),se.placeElement(q,"right","middle",oe.lightbox_arrows_offset)),0==ae.isCompact&&se.placeElement(Z,"right","top",2,2),re&&(ae.positionFrom="positionElements",0==ae.isCompact?o(e):(I(),M()));var t=e.width,i=e.height;if(ne){if(J){var n=J.height(),s={slider_image_padding_top:n};ne.setOptions(s)}ne.setSize(t,i),ne.setPosition(0,0)}}function v(){re&&re.getElement().stop().fadeTo(ae.fadeDuration,0)}function y(){K&&K.stop().fadeTo(ae.fadeDuration,0)}function b(){if(!ae.lastMouseX)return!0;var e={pageX:ae.lastMouseX,pageY:ae.lastMouseY};return ne.isMouseInsideSlideImage(e)}function w(e,t){return!!X&&(1==ae.isArrowsOnHoverMode&&!1===t?(b(),!0):void(!0===e?(X.stop().fadeTo(0,0),q.stop().fadeTo(0,0)):(X.stop().fadeTo(ae.fadeDuration,0),q.stop().fadeTo(ae.fadeDuration,0))))}function S(){return!X||(0==X.is(":visible")||1!=X.css("opacity"))}function x(e,t){return!!X&&(1==ae.isArrowsOnHoverMode&&!0!==t&&1==c()||(1==ne.isSwiping()||(!0!==e&&(X.stop(),q.stop()),X.fadeTo(ae.fadeDuration,1),void q.fadeTo(ae.fadeDuration,1))))}function E(e){!0!==e&&Z.stop(),Z.fadeTo(ae.fadeDuration,1)}function T(e){if(!re)return!1;if(!e)var e=ne.getCurrentItem();re.setTextPlain(e.title,e.description)}function C(e){if(!K)return!1;if(!e)var e=ne.getCurrentItem();var t=ie.getNumItems(),i=e.index+1;K.html(i+" / "+t)}function I(){if(!re)return!1;re.getElement().show().stop().fadeTo(ae.fadeDuration,1)}function M(){K&&K.stop().fadeTo(ae.fadeDuration,1)}function P(){if(0==ae.isCompact)return!0;g()}function L(){if(0==ae.isCompact)return!0;if(ae.positionFrom="onZoomChange",f(!1,!0),p(!1,!0),1==ae.isCompact){0==(ne.isCurrentSlideType("image")&&1==ne.isCurrentImageInPlace())?(v(),y()):(ae.positionFrom="onZoomChange",I(),M())}}function j(){if(0==ae.isCompact)return!0;ae.positionFrom="onSliderAfterReturn",f(!0),p(!0),0==d()&&h(),I(),M()}function A(e,t){return t=jQuery(t),0==ae.isCompact||(0==ne.isSlideCurrent(t)||(ae.positionFrom="onSliderAfterPutImage",f(!0),p(!0),void h()))}function k(){var e=ne.getOptions(),t=e.slider_image_padding_top;if(J){var i=J.height();i!=t&&s(i)}if(1==ae.isCompact){if(T(),C(),ae.positionFrom="onSliderTransitionEnd",f(!0),p(!0),0==ne.isSlideActionActive()){0==d()&&h()}I(),M()}}function O(e,t){0==ae.isCompact?(K&&C(t),re&&(T(t),0==ae.isRightNowOpened&&(re.positionElements(!1),r("onchange"),re.positionPanel()))):0==ne.isAnimating()&&(re&&T(t),K&&C(t)),0==ae.isSliderChangedOnce&&(ae.isSliderChangedOnce=!0,te.trigger(ee.events.LIGHTBOX_INIT))}function z(e,t){if("image"!=ne.getSlideType()&&0==ae.isCompact&&ne.isSlideActionActive())return!0;if(1==ne.isPreloading())return ee.close("slider"),!0;if(1==oe.lightbox_close_on_emptyspace){0==ne.isMouseInsideSlideImage(t)&&ee.close("slider_inside")}}function N(){_()}function H(){J?a():K&&K.hide(),X&&1==oe.lightbox_hide_arrows_onvideoplay&&(X.hide(),q.hide())}function D(){J?(l(),r("onStopVideo")):K&&K.show(),X&&1==oe.lightbox_hide_arrows_onvideoplay&&(X.show(),q.show())}function R(e,t,i){var n=!1;switch(t){case 27:1==ae.isOpened&&ee.close("keypress");break;case 38:case 40:case 33:case 34:n=!0}1==ae.isOpened&&1==n&&i.preventDefault()}function $(){1==ae.isArrowsOnHoverMode&&x(!1,!0)}function W(e){ae.positionFrom="hideCompactElements",1==ae.isArrowsOnHoverMode&&1==c()&&w(!1,!0)}function B(e){ae.lastMouseX=e.pageX,ae.lastMouseY=e.pageY,1==S()&&b()&&0==ne.isAnimating()&&(ae.positionFrom="onMouseMove",X&&0==X.is(":animated")&&x(!1,!0))}function F(e,t,i,n){if(0==ae.isOpened)return!0;switch(oe.gallery_mousewheel_role){default:case"zoom":"image"!=ne.getSlideType()&&e.preventDefault();break;case"none":e.preventDefault();break;case"advance":ie.onGalleryMouseWheel(e,t,i,n)}}function G(){if(U.on("touchstart",function(e){e.preventDefault()}),U.on("touchend",function(e){ee.close("overlay")}),se.addClassOnHover(q,"ug-arrow-hover"),se.addClassOnHover(X,"ug-arrow-hover"),se.addClassOnHover(Z),ie.setNextButton(q),ie.setPrevButton(X),Z.click(function(){ee.close("button")}),V.on(ie.events.ITEM_CHANGE,O),ne){jQuery(ne).on(ne.events.TRANSITION_END,k),jQuery(ne).on(ne.events.CLICK,z);var e=ne.getVideoObject();jQuery(e).on(e.events.PLAY_START,H),jQuery(e).on(e.events.PLAY_STOP,D),jQuery(ne).on(ne.events.START_DRAG,P),jQuery(ne).on(ne.events.TRANSITION_START,P),jQuery(ne).on(ne.events.AFTER_DRAG_CHANGE,j),jQuery(ne).on(ne.events.AFTER_RETURN,j),jQuery(ne).on(ne.events.AFTER_PUT_IMAGE,A),jQuery(ne).on(ne.events.ZOOM_CHANGE,L),jQuery(ne).on(ne.events.IMAGE_MOUSEENTER,$),jQuery(ne).on(ne.events.IMAGE_MOUSELEAVE,W)}jQuery(window).resize(function(){if(0==ae.isOpened)return!0;se.whenContiniousEventOver("lightbox_resize",N,100)}),V.on(ie.events.GALLERY_KEYPRESS,R),1==ae.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",B),Y.on("mousewheel",F)}function Q(){ae.isCompact=!1,t(),ae.isArrowsInside=!1,ae.isArrowsOnHoverMode=!1,oe=jQuery.extend({},ae.originalOptions),oe.lightbox_arrows_position="sides",ne.setOptions(oe)}var V,Y,U,X,q,Z,K,J,ee=this,te=jQuery(this),ie=new UniteGalleryMain,ne=new UGSlider,se=new UGFunctions,re=new UGTextPanel,oe={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:!0};this.events={LIGHTBOX_INIT:"lightbox_init"};var ae={topPanelHeight:44,initTextPanelHeight:26,isOpened:!1,isRightNowOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1,isTopPanelEnabled:!0},le={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:ae.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_desc_style_as_title:!0,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},de={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};this.destroy=function(){if(jQuery(document).unbind("mousemove"),U.off("touchstart"),U.off("touchend"),Z.off("click"),V.off(ie.events.ITEM_CHANGE),ne){jQuery(ne).off(ne.events.TRANSITION_END),jQuery(ne).off(ne.events.CLICK),jQuery(ne).off(ne.events.START_DRAG),jQuery(ne).off(ne.events.TRANSITION_START),jQuery(ne).off(ne.events.AFTER_DRAG_CHANGE),jQuery(ne).off(ne.events.AFTER_RETURN);var e=ne.getVideoObject();jQuery(e).off(e.events.PLAY_START),jQuery(e).off(e.events.PLAY_STOP),jQuery(ne).on(ne.events.IMAGE_MOUSEENTER,$),jQuery(ne).on(ne.events.IMAGE_MOUSELEAVE,W),ne.destroy()}jQuery(window).unbind("resize"),V.off(ie.events.GALLERY_KEYPRESS,R),Y.off("mousewheel"),Y.remove()},this.open=function(e){var t=ie.getItem(e);if(ae.isOpened=!0,ae.isRightNowOpened=!0,setTimeout(function(){ae.isRightNowOpened=!1},100),ne&&ne.setItem(t,"lightbox_open"),re&&re.setTextPlain(t.title,t.description),U.stop().fadeTo(0,0),Y.show(),Y.fadeTo(0,1),U.stop().fadeTo(ae.fadeDuration,oe.lightbox_overlay_opacity),_(),1==ae.isCompact){1==ne.isPreloading()?m():1==ae.isArrowsInside&&(X.hide(),q.hide())}ne&&ne.startSlideAction(),V.trigger(ie.events.OPEN_LIGHTBOX,t)},this.close=function(e){ae.isOpened=!1,1==ae.isCompact&&g(),ne&&ne.stopSlideAction(),"image"!=ne.getSlideType()?Y.hide():Y.fadeTo(ae.fadeDuration,0,function(){Y.hide()}),
V.trigger(ie.events.CLOSE_LIGHTBOX)},this.init=function(t,i){e(t,i)},this.putHtml=function(){ie.isSmallWindow()&&1==ae.isCompact&&Q(),i()},this.run=function(){n(),ne&&ne.run(),G()}}function UGCarousel(){function e(e,t){g_objects=e.getObjects(),B=e,z=jQuery(e),N=g_objects.g_objWrapper,H=g_objects.g_arrItems,V=jQuery.extend(V,t),G.setFixedMode(),G.setApproveClickFunction(O),G.init(e,V),Q=G.getObjThumbs(),V=G.getOptions(),Y.initTileWidth=V.tile_width,Y.initTileHeight=V.tile_height,Y.tileWidth=V.tile_width}function t(e){if(!e)var e=N;N.append("<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>"),D=N.children(".ug-carousel-wrapper"),R=D.children(".ug-carousel-inner"),G.setHtml(R),Q.getThumbs().fadeTo(0,1)}function i(e,t){if(!t)var t=Y.initTileHeight/Y.initTileWidth*e;Y.tileWidth=e;var i={tile_width:e,tile_height:t};G.setOptions(i),V.tile_width=e,V.tile_height=t,G.resizeAllTiles(e),_(!0)}function n(){if(null===Y.carouselMaxWidth)throw new Error("The carousel width not set");if(Y.tileWidth<Y.initTileWidth){var e=Y.carouselMaxWidth-2*V.carousel_padding;e>Y.initTileWidth&&(e=Y.initTileWidth),i(e);var t=F.getNumItemsInSpace(Y.carouselMaxWidth,e,V.carousel_space_between_tiles)}else{var t=F.getNumItemsInSpace(Y.carouselMaxWidth,Y.tileWidth,V.carousel_space_between_tiles);if(t<=0){t=1;var e=Y.carouselMaxWidth-2*V.carousel_padding;i(e)}}var n=F.getSpaceByNumItems(t,Y.tileWidth,V.carousel_space_between_tiles);n+=2*V.carousel_padding,D.width(n),1==Y.isFirstTimeRun?(k(),G.run(),jQuery.each(H,function(e,t){t.objThumbWrapper.data("index",e),N.trigger(Y.eventSizeChange,[t.objThumbWrapper,!0]),t.objTileOriginal=t.objThumbWrapper.clone(!0,!0)}),_(!0),1==V.carousel_autoplay&&$.startAutoplay()):(1==V.carousel_autoplay&&$.pauseAutoplay(),S(0,!1),1==V.carousel_autoplay&&$.startAutoplay()),C(),Y.isFirstTimeRun=!1}function s(){return F.getElementSize(R).left}function r(e){return F.getMousePosition(e).pageX}function o(){return R.children(".ug-thumb-wrapper")}function a(e){return F.getNumItemsInSpace(e,Y.tileWidth,V.carousel_space_between_tiles)}function l(){return o().length}function d(e){v(e);var t=o();return jQuery(t[e])}function u(){return R.children(".ug-thumb-wrapper").first()}function h(){return R.children(".ug-thumb-wrapper").last()}function c(e,t,i){var n=e.data("index");if(void 0==n)throw new Error("every tile should have index!");for(var s=[],r=0;r<t;r++){if("prev"==i)var o=B.getPrevItem(n,!0);else var o=B.getNextItem(n,!0);if(!o)throw new Error("the item to add is empty");var a=o.objTileOriginal.clone(!0,!0);n=o.index,a.addClass("cloned"),s.push(a)}return s}function p(){var e=F.getElementSize(D),t=F.getElementSize(R),i=t.width-e.width+t.left;return Y.sideSpace-i}function f(){var e=-s();return Y.sideSpace-e}function g(){return F.getElementSize(D).width}function m(){return a(g())}function _(e){if(!e)var e=!1;var t,i=o(),n=0,s=0;return jQuery.each(i,function(e,r){r=jQuery(r),F.placeElement(r,n,0);var o=F.getElementSize(r);n+=o.width+V.carousel_space_between_tiles,s=Math.max(s,o.height),e==i.length-1&&(t=o.right)}),R.width(t),s+=2*V.carousel_padding,!0===e&&(R.height(s),D.height(s)),S(Y.numCurrent,!1),t}function v(e){if(e>o().length-1)throw new Error("Wrogn tile number: "+e)}function y(e,t){if("left"==t)var i=u();else var i=h();var n="left"==t?"prev":"next",s=c(i,e,n);jQuery.each(s,function(e,i){"left"==t?R.prepend(i):R.append(i),N.trigger(Y.eventSizeChange,i),G.loadTileImage(i)})}function b(e,t){v(n);for(var i=o(),n=i.length,s=0;s<e;s++)"left"==t?jQuery(i[s]).remove():jQuery(i[n-1-s]).remove()}function w(e){var t={left:e+"px"};R.css(t)}function S(e,t,i){if(void 0===t){var t=!0;if(R.is(":animated"))return!0}var n=d(e),s=F.getElementSize(n),r=-s.left+V.carousel_padding,o={left:r+"px"};if(!0===t){var a=V.carousel_scroll_duration,l=V.carousel_scroll_easing;!0===i&&(a=Y.scrollShortDuration,l=Y.scrollShortEasing),R.stop(!0).animate(o,{duration:a,easing:l,queue:!1,complete:function(){Y.numCurrent=e,T(!0)}})}else Y.numCurrent=e,R.css(o)}function x(){var e=-s(),t=a(e),i=F.getElementSize(d(t)).left,n=F.getElementSize(d(t+1)).left;return Math.abs(i-e)<Math.abs(n-e)?t:t+1}function E(){S(x(),!0,!0)}function T(){var e=f(),t=p(),i=0,n=0,s=0,r=0,o=l();if(e>Y.spaceActionSize)i=a(e),y(i,"left"),Y.numCurrent+=i;else if(e<-Y.spaceActionSize){var s=a(Math.abs(e));b(s,"left"),Y.numCurrent-=s}if(t>Y.spaceActionSize?(n=a(t),y(n,"right")):t<-Y.spaceActionSize&&(r=a(Math.abs(t)),b(r,"right")),r>o)throw new Error("Can't remove more then num tiles");var d=!1;return(i||n||s||r)&&(_(),d=!0),d}function C(e){F.placeElement(R,0,V.carousel_padding),T()}function I(){"left"==V.carousel_autoplay_direction?$.scrollRight(1):$.scrollLeft(1)}function M(e){if(1==Y.touchActive)return!0;Y.touchActive=!0,$.pauseAutoplay(),Y.startTime=jQuery.now(),Y.startMousePos=r(e),Y.startInnerPos=s(),Y.lastTime=Y.startTime,Y.lastMousePos=Y.startMousePos,F.storeEventData(e,Y.storedEventID)}function P(e){if(0==Y.touchActive)return!0;F.updateStoredEventData(e,Y.storedEventID),e.preventDefault();var t=null;if(1==V.carousel_vertical_scroll_ondrag&&(t=F.handleScrollTop(Y.storedEventID)),"vert"===t)return!0;Y.lastMousePos=r(e);var i=Y.lastMousePos-Y.startMousePos,n=Y.startInnerPos+i,s=i>0?"prev":"next",o=F.getElementSize(R).width;n>0&&"prev"==s&&(n/=3),n<-o&&"next"==s&&(n=Y.startInnerPos+i/3),w(n)}function L(e){if(0==Y.touchActive)return!0;Y.touchActive=!1,E(),$.unpauseAutoplay()}function j(e){if(0==V.carousel_autoplay_pause_onhover)return!0;1==Y.isPlayMode&&0==Y.isPaused&&$.pauseAutoplay()}function A(e){if(0==V.carousel_autoplay_pause_onhover)return!0;$.unpauseAutoplay()}function k(){G.initEvents(),D.bind("mousedown touchstart",M),jQuery("body").bind("mousemove touchmove",P),jQuery(window).add("body").bind("mouseup touchend",L),D.hover(j,A)}function O(){var e=Y.lastTime-Y.startTime,t=Math.abs(Y.lastMousePos-Y.startMousePos);return!(e>300)&&!(t>30)}var z,N,H,D,R,$=this,W=jQuery(this),B=new UniteGalleryMain,F=new UGFunctions,G=new UGTileDesign,Q=new UGThumbsGeneral,V={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1};this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"};var Y={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!1,startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};this.startAutoplay=function(){Y.isPlayMode=!0,Y.isPaused=!1,W.trigger($.events.START_PLAY),Y.handle&&clearInterval(Y.handle),Y.handle=setInterval(I,V.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==Y.isPlayMode||(0==Y.isPaused||void $.startAutoplay())},this.pauseAutoplay=function(){if(0==Y.isPlayMode)return!0;Y.isPaused=!0,Y.handle&&clearInterval(Y.handle),W.trigger($.events.PAUSE_PLAY)},this.stopAutoplay=function(){if(0==Y.isPlayMode)return!0;Y.isPaused=!1,Y.isPlayMode=!1,Y.handle&&clearInterval(Y.handle),W.trigger($.events.STOP_PLAY)},this.destroy=function(){Y.handle&&clearInterval(Y.handle),W.off($.events.START_PLAY),W.off($.events.STOP_PLAY),D.unbind("mousedown"),D.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),D.off("mouseenter").off("mouseleave"),G.destroy()},this.init=function(t,i,n){n&&this.setMaxWidth(n),e(t,i)},this.setMaxWidth=function(e){Y.carouselMaxWidth=e},this.setHtml=function(e){t(e)},this.getElement=function(){return D},this.getObjTileDesign=function(){return G},this.getEstimatedHeight=function(){return V.tile_height+2*V.carousel_padding},this.run=function(){n()},this.scrollRight=function(e){if(!e||"object"==typeof e)var e=V.carousel_navigation_numtiles;var t=m();e>t&&(e=t);var i=Y.numCurrent-e;i<=0&&(i=0),S(i)},this.scrollLeft=function(e){if(!e||"object"==typeof e)var e=V.carousel_navigation_numtiles;var t=m();e>t&&(e=t);var i=l(),n=Y.numCurrent+e;n>=i&&(n=i-1),S(n)},this.setScrollLeftButton=function(e){F.setButtonMobileReady(e),F.setButtonOnClick(e,$.scrollLeft)},this.setScrollRightButton=function(e){F.setButtonMobileReady(e),F.setButtonOnClick(e,$.scrollRight)},this.setPlayPauseButton=function(e){F.setButtonMobileReady(e),1==Y.isPlayMode&&0==Y.isPaused&&e.addClass("ug-pause-icon"),W.on($.events.START_PLAY,function(){e.addClass("ug-pause-icon")}),W.on($.events.STOP_PLAY,function(){e.removeClass("ug-pause-icon")}),F.setButtonOnClick(e,function(){0==Y.isPlayMode||1==Y.isPaused?$.startAutoplay():$.stopAutoplay()})}}function UGTabs(){function e(e,t){d=e,o=jQuery(d),u=jQuery.extend(u,t),"select"==u.tabs_type?l=jQuery(u.tabs_container):a=jQuery(u.tabs_container+" .ug-tab")}function t(){r()}function i(e){d.requestNewItems(e)}function n(){var e=u.tabs_class_selected,t=jQuery(this);if(t.hasClass(e))return!0;a.not(t).removeClass(e),t.addClass(e);var n=t.data("catid");if(!n)return!0;i(n)}function s(){var e=jQuery(this),t=e.val();if(!t)return!0;i(t)}function r(){"select"==u.tabs_type?l.change(s):a.click(n)}var o,a,l,d=(jQuery(this),new UniteGalleryMain),u=(new UGFunctions,{tabs_type:"tabs",tabs_container:"#ug_tabs",tabs_class_selected:"ug-tab-selected"});this.events={},this.destroy=function(){l&&l.off("change"),a&&a.off("click")},this.init=function(t,i){e(t,i)},this.run=function(){t()}}function UG_API(e){function t(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},i=e.objThumbImage.data();for(var n in i){switch(n){case"image":case"description":continue}t[n]=i[n]}return t}var i,n=this,s=(jQuery(n),new UniteGalleryMain),r=[];s=e,i=jQuery(e),this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(e,o,a){switch(!0!==a&&r.push({event:e,func:o}),e){case"item_change":i.on(s.events.ITEM_CHANGE,function(){var e=s.getSelectedItem(),i=t(e);o(i.index,i)});break;case"resize":i.on(s.events.SIZE_CHANGE,o);break;case"enter_fullscreen":i.on(s.events.ENTER_FULLSCREEN,o);break;case"exit_fullscreen":i.on(s.events.EXIT_FULLSCREEN,o);break;case"play":i.on(s.events.START_PLAY,o);break;case"stop":i.on(s.events.STOP_PLAY,o);break;case"pause":i.on(s.events.PAUSE_PLAYING,o);break;case"continue":i.on(s.events.CONTINUE_PLAYING,o);break;case"open_lightbox":i.on(s.events.OPEN_LIGHTBOX,o);break;case"close_lightbox":i.on(s.events.CLOSE_LIGHTBOX,o);break;default:console&&console.log("wrong api event: "+e)}i.trigger(n.events.API_ON_EVENT,[e,o])},this.play=function(){s.startPlayMode()},this.stop=function(){s.stopPlayMode()},this.togglePlay=function(){s.togglePlayMode()},this.enterFullscreen=function(){s.toFullScreen()},this.exitFullscreen=function(){s.exitFullScreen()},this.toggleFullscreen=function(){s.toggleFullscreen()},this.resetZoom=function(){var e=s.getObjSlider();if(!e)return!1;e.zoomBack()},this.zoomIn=function(){var e=s.getObjSlider();if(!e)return!1;e.zoomIn()},this.zoomOut=function(){var e=s.getObjSlider();if(!e)return!1;e.zoomOut()},this.nextItem=function(){s.nextItem()},this.prevItem=function(){s.prevItem()},this.selectItem=function(e){s.selectItem(e)},this.resize=function(e,t){t?s.resize(e,t):s.resize(e)},this.getItem=function(e){return t(s.getItem(e))},this.getNumItems=function(){return s.getNumItems()},this.reloadGallery=function(e){if(!e)var e={};s.run(null,e),r.map(function(e){n.on(e.event,e.func,!0)})},this.destroy=function(){s.destroy()},i.trigger(n.events.API_INIT_FUNCTIONS,n)}function UGLoadMore(){function e(){return r=jQuery("#"+h.loadmore_container),0!=r.length&&(o=r.find(".ug-loadmore-button"),0!=o.length&&(a=r.find(".ug-loadmore-loader"),0!=a.length&&(l=r.find(".ug-loadmore-error"),0!=l.length&&void(u.isInited=!0))))}function t(){r.show()}function i(){o.hide(),a.show();var e={numitems:d.getNumItems()};d.ajaxRequest("front_loadmore",e,function(e){a.hide();var t=e.html_items;1==e.show_loadmore?(o.blur().show(),a.hide()):r.hide(),d.addItems(t)},function(e){e="Ajax Error!"+e,a.hide(),l.show(),l.html(e)})}function n(){d.onEvent("tiles_first_placed",t),o.click(i)}var s,r,o,a,l,d=(jQuery(this),new UniteGalleryMain),u=(new UGFunctions,{isInited:!1}),h={loadmore_container:"ug_loadmore_wrapper"};this.events={},this.destroy=function(){if(0==u.isInited)return!1},this.init=function(t,i){if(d=t,s=jQuery(d),h=jQuery.extend(h,i),e(),0==u.isInited)return trace("load more not inited, something is wrong"),!1;n()}}function UGTheme_tiles(){function e(e,i){f=e,y=jQuery.extend(y,b),y=jQuery.extend(y,i),t(),f.setOptions(y),f.setFreestyleMode(),u=e.getObjects(),d=jQuery(e),h=u.g_objWrapper,g.init(e,y),m.init(e,y),v=g.getObjTileDesign()}function t(){switch(1==y.theme_enable_preloader&&(w.showPreloader=!0),y.theme_appearance_order){default:case"normal":break;case"shuffle":f.shuffleItems();break;case"keep":y.tiles_keep_order=!0}}function i(){h.addClass("ug-theme-tiles"),h.append("<div class='ug-tiles-wrapper' style='position:relative'></div>"),1==w.showPreloader&&(h.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),c=h.children(".ug-tiles-preloader"),c.fadeTo(0,0)),p=h.children(".ug-tiles-wrapper"),y.theme_gallery_padding&&h.css({"padding-left":y.theme_gallery_padding+"px","padding-right":y.theme_gallery_padding+"px"}),g.setHtml(p),m.putHtml()}function n(){c&&(c.fadeTo(0,1),h.height(y.theme_preloading_height),_.placeElement(c,"center",y.theme_preloader_vertpos)),l(),g.run(),m.run()}function s(){i(),n()}function r(e,t){t=jQuery(t);var i=v.getItemByTile(t),n=i.index;m.open(n)}function o(){if(p.hide(),c){c.show();var e=_.getElementSize(c),t=e.bottom+30;h.height(t)}}function a(){null!==y.theme_auto_open&&(m.open(y.theme_auto_open),y.theme_auto_open=null)}function l(){c&&f.onEvent(g.events.TILES_FIRST_PLACED,function(){h.height("auto"),c.hide()}),jQuery(v).on(v.events.TILE_CLICK,r),d.on(f.events.GALLERY_BEFORE_REQUEST_ITEMS,o),jQuery(m).on(m.events.LIGHTBOX_INIT,a)}var d,u,h,c,p,f=new UniteGalleryMain,g=new UGTiles,m=new UGLightbox,_=new UGFunctions,v=new UGTileDesign,y={theme_enable_preloader:!0,theme_preloading_height:200,theme_preloader_vertpos:100,theme_gallery_padding:0,theme_appearance_order:"normal",theme_auto_open:null},b={gallery_width:"100%"},w={showPreloader:!1};this.destroy=function(){jQuery(v).off(v.events.TILE_CLICK),f.destroyEvent(g.events.TILES_FIRST_PLACED),d.off(f.events.GALLERY_BEFORE_REQUEST_ITEMS),jQuery(m).off(m.events.LIGHTBOX_INIT),g.destroy(),m.destroy()},this.run=function(){s()},this.addItems=function(){g.runNewItems()},this.init=function(t,i){e(t,i)}}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=!!e&&"length"in e&&e.length,i=pe.type(e);return"function"!==i&&!pe.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e,t,i){if(pe.isFunction(t))return pe.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return pe.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(be.test(t))return pe.filter(t,e,i);t=pe.filter(t,e)}return pe.grep(e,function(e){return pe.inArray(e,t)>-1!==i})}function s(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function r(e){var t={};return pe.each(e.match(Te)||[],function(e,i){t[i]=!0}),t}function o(){ne.addEventListener?(ne.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a)):(ne.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(ne.addEventListener||"load"===e.event.type||"complete"===ne.readyState)&&(o(),pe.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(Le,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Pe.test(i)?pe.parseJSON(i):i)}catch(e){}pe.data(e,t,i)}else i=void 0}return i}function d(e){var t;for(t in e)if(("data"!==t||!pe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,i,n){if(Me(e)){var s,r,o=pe.expando,a=e.nodeType,l=a?pe.cache:e,d=a?e[o]:e[o]&&o;if(d&&l[d]&&(n||l[d].data)||void 0!==i||"string"!=typeof t)return d||(d=a?e[o]=ie.pop()||pe.guid++:o),l[d]||(l[d]=a?{}:{toJSON:pe.noop}),"object"!=typeof t&&"function"!=typeof t||(n?l[d]=pe.extend(l[d],t):l[d].data=pe.extend(l[d].data,t)),r=l[d],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[pe.camelCase(t)]=i),"string"==typeof t?null==(s=r[t])&&(s=r[pe.camelCase(t)]):s=r,s}}function h(e,t,i){if(Me(e)){var n,s,r=e.nodeType,o=r?pe.cache:e,a=r?e[pe.expando]:pe.expando;if(o[a]){if(t&&(n=i?o[a]:o[a].data)){pe.isArray(t)?t=t.concat(pe.map(t,pe.camelCase)):t in n?t=[t]:(t=pe.camelCase(t),t=t in n?[t]:t.split(" ")),s=t.length;for(;s--;)delete n[t[s]];if(i?!d(n):!pe.isEmptyObject(n))return}(i||(delete o[a].data,d(o[a])))&&(r?pe.cleanData([e],!0):he.deleteExpando||o!=o.window?delete o[a]:o[a]=void 0)}}}function c(e,t,i,n){var s,r=1,o=20,a=n?function(){return n.cur()}:function(){return pe.css(e,t,"")},l=a(),d=i&&i[3]||(pe.cssNumber[t]?"":"px"),u=(pe.cssNumber[t]||"px"!==d&&+l)&&Ae.exec(pe.css(e,t));if(u&&u[3]!==d){d=d||u[3],i=i||[],u=+l||1;do{r=r||".5",u/=r,pe.style(e,t,u+d)}while(r!==(r=a()/l)&&1!==r&&--o)}return i&&(u=+u||+l||0,s=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=d,n.start=u,n.end=s)),s}function p(e){var t=$e.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function f(e,t){var i,n,s=0,r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],i=e.childNodes||e;null!=(n=i[s]);s++)!t||pe.nodeName(n,t)?r.push(n):pe.merge(r,f(n,t));return void 0===t||t&&pe.nodeName(e,t)?pe.merge([e],r):r}function g(e,t){for(var i,n=0;null!=(i=e[n]);n++)pe._data(i,"globalEval",!t||pe._data(t[n],"globalEval"))}function m(e){Ne.test(e.type)&&(e.defaultChecked=e.checked)}function _(e,t,i,n,s){for(var r,o,a,l,d,u,h,c=e.length,_=p(t),v=[],y=0;c>y;y++)if((o=e[y])||0===o)if("object"===pe.type(o))pe.merge(v,o.nodeType?[o]:o);else if(Be.test(o)){for(l=l||_.appendChild(t.createElement("div")),d=(He.exec(o)||["",""])[1].toLowerCase(),h=We[d]||We._default,l.innerHTML=h[1]+pe.htmlPrefilter(o)+h[2],r=h[0];r--;)l=l.lastChild;if(!he.leadingWhitespace&&Re.test(o)&&v.push(t.createTextNode(Re.exec(o)[0])),!he.tbody)for(o="table"!==d||Fe.test(o)?"<table>"!==h[1]||Fe.test(o)?0:l:l.firstChild,r=o&&o.childNodes.length;r--;)pe.nodeName(u=o.childNodes[r],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(pe.merge(v,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=_.lastChild}else v.push(t.createTextNode(o));for(l&&_.removeChild(l),he.appendChecked||pe.grep(f(v,"input"),m),y=0;o=v[y++];)if(n&&pe.inArray(o,n)>-1)s&&s.push(o);else if(a=pe.contains(o.ownerDocument,o),l=f(_.appendChild(o),"script"),a&&g(l),i)for(r=0;o=l[r++];)De.test(o.type||"")&&i.push(o);return l=null,_}function v(){return!0}function y(){return!1}function b(){try{return ne.activeElement}catch(e){}}function w(e,t,i,n,s,r){var o,a;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=void 0);for(a in t)w(e,a,i,n,t[a],r);return e}if(null==n&&null==s?(s=i,n=i=void 0):null==s&&("string"==typeof i?(s=n,n=void 0):(s=n,n=i,i=void 0)),!1===s)s=y;else if(!s)return e;return 1===r&&(o=s,s=function(e){return pe().off(e),o.apply(this,arguments)},s.guid=o.guid||(o.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,s,n,i)})}function S(e,t){return pe.nodeName(e,"table")&&pe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function x(e){return e.type=(null!==pe.find.attr(e,"type"))+"/"+e.type,e}function E(e){var t=Ke.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function T(e,t){if(1===t.nodeType&&pe.hasData(e)){var i,n,s,r=pe._data(e),o=pe._data(t,r),a=r.events;if(a){delete o.handle,o.events={};for(i in a)for(n=0,s=a[i].length;s>n;n++)pe.event.add(t,i,a[i][n])}o.data&&(o.data=pe.extend({},o.data))}}function C(e,t){var i,n,s;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!he.noCloneEvent&&t[pe.expando]){s=pe._data(t);for(n in s.events)pe.removeEvent(t,n,s.handle);t.removeAttribute(pe.expando)}"script"===i&&t.text!==e.text?(x(t).text=e.text,E(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),he.html5Clone&&e.innerHTML&&!pe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Ne.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}}function I(e,t,i,n){t=re.apply([],t);var s,r,o,a,l,d,u=0,h=e.length,c=h-1,p=t[0],g=pe.isFunction(p);if(g||h>1&&"string"==typeof p&&!he.checkClone&&Ze.test(p))return e.each(function(s){var r=e.eq(s);g&&(t[0]=p.call(this,s,r.html())),I(r,t,i,n)});if(h&&(d=_(t,e[0].ownerDocument,!1,e,n),s=d.firstChild,1===d.childNodes.length&&(d=s),s||n)){for(a=pe.map(f(d,"script"),x),o=a.length;h>u;u++)r=d,u!==c&&(r=pe.clone(r,!0,!0),o&&pe.merge(a,f(r,"script"))),i.call(e[u],r,u);if(o)for(l=a[a.length-1].ownerDocument,pe.map(a,E),u=0;o>u;u++)r=a[u],De.test(r.type||"")&&!pe._data(r,"globalEval")&&pe.contains(l,r)&&(r.src?pe._evalUrl&&pe._evalUrl(r.src):pe.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Je,"")));d=s=null}return e}function M(e,t,i){for(var n,s=t?pe.filter(t,e):e,r=0;null!=(n=s[r]);r++)i||1!==n.nodeType||pe.cleanData(f(n)),n.parentNode&&(i&&pe.contains(n.ownerDocument,n)&&g(f(n,"script")),n.parentNode.removeChild(n));return e}function P(e,t){var i=pe(t.createElement(e)).appendTo(t.body),n=pe.css(i[0],"display");return i.detach(),n}function L(e){var t=ne,i=nt[e];return i||(i=P(e,t),"none"!==i&&i||(it=(it||pe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(it[0].contentWindow||it[0].contentDocument).document,t.write(),t.close(),i=P(e,t),it.detach()),nt[e]=i),i}function j(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function A(e){if(e in vt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=_t.length;i--;)if((e=_t[i]+t)in vt)return e}function k(e,t){for(var i,n,s,r=[],o=0,a=e.length;a>o;o++)n=e[o],n.style&&(r[o]=pe._data(n,"olddisplay"),i=n.style.display,t?(r[o]||"none"!==i||(n.style.display=""),""===n.style.display&&Oe(n)&&(r[o]=pe._data(n,"olddisplay",L(n.nodeName)))):(s=Oe(n),(i&&"none"!==i||!s)&&pe._data(n,"olddisplay",s?i:pe.css(n,"display"))));for(o=0;a>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function O(e,t,i){var n=ft.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function z(e,t,i,n,s){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===i&&(o+=pe.css(e,i+ke[r],!0,s)),n?("content"===i&&(o-=pe.css(e,"padding"+ke[r],!0,s)),"margin"!==i&&(o-=pe.css(e,"border"+ke[r]+"Width",!0,s))):(o+=pe.css(e,"padding"+ke[r],!0,s),"padding"!==i&&(o+=pe.css(e,"border"+ke[r]+"Width",!0,s)));return o}function N(e,t,i){var n=!0,s="width"===t?e.offsetWidth:e.offsetHeight,r=lt(e),o=he.boxSizing&&"border-box"===pe.css(e,"boxSizing",!1,r);if(0>=s||null==s){if(s=dt(e,t,r),(0>s||null==s)&&(s=e.style[t]),rt.test(s))return s;n=o&&(he.boxSizingReliable()||s===e.style[t]),s=parseFloat(s)||0}return s+z(e,t,i||(o?"border":"content"),n,r)+"px"}function H(e,t,i,n,s){return new H.prototype.init(e,t,i,n,s)}function D(){return e.setTimeout(function(){yt=void 0}),yt=pe.now()}function R(e,t){var i,n={height:e},s=0;for(t=t?1:0;4>s;s+=2-t)i=ke[s],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function $(e,t,i){for(var n,s=(F.tweeners[t]||[]).concat(F.tweeners["*"]),r=0,o=s.length;o>r;r++)if(n=s[r].call(i,t,e))return n}function W(e,t,i){var n,s,r,o,a,l,d,u=this,h={},c=e.style,p=e.nodeType&&Oe(e),f=pe._data(e,"fxshow");i.queue||(a=pe._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,pe.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[c.overflow,c.overflowX,c.overflowY],d=pe.css(e,"display"),"inline"===("none"===d?pe._data(e,"olddisplay")||L(e.nodeName):d)&&"none"===pe.css(e,"float")&&(he.inlineBlockNeedsLayout&&"inline"!==L(e.nodeName)?c.zoom=1:c.display="inline-block")),i.overflow&&(c.overflow="hidden",he.shrinkWrapBlocks()||u.always(function(){c.overflow=i.overflow[0],c.overflowX=i.overflow[1],c.overflowY=i.overflow[2]}));for(n in t)if(s=t[n],wt.exec(s)){if(delete t[n],r=r||"toggle"===s,s===(p?"hide":"show")){if("show"!==s||!f||void 0===f[n])continue;p=!0}h[n]=f&&f[n]||pe.style(e,n)}else d=void 0;if(pe.isEmptyObject(h))"inline"===("none"===d?L(e.nodeName):d)&&(c.display=d);else{f?"hidden"in f&&(p=f.hidden):f=pe._data(e,"fxshow",{}),r&&(f.hidden=!p),p?pe(e).show():u.done(function(){pe(e).hide()}),u.done(function(){var t;pe._removeData(e,"fxshow");for(t in h)pe.style(e,t,h[t])});for(n in h)o=$(p?f[n]:0,n,u),n in f||(f[n]=o.start,p&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function B(e,t){var i,n,s,r,o;for(i in e)if(n=pe.camelCase(i),s=t[n],r=e[i],pe.isArray(r)&&(s=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),(o=pe.cssHooks[n])&&"expand"in o){r=o.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=s)}else t[n]=s}function F(e,t,i){var n,s,r=0,o=F.prefilters.length,a=pe.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=yt||D(),i=Math.max(0,d.startTime+d.duration-t),n=i/d.duration||0,r=1-n,o=0,l=d.tweens.length;l>o;o++)d.tweens[o].run(r);return a.notifyWith(e,[d,r,i]),1>r&&l?i:(a.resolveWith(e,[d]),!1)},d=a.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},i),originalProperties:t,originalOptions:i,startTime:yt||D(),duration:i.duration,tweens:[],createTween:function(t,i){var n=pe.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(n),n},stop:function(t){var i=0,n=t?d.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)d.tweens[i].run(1);return t?(a.notifyWith(e,[d,1,0]),a.resolveWith(e,[d,t])):a.rejectWith(e,[d,t]),this}}),u=d.props;for(B(u,d.opts.specialEasing);o>r;r++)if(n=F.prefilters[r].call(d,e,u,d.opts))return pe.isFunction(n.stop)&&(pe._queueHooks(d.elem,d.opts.queue).stop=pe.proxy(n.stop,n)),n;return pe.map(u,$,d),pe.isFunction(d.opts.start)&&d.opts.start.call(e,d),pe.fx.timer(pe.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function G(e){return pe.attr(e,"class")||""}function Q(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,r=t.toLowerCase().match(Te)||[];if(pe.isFunction(i))for(;n=r[s++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function V(e,t,i,n){function s(a){var l;return r[a]=!0,pe.each(e[a]||[],function(e,a){var d=a(t,i,n);return"string"!=typeof d||o||r[d]?o?!(l=d):void 0:(t.dataTypes.unshift(d),s(d),!1)}),l}var r={},o=e===Wt;return s(t.dataTypes[0])||!r["*"]&&s("*")}function Y(e,t){var i,n,s=pe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((s[n]?e:i||(i={}))[n]=t[n]);return i&&pe.extend(!0,e,i),e}function U(e,t,i){for(var n,s,r,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(o in a)if(a[o]&&a[o].test(s)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}n||(n=o)}r=r||n}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function X(e,t,i,n){var s,r,o,a,l,d={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)d[o.toLowerCase()]=e.converters[o];for(r=u.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(o=d[l+" "+r]||d["* "+r]))for(s in d)if(a=s.split(" "),a[1]===r&&(o=d[l+" "+a[0]]||d["* "+a[0]])){!0===o?o=d[s]:!0!==d[s]&&(r=a[0],u.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function q(e){return e.style&&e.style.display||pe.css(e,"display")}function Z(e){if(!pe.contains(e.ownerDocument||ne,e))return!0;for(;e&&1===e.nodeType;){if("none"===q(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function K(e,t,i,n){var s;if(pe.isArray(t))pe.each(t,function(t,s){i||Qt.test(e)?n(e,s):K(e+"["+("object"==typeof s&&null!=s?t:"")+"]",s,i,n)});else if(i||"object"!==pe.type(t))n(e,t);else for(s in t)K(e+"["+s+"]",t[s],i,n)}function J(){try{return new e.XMLHttpRequest}catch(e){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){return pe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ie=[],ne=e.document,se=ie.slice,re=ie.concat,oe=ie.push,ae=ie.indexOf,le={},de=le.toString,ue=le.hasOwnProperty,he={},ce="1.12.4",pe=function(e,t){return new pe.fn.init(e,t)},fe=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:ce,constructor:pe,selector:"",length:0,toArray:function(){return se.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:se.call(this)},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(se.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ie.sort,splice:ie.splice},pe.extend=pe.fn.extend=function(){var e,t,i,n,s,r,o=arguments[0]||{},a=1,l=arguments.length,d=!1;for("boolean"==typeof o&&(d=o,o=arguments[a]||{},a++),"object"==typeof o||pe.isFunction(o)||(o={}),a===l&&(o=this,a--);l>a;a++)if(null!=(s=arguments[a]))for(n in s)e=o[n],i=s[n],o!==i&&(d&&i&&(pe.isPlainObject(i)||(t=pe.isArray(i)))?(t?(t=!1,r=e&&pe.isArray(e)?e:[]):r=e&&pe.isPlainObject(e)?e:{},o[n]=pe.extend(d,r,i)):void 0!==i&&(o[n]=i));return o},pe.extend({expando:"jQuery"+(ce+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isArray:Array.isArray||function(e){return"array"===pe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!pe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==pe.type(e)||e.nodeType||pe.isWindow(e))return!1;try{if(e.constructor&&!ue.call(e,"constructor")&&!ue.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!he.ownFirst)for(t in e)return ue.call(e,t);for(t in e);return void 0===t||ue.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[de.call(e)]||"object":typeof e},globalEval:function(t){t&&pe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,fe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,s=0
;if(i(e))for(n=e.length;n>s&&!1!==t.call(e[s],s,e[s]);s++);else for(s in e)if(!1===t.call(e[s],s,e[s]))break;return e},trim:function(e){return null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?pe.merge(n,"string"==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(ae)return ae.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,s=e.length;i>n;)e[s++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[s++]=t[n++];return e.length=s,e},grep:function(e,t,i){for(var n=[],s=0,r=e.length,o=!i;r>s;s++)!t(e[s],s)!==o&&n.push(e[s]);return n},map:function(e,t,n){var s,r,o=0,a=[];if(i(e))for(s=e.length;s>o;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return re.apply([],a)},guid:1,proxy:function(e,t){var i,n,s;return"string"==typeof t&&(s=e[t],t=e,e=s),pe.isFunction(e)?(i=se.call(arguments,2),n=function(){return e.apply(t||this,i.concat(se.call(arguments)))},n.guid=e.guid=e.guid||pe.guid++,n):void 0},now:function(){return+new Date},support:he}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=ie[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var ge=function(e){function t(e,t,i,n){var s,r,o,a,d,h,c,p,f=t&&t.ownerDocument,g=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return i;if(!n&&((t?t.ownerDocument||t:D)!==L&&P(t),t=t||L,A)){if(11!==g&&(h=ge.exec(e)))if(s=h[1]){if(9===g){if(!(o=t.getElementById(s)))return i;if(o.id===s)return i.push(o),i}else if(f&&(o=f.getElementById(s))&&N(t,o)&&o.id===s)return i.push(o),i}else{if(h[2])return q.apply(i,t.getElementsByTagName(e)),i;if((s=h[3])&&y.getElementsByClassName&&t.getElementsByClassName)return q.apply(i,t.getElementsByClassName(s)),i}if(y.qsa&&!F[e+" "]&&(!k||!k.test(e))){if(1!==g)f=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(_e,"\\$&"):t.setAttribute("id",a=H),c=x(e),r=c.length,d=ue.test(a)?"#"+a:"[id='"+a+"']";r--;)c[r]=d+" "+u(c[r]);p=c.join(","),f=me.test(e)&&l(t.parentNode)||t}if(p)try{return q.apply(i,f.querySelectorAll(p)),i}catch(e){}finally{a===H&&t.removeAttribute("id")}}}return T(e.replace(re,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>b.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[H]=!0,e}function s(e){var t=L.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=i.length;n--;)b.attrHandle[i[n]]=t}function o(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Q)-(~e.sourceIndex||Q);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return n(function(t){return t=+t,n(function(i,n){for(var s,r=e([],i.length,t),o=r.length;o--;)i[s=r[o]]&&(i[s]=!(n[s]=i[s]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function d(){}function u(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function h(e,t,i){var n=t.dir,s=i&&"parentNode"===n,r=$++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,r)}:function(t,i,o){var a,l,d,u=[R,r];if(o){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||s){if(d=t[H]||(t[H]={}),l=d[t.uniqueID]||(d[t.uniqueID]={}),(a=l[n])&&a[0]===R&&a[1]===r)return u[2]=a[2];if(l[n]=u,u[2]=e(t,i,o))return!0}}}function c(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function p(e,i,n){for(var s=0,r=i.length;r>s;s++)t(e,i[s],n);return n}function f(e,t,i,n,s){for(var r,o=[],a=0,l=e.length,d=null!=t;l>a;a++)(r=e[a])&&(i&&!i(r,n,s)||(o.push(r),d&&t.push(a)));return o}function g(e,t,i,s,r,o){return s&&!s[H]&&(s=g(s)),r&&!r[H]&&(r=g(r,o)),n(function(n,o,a,l){var d,u,h,c=[],g=[],m=o.length,_=n||p(t||"*",a.nodeType?[a]:a,[]),v=!e||!n&&t?_:f(_,c,e,a,l),y=i?r||(n?e:m||s)?[]:o:v;if(i&&i(v,y,a,l),s)for(d=f(y,g),s(d,[],a,l),u=d.length;u--;)(h=d[u])&&(y[g[u]]=!(v[g[u]]=h));if(n){if(r||e){if(r){for(d=[],u=y.length;u--;)(h=y[u])&&d.push(v[u]=h);r(null,y=[],d,l)}for(u=y.length;u--;)(h=y[u])&&(d=r?K(n,h):c[u])>-1&&(n[d]=!(o[d]=h))}}else y=f(y===o?y.splice(m,y.length):y),r?r(null,o,y,l):q.apply(o,y)})}function m(e){for(var t,i,n,s=e.length,r=b.relative[e[0].type],o=r||b.relative[" "],a=r?1:0,l=h(function(e){return e===t},o,!0),d=h(function(e){return K(t,e)>-1},o,!0),p=[function(e,i,n){var s=!r&&(n||i!==C)||((t=i).nodeType?l(e,i,n):d(e,i,n));return t=null,s}];s>a;a++)if(i=b.relative[e[a].type])p=[h(c(p),i)];else{if(i=b.filter[e[a].type].apply(null,e[a].matches),i[H]){for(n=++a;s>n&&!b.relative[e[n].type];n++);return g(a>1&&c(p),a>1&&u(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(re,"$1"),i,n>a&&m(e.slice(a,n)),s>n&&m(e=e.slice(n)),s>n&&u(e))}p.push(i)}return c(p)}function _(e,i){var s=i.length>0,r=e.length>0,o=function(n,o,a,l,d){var u,h,c,p=0,g="0",m=n&&[],_=[],v=C,y=n||r&&b.find.TAG("*",d),w=R+=null==v?1:Math.random()||.1,S=y.length;for(d&&(C=o===L||o||d);g!==S&&null!=(u=y[g]);g++){if(r&&u){for(h=0,o||u.ownerDocument===L||(P(u),a=!A);c=e[h++];)if(c(u,o||L,a)){l.push(u);break}d&&(R=w)}s&&((u=!c&&u)&&p--,n&&m.push(u))}if(p+=g,s&&g!==p){for(h=0;c=i[h++];)c(m,_,o,a);if(n){if(p>0)for(;g--;)m[g]||_[g]||(_[g]=U.call(l));_=f(_)}q.apply(l,_),d&&!n&&_.length>0&&p+i.length>1&&t.uniqueSort(l)}return d&&(R=w,C=v),m};return s?n(o):o}var v,y,b,w,S,x,E,T,C,I,M,P,L,j,A,k,O,z,N,H="sizzle"+1*new Date,D=e.document,R=0,$=0,W=i(),B=i(),F=i(),G=function(e,t){return e===t&&(M=!0),0},Q=1<<31,V={}.hasOwnProperty,Y=[],U=Y.pop,X=Y.push,q=Y.push,Z=Y.slice,K=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ne=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",se=new RegExp(ee+"+","g"),re=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),oe=new RegExp("^"+ee+"*,"+ee+"*"),ae=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),de=new RegExp(ne),ue=new RegExp("^"+te+"$"),he={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},ce=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,fe=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,_e=/'|\\/g,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ye=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},be=function(){P()};try{q.apply(Y=Z.call(D.childNodes),D.childNodes),Y[D.childNodes.length].nodeType}catch(e){q={apply:Y.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}y=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},P=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:D;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,j=L.documentElement,A=!S(L),(i=L.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",be,!1):i.attachEvent&&i.attachEvent("onunload",be)),y.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=s(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=fe.test(L.getElementsByClassName),y.getById=s(function(e){return j.appendChild(e).id=H,!L.getElementsByName||!L.getElementsByName(H).length}),y.getById?(b.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var i=t.getElementById(e);return i?[i]:[]}},b.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){return e.getAttribute("id")===t}}):(delete b.find.ID,b.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),b.find.TAG=y.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],s=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},b.find.CLASS=y.getElementsByClassName&&function(e,t){return void 0!==t.getElementsByClassName&&A?t.getElementsByClassName(e):void 0},O=[],k=[],(y.qsa=fe.test(L.querySelectorAll))&&(s(function(e){j.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&k.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||k.push("\\["+ee+"*(?:value|"+J+")"),e.querySelectorAll("[id~="+H+"-]").length||k.push("~="),e.querySelectorAll(":checked").length||k.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||k.push(".#.+[+~]")}),s(function(e){var t=L.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&k.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||k.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),k.push(",.*:")})),(y.matchesSelector=fe.test(z=j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&s(function(e){y.disconnectedMatch=z.call(e,"div"),z.call(e,"[s!='']:x"),O.push("!=",ne)}),k=k.length&&new RegExp(k.join("|")),O=O.length&&new RegExp(O.join("|")),t=fe.test(j.compareDocumentPosition),N=t||fe.test(j.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){if(e===t)return M=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!y.sortDetached&&t.compareDocumentPosition(e)===i?e===L||e.ownerDocument===D&&N(D,e)?-1:t===L||t.ownerDocument===D&&N(D,t)?1:I?K(I,e)-K(I,t):0:4&i?-1:1)}:function(e,t){if(e===t)return M=!0,0;var i,n=0,s=e.parentNode,r=t.parentNode,a=[e],l=[t];if(!s||!r)return e===L?-1:t===L?1:s?-1:r?1:I?K(I,e)-K(I,t):0;if(s===r)return o(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?o(a[n],l[n]):a[n]===D?-1:l[n]===D?1:0},L):L},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==L&&P(e),i=i.replace(le,"='$1']"),y.matchesSelector&&A&&!F[i+" "]&&(!O||!O.test(i))&&(!k||!k.test(i)))try{var n=z.call(e,i);if(n||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&P(e),N(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&P(e);var i=b.attrHandle[t.toLowerCase()],n=i&&V.call(b.attrHandle,t.toLowerCase())?i(e,t,!A):void 0;return void 0!==n?n:y.attributes||!A?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,s=0;if(M=!y.detectDuplicates,I=!y.sortStable&&e.slice(0),e.sort(G),M){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return I=null,e},w=t.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=w(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n++];)i+=w(t);return i},b=t.selectors={cacheLength:50,createPseudo:n,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&de.test(i)&&(t=x(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(s){var r=t.attr(s,e);return null==r?"!="===i:!i||(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(se," ")+" ").indexOf(n)>-1:"|="===i&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,s){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var d,u,h,c,p,f,g=r!==o?"nextSibling":"previousSibling",m=t.parentNode,_=a&&t.nodeName.toLowerCase(),v=!l&&!a,y=!1;if(m){if(r){for(;g;){for(c=t;c=c[g];)if(a?c.nodeName.toLowerCase()===_:1===c.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&v){for(c=m,h=c[H]||(c[H]={}),u=h[c.uniqueID]||(h[c.uniqueID]={}),d=u[e]||[],p=d[0]===R&&d[1],y=p&&d[2],c=p&&m.childNodes[p];c=++p&&c&&c[g]||(y=p=0)||f.pop();)if(1===c.nodeType&&++y&&c===t){u[e]=[R,p,y];break}}else if(v&&(c=t,h=c[H]||(c[H]={}),u=h[c.uniqueID]||(h[c.uniqueID]={}),d=u[e]||[],p=d[0]===R&&d[1],y=p),!1===y)for(;(c=++p&&c&&c[g]||(y=p=0)||f.pop())&&((a?c.nodeName.toLowerCase()!==_:1!==c.nodeType)||!++y||(v&&(h=c[H]||(c[H]={}),u=h[c.uniqueID]||(h[c.uniqueID]={}),u[e]=[R,y]),c!==t)););return(y-=s)===n||y%n==0&&y/n>=0}}},PSEUDO:function(e,i){var s,r=b.pseudos[e]||b.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[H]?r(i):r.length>1?(s=[e,e,"",i],b.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,s=r(e,i),o=s.length;o--;)n=K(e,s[o]),e[n]=!(t[n]=s[o])}):function(e){return r(e,0,s)}):r}},pseudos:{not:n(function(e){var t=[],i=[],s=E(e.replace(re,"$1"));return s[H]?n(function(e,t,i,n){for(var r,o=s(e,null,n,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,n,r){return t[0]=e,s(t,null,r,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(ve,ye),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:n(function(e){return ue.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,ye).toLowerCase(),function(t){var i;do{if(i=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===j},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return ce.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,i){return[0>i?i+t:i]}),even:a(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:a(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:a(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:a(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},b.pseudos.nth=b.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[v]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(v);for(v in{submit:!0,reset:!0})b.pseudos[v]=function(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}(v);return d.prototype=b.filters=b.pseudos,b.setFilters=new d,x=t.tokenize=function(e,i){var n,s,r,o,a,l,d,u=B[e+" "];if(u)return i?0:u.slice(0);for(a=e,l=[],d=b.preFilter;a;){n&&!(s=oe.exec(a))||(s&&(a=a.slice(s[0].length)||a),l.push(r=[])),n=!1,(s=ae.exec(a))&&(n=s.shift(),r.push({value:n,type:s[0].replace(re," ")}),a=a.slice(n.length));for(o in b.filter)!(s=he[o].exec(a))||d[o]&&!(s=d[o](s))||(n=s.shift(),r.push({value:n,type:o,matches:s}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):B(e,l).slice(0)},E=t.compile=function(e,t){var i,n=[],s=[],r=F[e+" "];if(!r){for(t||(t=x(e)),i=t.length;i--;)r=m(t[i]),r[H]?n.push(r):s.push(r);r=F(e,_(s,n)),r.selector=e}return r},T=t.select=function(e,t,i,n){var s,r,o,a,d,h="function"==typeof e&&e,c=!n&&x(e=h.selector||e);if(i=i||[],1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(o=r[0]).type&&y.getById&&9===t.nodeType&&A&&b.relative[r[1].type]){if(!(t=(b.find.ID(o.matches[0].replace(ve,ye),t)||[])[0]))return i;h&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(s=he.needsContext.test(e)?0:r.length;s--&&(o=r[s],!b.relative[a=o.type]);)if((d=b.find[a])&&(n=d(o.matches[0].replace(ve,ye),me.test(r[0].type)&&l(t.parentNode)||t))){if(r.splice(s,1),!(e=n.length&&u(r)))return q.apply(i,n),i;break}}return(h||E(e,c))(n,t,!A,i,!t||me.test(e)&&l(t.parentNode)||t),i},y.sortStable=H.split("").sort(G).join("")===H,y.detectDuplicates=!!M,P(),y.sortDetached=s(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||r(J,function(e,t,i){var n;return i?void 0:!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);pe.find=ge,pe.expr=ge.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=ge.uniqueSort,pe.text=ge.getText,pe.isXMLDoc=ge.isXML,pe.contains=ge.contains;var me=function(e,t,i){for(var n=[],s=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&pe(e).is(i))break;n.push(e)}return n},_e=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},ve=pe.expr.match.needsContext,ye=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,be=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?pe.find.matchesSelector(n,e)?[n]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t,i=[],n=this,s=n.length;if("string"!=typeof e)return this.pushStack(pe(e).filter(function(){for(t=0;s>t;t++)if(pe.contains(n[t],this))return!0}));for(t=0;s>t;t++)pe.find(e,n[t],i);return i=this.pushStack(s>1?pe.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&ve.test(e)?pe(e):e||[],!1).length}});var we,Se=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(pe.fn.init=function(e,t,i){var n,s;if(!e)return this;if(i=i||we,"string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Se.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),ye.test(n[1])&&pe.isPlainObject(t))for(n in t)pe.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((s=ne.getElementById(n[2]))&&s.parentNode){if(s.id!==n[2])return we.find(e);this.length=1,this[0]=s}return this.context=ne,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):pe.isFunction(e)?void 0!==i.ready?i.ready(e):e(pe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),pe.makeArray(e,this))}).prototype=pe.fn,we=pe(ne);var xe=/^(?:parents|prev(?:Until|All))/,Ee={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t,i=pe(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(pe.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,s=this.length,r=[],o=ve.test(e)||"string"!=typeof e?pe(e,t||this.context):0;s>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&pe.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?pe.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?pe.inArray(this[0],pe(e)):pe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return me(e,"parentNode")},parentsUntil:function(e,t,i){return me(e,"parentNode",i)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return me(e,"nextSibling")},prevAll:function(e){return me(e,"previousSibling")},nextUntil:function(e,t,i){return me(e,"nextSibling",i)},prevUntil:function(e,t,i){return me(e,"previousSibling",i)},siblings:function(e){return _e((e.parentNode||{}).firstChild,e)},children:function(e){return _e(e.firstChild)},contents:function(e){return pe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:pe.merge([],e.childNodes)}},function(e,t){pe.fn[e]=function(i,n){var s=pe.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=pe.filter(n,s)),this.length>1&&(Ee[e]||(s=pe.uniqueSort(s)),xe.test(e)&&(s=s.reverse())),this.pushStack(s)}});var Te=/\S+/g;pe.Callbacks=function(e){e="string"==typeof e?r(e):pe.extend({},e);var t,i,n,s,o=[],a=[],l=-1,d=function(){for(s=e.once,n=t=!0;a.length;l=-1)for(i=a.shift();++l<o.length;)!1===o[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=o.length,i=!1);e.memory||(i=!1),t=!1,s&&(o=i?[]:"")},u={add:function(){return o&&(i&&!t&&(l=o.length-1,a.push(i)),function t(i){pe.each(i,function(i,n){pe.isFunction(n)?e.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==pe.type(n)&&t(n)})}(arguments),i&&!t&&d()),this},remove:function(){return pe.each(arguments,function(e,t){for(var i;(i=pe.inArray(t,o,i))>-1;)o.splice(i,1),l>=i&&l--}),this},has:function(e){return e?pe.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return s=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return s=!0,i||u.disable(),this},locked:function(){return!!s},fireWith:function(e,i){return s||(i=i||[],i=[e,i.slice?i.slice():i],a.push(i),t||d()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},pe.extend({Deferred:function(e){var t=[["resolve","done",pe.Callbacks("once memory"),"resolved"],["reject","fail",pe.Callbacks("once memory"),"rejected"],["notify","progress",pe.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return pe.Deferred(function(i){pe.each(t,function(t,r){var o=pe.isFunction(e[t])&&e[t];s[r[1]](function(){var e=o&&o.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this===n?i.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?pe.extend(e,n):n}},s={};return n.pipe=n.then,pe.each(t,function(e,r){var o=r[2],a=r[3];n[r[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),s[r[0]]=function(){return s[r[0]+"With"](this===s?n:this,arguments),this},s[r[0]+"With"]=o.fireWith}),n.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,n,s=0,r=se.call(arguments),o=r.length,a=1!==o||e&&pe.isFunction(e.promise)?o:0,l=1===a?e:pe.Deferred(),d=function(e,i,n){return function(s){i[e]=this,n[e]=arguments.length>1?se.call(arguments):s,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);o>s;s++)r[s]&&pe.isFunction(r[s].promise)?r[s].promise().progress(d(s,i,t)).done(d(s,n,r)).fail(l.reject):--a;return a||l.resolveWith(n,r),l.promise()}});var Ce;pe.fn.ready=function(e){return pe.ready.promise().done(e),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(!0===e?--pe.readyWait:pe.isReady)||(pe.isReady=!0,!0!==e&&--pe.readyWait>0||(Ce.resolveWith(ne,[pe]),pe.fn.triggerHandler&&(pe(ne).triggerHandler("ready"),pe(ne).off("ready"))))}}),pe.ready.promise=function(t){if(!Ce)if(Ce=pe.Deferred(),"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll)e.setTimeout(pe.ready);else if(ne.addEventListener)ne.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a);else{ne.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var i=!1;try{i=null==e.frameElement&&ne.documentElement}catch(e){}i&&i.doScroll&&function t(){if(!pe.isReady){try{i.doScroll("left")}catch(i){return e.setTimeout(t,50)}o(),pe.ready()}}()}return Ce.promise(t)},pe.ready.promise();var Ie;for(Ie in pe(he))break;he.ownFirst="0"===Ie,he.inlineBlockNeedsLayout=!1,pe(function(){var e,t,i,n;(i=ne.getElementsByTagName("body")[0])&&i.style&&(t=ne.createElement("div"),n=ne.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",he.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=ne.createElement("div");he.deleteExpando=!0;try{delete e.test}catch(e){he.deleteExpando=!1}e=null}();var Me=function(e){var t=pe.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Le=/([A-Z])/g;pe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?pe.cache[e[pe.expando]]:e[pe.expando])&&!d(e)},data:function(e,t,i){return u(e,t,i)},removeData:function(e,t){return h(e,t)},_data:function(e,t,i){return u(e,t,i,!0)},_removeData:function(e,t){return h(e,t,!0)}}),pe.fn.extend({data:function(e,t){var i,n,s,r=this[0],o=r&&r.attributes;if(void 0===e){if(this.length&&(s=pe.data(r),1===r.nodeType&&!pe._data(r,"parsedAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=pe.camelCase(n.slice(5)),l(r,n,s[n])));pe._data(r,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){pe.data(this,e)}):arguments.length>1?this.each(function(){pe.data(this,e,t)}):r?l(r,e,pe.data(r,e)):void 0},removeData:function(e){return this.each(function(){pe.removeData(this,e)})}}),pe.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=pe._data(e,t),i&&(!n||pe.isArray(i)?n=pe._data(e,t,pe.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=pe.queue(e,t),n=i.length,s=i.shift(),r=pe._queueHooks(e,t),o=function(){pe.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete r.stop,s.call(e,o,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return pe._data(e,i)||pe._data(e,i,{empty:pe.Callbacks("once memory").add(function(){pe._removeData(e,t+"queue"),pe._removeData(e,i)})})}}),pe.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?pe.queue(this[0],e):void 0===t?this:this.each(function(){var i=pe.queue(this,e,t);pe._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&pe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,s=pe.Deferred(),r=this,o=this.length,a=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(i=pe._data(r[o],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(t)}}),function(){var e;he.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n;return i=ne.getElementsByTagName("body")[0],i&&i.style?(t=ne.createElement("div"),n=ne.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ne.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}();var je=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=new RegExp("^(?:([+-])=|)("+je+")([a-z%]*)$","i"),ke=["Top","Right","Bottom","Left"],Oe=function(e,t){return e=t||e,"none"===pe.css(e,"display")||!pe.contains(e.ownerDocument,e)},ze=function(e,t,i,n,s,r,o){var a=0,l=e.length,d=null==i;if("object"===pe.type(i)){s=!0;for(a in i)ze(e,t,a,i[a],!0,r,o)}else if(void 0!==n&&(s=!0,pe.isFunction(n)||(o=!0),d&&(o?(t.call(e,n),t=null):(d=t,t=function(e,t,i){return d.call(pe(e),i)})),t))for(;l>a;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return s?e:d?t.call(e):l?t(e[0],i):r},Ne=/^(?:checkbox|radio)$/i,He=/<([\w:-]+)/,De=/^$|\/(?:java|ecma)script/i,Re=/^\s+/,$e="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=ne.createElement("div"),t=ne.createDocumentFragment(),i=ne.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",he.leadingWhitespace=3===e.firstChild.nodeType,he.tbody=!e.getElementsByTagName("tbody").length,he.htmlSerialize=!!e.getElementsByTagName("link").length,
he.html5Clone="<:nav></:nav>"!==ne.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,t.appendChild(i),he.appendChecked=i.checked,e.innerHTML="<textarea>x</textarea>",he.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),i=ne.createElement("input"),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),he.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,he.noCloneEvent=!!e.addEventListener,e[pe.expando]=1,he.attributes=!e.getAttribute(pe.expando)}();var We={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:he.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};We.optgroup=We.option,We.tbody=We.tfoot=We.colgroup=We.caption=We.thead,We.th=We.td;var Be=/<|&#?\w+;/,Fe=/<tbody/i;!function(){var t,i,n=ne.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(he[t]=i in e)||(n.setAttribute(i,"t"),he[t]=!1===n.attributes[i].expando);n=null}();var Ge=/^(?:input|select|textarea)$/i,Qe=/^key/,Ve=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ye=/^(?:focusinfocus|focusoutblur)$/,Ue=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(e,t,i,n,s){var r,o,a,l,d,u,h,c,p,f,g,m=pe._data(e);if(m){for(i.handler&&(l=i,i=l.handler,s=l.selector),i.guid||(i.guid=pe.guid++),(o=m.events)||(o=m.events={}),(u=m.handle)||(u=m.handle=function(e){return void 0===pe||e&&pe.event.triggered===e.type?void 0:pe.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(Te)||[""],a=t.length;a--;)r=Ue.exec(t[a])||[],p=g=r[1],f=(r[2]||"").split(".").sort(),p&&(d=pe.event.special[p]||{},p=(s?d.delegateType:d.bindType)||p,d=pe.event.special[p]||{},h=pe.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&pe.expr.match.needsContext.test(s),namespace:f.join(".")},l),(c=o[p])||(c=o[p]=[],c.delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,u)||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),s?c.splice(c.delegateCount++,0,h):c.push(h),pe.event.global[p]=!0);e=null}},remove:function(e,t,i,n,s){var r,o,a,l,d,u,h,c,p,f,g,m=pe.hasData(e)&&pe._data(e);if(m&&(u=m.events)){for(t=(t||"").match(Te)||[""],d=t.length;d--;)if(a=Ue.exec(t[d])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(h=pe.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,c=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=c.length;r--;)o=c[r],!s&&g!==o.origType||i&&i.guid!==o.guid||a&&!a.test(o.namespace)||n&&n!==o.selector&&("**"!==n||!o.selector)||(c.splice(r,1),o.selector&&c.delegateCount--,h.remove&&h.remove.call(e,o));l&&!c.length&&(h.teardown&&!1!==h.teardown.call(e,f,m.handle)||pe.removeEvent(e,p,m.handle),delete u[p])}else for(p in u)pe.event.remove(e,p+t[d],i,n,!0);pe.isEmptyObject(u)&&(delete m.handle,pe._removeData(e,"events"))}},trigger:function(t,i,n,s){var r,o,a,l,d,u,h,c=[n||ne],p=ue.call(t,"type")?t.type:t,f=ue.call(t,"namespace")?t.namespace.split("."):[];if(a=u=n=n||ne,3!==n.nodeType&&8!==n.nodeType&&!Ye.test(p+pe.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),o=p.indexOf(":")<0&&"on"+p,t=t[pe.expando]?t:new pe.Event(p,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:pe.makeArray(i,[t]),d=pe.event.special[p]||{},s||!d.trigger||!1!==d.trigger.apply(n,i))){if(!s&&!d.noBubble&&!pe.isWindow(n)){for(l=d.delegateType||p,Ye.test(l+p)||(a=a.parentNode);a;a=a.parentNode)c.push(a),u=a;u===(n.ownerDocument||ne)&&c.push(u.defaultView||u.parentWindow||e)}for(h=0;(a=c[h++])&&!t.isPropagationStopped();)t.type=h>1?l:d.bindType||p,r=(pe._data(a,"events")||{})[t.type]&&pe._data(a,"handle"),r&&r.apply(a,i),(r=o&&a[o])&&r.apply&&Me(a)&&(t.result=r.apply(a,i),!1===t.result&&t.preventDefault());if(t.type=p,!s&&!t.isDefaultPrevented()&&(!d._default||!1===d._default.apply(c.pop(),i))&&Me(n)&&o&&n[p]&&!pe.isWindow(n)){u=n[o],u&&(n[o]=null),pe.event.triggered=p;try{n[p]()}catch(e){}pe.event.triggered=void 0,u&&(n[o]=u)}return t.result}},dispatch:function(e){e=pe.event.fix(e);var t,i,n,s,r,o=[],a=se.call(arguments),l=(pe._data(this,"events")||{})[e.type]||[],d=pe.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,e)){for(o=pe.event.handlers.call(this,e,l),t=0;(s=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,i=0;(r=s.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(n=((pe.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,a))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,s,r,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(n=[],i=0;a>i;i++)r=t[i],s=r.selector+" ",void 0===n[s]&&(n[s]=r.needsContext?pe(s,this).index(l)>-1:pe.find(s,this,null,[l]).length),n[s]&&n.push(r);n.length&&o.push({elem:l,handlers:n})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},fix:function(e){if(e[pe.expando])return e;var t,i,n,s=e.type,r=e,o=this.fixHooks[s];for(o||(this.fixHooks[s]=o=Ve.test(s)?this.mouseHooks:Qe.test(s)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new pe.Event(r),t=n.length;t--;)i=n[t],e[i]=r[i];return e.target||(e.target=r.srcElement||ne),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,s,r=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||ne,s=n.documentElement,i=n.body,e.pageX=t.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===b()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return pe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return pe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i){var n=pe.extend(new pe.Event,i,{type:e,isSimulated:!0});pe.event.trigger(n,null,t),n.isDefaultPrevented()&&i.preventDefault()}},pe.removeEvent=ne.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)}:function(e,t,i){var n="on"+t;e.detachEvent&&(void 0===e[n]&&(e[n]=null),e.detachEvent(n,i))},pe.Event=function(e,t){return this instanceof pe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?v:y):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),void(this[pe.expando]=!0)):new pe.Event(e,t)},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=v,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=v,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=v,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,r=e.handleObj;return s&&(s===n||pe.contains(n,s))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),he.submit||(pe.event.special.submit={setup:function(){return!pe.nodeName(this,"form")&&void pe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=pe.nodeName(t,"input")||pe.nodeName(t,"button")?pe.prop(t,"form"):void 0;i&&!pe._data(i,"submit")&&(pe.event.add(i,"submit._submit",function(e){e._submitBubble=!0}),pe._data(i,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&pe.event.simulate("submit",this.parentNode,e))},teardown:function(){return!pe.nodeName(this,"form")&&void pe.event.remove(this,"._submit")}}),he.change||(pe.event.special.change={setup:function(){return Ge.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(pe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),pe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),pe.event.simulate("change",this,e)})),!1):void pe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ge.test(t.nodeName)&&!pe._data(t,"change")&&(pe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||pe.event.simulate("change",this.parentNode,e)}),pe._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return pe.event.remove(this,"._change"),!Ge.test(this.nodeName)}}),he.focusin||pe.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var n=this.ownerDocument||this,s=pe._data(n,t);s||n.addEventListener(e,i,!0),pe._data(n,t,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=pe._data(n,t)-1;s?pe._data(n,t,s):(n.removeEventListener(e,i,!0),pe._removeData(n,t))}}}),pe.fn.extend({on:function(e,t,i,n){return w(this,e,t,i,n)},one:function(e,t,i,n){return w(this,e,t,i,n,1)},off:function(e,t,i){var n,s;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,pe(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=y),this.each(function(){pe.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?pe.event.trigger(e,t,i,!0):void 0}});var Xe=new RegExp("<(?:"+$e+")[\\s/>]","i"),qe=/<script|<style|<link/i,Ze=/checked\s*(?:[^=]|=\s*.checked.)/i,Ke=/^true\/(.*)/,Je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,et=p(ne),tt=et.appendChild(ne.createElement("div"));pe.extend({htmlPrefilter:function(e){return e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,"<$1></$2>")},clone:function(e,t,i){var n,s,r,o,a,l=pe.contains(e.ownerDocument,e);if(he.html5Clone||pe.isXMLDoc(e)||!Xe.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(tt.innerHTML=e.outerHTML,tt.removeChild(r=tt.firstChild)),!(he.noCloneEvent&&he.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(n=f(r),a=f(e),o=0;null!=(s=a[o]);++o)n[o]&&C(s,n[o]);if(t)if(i)for(a=a||f(e),n=n||f(r),o=0;null!=(s=a[o]);o++)T(s,n[o]);else T(e,r);return n=f(r,"script"),n.length>0&&g(n,!l&&f(e,"script")),n=a=s=null,r},cleanData:function(e,t){for(var i,n,s,r,o=0,a=pe.expando,l=pe.cache,d=he.attributes,u=pe.event.special;null!=(i=e[o]);o++)if((t||Me(i))&&(s=i[a],r=s&&l[s])){if(r.events)for(n in r.events)u[n]?pe.event.remove(i,n):pe.removeEvent(i,n,r.handle);l[s]&&(delete l[s],d||void 0===i.removeAttribute?i[a]=void 0:i.removeAttribute(a),ie.push(s))}}}),pe.fn.extend({domManip:I,detach:function(e){return M(this,e,!0)},remove:function(e){return M(this,e)},text:function(e){return ze(this,function(e){return void 0===e?pe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ne).createTextNode(e))},null,e,arguments.length)},append:function(){return I(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){S(this,e).appendChild(e)}})},prepend:function(){return I(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return I(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return I(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&pe.cleanData(f(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&pe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return ze(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(/ jQuery\d+="(?:null|\d+)"/g,""):void 0;if("string"==typeof e&&!qe.test(e)&&(he.htmlSerialize||!Xe.test(e))&&(he.leadingWhitespace||!Re.test(e))&&!We[(He.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(pe.cleanData(f(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return I(this,arguments,function(t){var i=this.parentNode;pe.inArray(this,e)<0&&(pe.cleanData(f(this)),i&&i.replaceChild(t,this))},e)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){pe.fn[e]=function(e){for(var i,n=0,s=[],r=pe(e),o=r.length-1;o>=n;n++)i=n===o?this:this.clone(!0),pe(r[n])[t](i),oe.apply(s,i.get());return this.pushStack(s)}});var it,nt={HTML:"block",BODY:"block"},st=/^margin/,rt=new RegExp("^("+je+")(?!px)[a-z%]+$","i"),ot=function(e,t,i,n){var s,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];s=i.apply(e,n||[]);for(r in t)e.style[r]=o[r];return s},at=ne.documentElement;!function(){function t(){var t,u,h=ne.documentElement;h.appendChild(l),d.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=s=a=!1,n=o=!0,e.getComputedStyle&&(u=e.getComputedStyle(d),i="1%"!==(u||{}).top,a="2px"===(u||{}).marginLeft,s="4px"===(u||{width:"4px"}).width,d.style.marginRight="50%",n="4px"===(u||{marginRight:"4px"}).marginRight,t=d.appendChild(ne.createElement("div")),t.style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",d.style.width="1px",o=!parseFloat((e.getComputedStyle(t)||{}).marginRight),d.removeChild(t)),d.style.display="none",r=0===d.getClientRects().length,r&&(d.style.display="",d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d.childNodes[0].style.borderCollapse="separate",t=d.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",(r=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",r=0===t[0].offsetHeight)),h.removeChild(l)}var i,n,s,r,o,a,l=ne.createElement("div"),d=ne.createElement("div");d.style&&(d.style.cssText="float:left;opacity:.5",he.opacity="0.5"===d.style.opacity,he.cssFloat=!!d.style.cssFloat,d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",he.clearCloneStyle="content-box"===d.style.backgroundClip,l=ne.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",d.innerHTML="",l.appendChild(d),he.boxSizing=""===d.style.boxSizing||""===d.style.MozBoxSizing||""===d.style.WebkitBoxSizing,pe.extend(he,{reliableHiddenOffsets:function(){return null==i&&t(),r},boxSizingReliable:function(){return null==i&&t(),s},pixelMarginRight:function(){return null==i&&t(),n},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),o},reliableMarginLeft:function(){return null==i&&t(),a}}))}();var lt,dt,ut=/^(top|right|bottom|left)$/;e.getComputedStyle?(lt=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},dt=function(e,t,i){var n,s,r,o,a=e.style;return i=i||lt(e),o=i?i.getPropertyValue(t)||i[t]:void 0,""!==o&&void 0!==o||pe.contains(e.ownerDocument,e)||(o=pe.style(e,t)),i&&!he.pixelMarginRight()&&rt.test(o)&&st.test(t)&&(n=a.width,s=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=s,a.maxWidth=r),void 0===o?o:o+""}):at.currentStyle&&(lt=function(e){return e.currentStyle},dt=function(e,t,i){var n,s,r,o,a=e.style;return i=i||lt(e),o=i?i[t]:void 0,null==o&&a&&a[t]&&(o=a[t]),rt.test(o)&&!ut.test(t)&&(n=a.left,s=e.runtimeStyle,r=s&&s.left,r&&(s.left=e.currentStyle.left),a.left="fontSize"===t?"1em":o,o=a.pixelLeft+"px",a.left=n,r&&(s.left=r)),void 0===o?o:o+""||"auto"});var ht=/alpha\([^)]*\)/i,ct=/opacity\s*=\s*([^)]*)/i,pt=/^(none|table(?!-c[ea]).+)/,ft=new RegExp("^("+je+")(.*)$","i"),gt={position:"absolute",visibility:"hidden",display:"block"},mt={letterSpacing:"0",fontWeight:"400"},_t=["Webkit","O","Moz","ms"],vt=ne.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=dt(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:he.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,r,o,a=pe.camelCase(t),l=e.style;if(t=pe.cssProps[a]||(pe.cssProps[a]=A(a)||a),o=pe.cssHooks[t]||pe.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(s=o.get(e,!1,n))?s:l[t];if(r=typeof i,"string"===r&&(s=Ae.exec(i))&&s[1]&&(i=c(e,t,s),r="number"),null!=i&&i===i&&("number"===r&&(i+=s&&s[3]||(pe.cssNumber[a]?"":"px")),he.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(o&&"set"in o&&void 0===(i=o.set(e,i,n)))))try{l[t]=i}catch(e){}}},css:function(e,t,i,n){var s,r,o,a=pe.camelCase(t);return t=pe.cssProps[a]||(pe.cssProps[a]=A(a)||a),o=pe.cssHooks[t]||pe.cssHooks[a],o&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=dt(e,t,n)),"normal"===r&&t in mt&&(r=mt[t]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),pe.each(["height","width"],function(e,t){pe.cssHooks[t]={get:function(e,i,n){return i?pt.test(pe.css(e,"display"))&&0===e.offsetWidth?ot(e,gt,function(){return N(e,t,n)}):N(e,t,n):void 0},set:function(e,i,n){var s=n&&lt(e);return O(e,i,n?z(e,t,n,he.boxSizing&&"border-box"===pe.css(e,"boxSizing",!1,s),s):0)}}}),he.opacity||(pe.cssHooks.opacity={get:function(e,t){return ct.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,s=pe.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===pe.trim(r.replace(ht,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=ht.test(r)?r.replace(ht,s):r+" "+s)}}),pe.cssHooks.marginRight=j(he.reliableMarginRight,function(e,t){return t?ot(e,{display:"inline-block"},dt,[e,"marginRight"]):void 0}),pe.cssHooks.marginLeft=j(he.reliableMarginLeft,function(e,t){return t?(parseFloat(dt(e,"marginLeft"))||(pe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ot(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),pe.each({margin:"",padding:"",border:"Width"},function(e,t){pe.cssHooks[e+t]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];4>n;n++)s[e+ke[n]+t]=r[n]||r[n-2]||r[0];return s}},st.test(e)||(pe.cssHooks[e+t].set=O)}),pe.fn.extend({css:function(e,t){return ze(this,function(e,t,i){var n,s,r={},o=0;if(pe.isArray(t)){for(n=lt(e),s=t.length;s>o;o++)r[t[o]]=pe.css(e,t[o],!1,n);return r}return void 0!==i?pe.style(e,t,i):pe.css(e,t)},e,t,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Oe(this)?pe(this).show():pe(this).hide()})}}),pe.Tween=H,H.prototype={constructor:H,init:function(e,t,i,n,s,r){this.elem=e,this.prop=i,this.easing=s||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(pe.cssNumber[i]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,i=H.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=H.prototype.init,pe.fx.step={};var yt,bt,wt=/^(?:toggle|show|hide)$/,St=/queueHooks$/;pe.Animation=pe.extend(F,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return c(i.elem,e,Ae.exec(t),i),i}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(Te);for(var i,n=0,s=e.length;s>n;n++)i=e[n],F.tweeners[i]=F.tweeners[i]||[],F.tweeners[i].unshift(t)},prefilters:[W],prefilter:function(e,t){t?F.prefilters.unshift(e):F.prefilters.push(e)}}),pe.speed=function(e,t,i){var n=e&&"object"==typeof e?pe.extend({},e):{complete:i||!i&&t||pe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!pe.isFunction(t)&&t};return n.duration=pe.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in pe.fx.speeds?pe.fx.speeds[n.duration]:pe.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){pe.isFunction(n.old)&&n.old.call(this),n.queue&&pe.dequeue(this,n.queue)},n},pe.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Oe).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=pe.isEmptyObject(e),r=pe.speed(t,i,n),o=function(){var t=F(this,pe.extend({},e),r);(s||pe._data(this,"finish"))&&t.stop(!0)};return o.finish=o,s||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",r=pe.timers,o=pe._data(this);if(s)o[s]&&o[s].stop&&n(o[s]);else for(s in o)o[s]&&o[s].stop&&St.test(s)&&n(o[s]);for(s=r.length;s--;)r[s].elem!==this||null!=e&&r[s].queue!==e||(r[s].anim.stop(i),t=!1,r.splice(s,1));!t&&i||pe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=pe._data(this),n=i[e+"queue"],s=i[e+"queueHooks"],r=pe.timers,o=n?n.length:0;for(i.finish=!0,pe.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;o>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),pe.each(["toggle","show","hide"],function(e,t){var i=pe.fn[t];pe.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(R(t,!0),e,n,s)}}),pe.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){pe.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),pe.timers=[],pe.fx.tick=function(){var e,t=pe.timers,i=0;for(yt=pe.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||pe.fx.stop(),yt=void 0},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){bt||(bt=e.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){e.clearInterval(bt),bt=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(t,i){return t=pe.fx?pe.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,n){var s=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(s)}})},function(){var e,t=ne.createElement("input"),i=ne.createElement("div"),n=ne.createElement("select"),s=n.appendChild(ne.createElement("option"));i=ne.createElement("div"),i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=i.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),i.appendChild(t),e=i.getElementsByTagName("a")[0],e.style.cssText="top:1px",he.getSetAttribute="t"!==i.className,he.style=/top/.test(e.getAttribute("style")),he.hrefNormalized="/a"===e.getAttribute("href"),he.checkOn=!!t.value,he.optSelected=s.selected,he.enctype=!!ne.createElement("form").enctype,n.disabled=!0,he.optDisabled=!s.disabled,t=ne.createElement("input"),t.setAttribute("value",""),he.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),he.radioValue="t"===t.value}();pe.fn.extend({val:function(e){var t,i,n,s=this[0];return arguments.length?(n=pe.isFunction(e),this.each(function(i){var s;1===this.nodeType&&(s=n?e.call(this,i,pe(this).val()):e,null==s?s="":"number"==typeof s?s+="":pe.isArray(s)&&(s=pe.map(s,function(e){return null==e?"":e+""})),(t=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))})):s?(t=pe.valHooks[s.type]||pe.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(s,"value"))?i:(i=s.value,"string"==typeof i?i.replace(/\r/g,""):null==i?"":i)):void 0}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:pe.trim(pe.text(e)).replace(/[\x20\t\r\n\f]+/g," ")}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,r="select-one"===e.type||0>s,o=r?null:[],a=r?s+1:n.length,l=0>s?a:r?s:0;a>l;l++)if(i=n[l],(i.selected||l===s)&&(he.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!pe.nodeName(i.parentNode,"optgroup"))){if(t=pe(i).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var i,n,s=e.options,r=pe.makeArray(t),o=s.length;o--;)if(n=s[o],pe.inArray(pe.valHooks.option.get(n),r)>-1)try{n.selected=i=!0}catch(e){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),s}}}}),pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){return pe.isArray(t)?e.checked=pe.inArray(pe(e).val(),t)>-1:void 0}},he.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xt,Et,Tt=pe.expr.attrHandle,Ct=/^(?:checked|selected)$/i,It=he.getSetAttribute,Mt=he.input;pe.fn.extend({attr:function(e,t){return ze(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,i){var n,s,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?pe.prop(e,t,i):(1===r&&pe.isXMLDoc(e)||(t=t.toLowerCase(),s=pe.attrHooks[t]||(pe.expr.match.bool.test(t)?Et:xt)),void 0!==i?null===i?void pe.removeAttr(e,t):s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:(e.setAttribute(t,i+""),i):s&&"get"in s&&null!==(n=s.get(e,t))?n:(n=pe.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!he.radioValue&&"radio"===t&&pe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n,s=0,r=t&&t.match(Te);if(r&&1===e.nodeType)for(;i=r[s++];)n=pe.propFix[i]||i,pe.expr.match.bool.test(i)?Mt&&It||!Ct.test(i)?e[n]=!1:e[pe.camelCase("default-"+i)]=e[n]=!1:pe.attr(e,i,""),e.removeAttribute(It?i:n)}}),Et={set:function(e,t,i){return!1===t?pe.removeAttr(e,i):Mt&&It||!Ct.test(i)?e.setAttribute(!It&&pe.propFix[i]||i,i):e[pe.camelCase("default-"+i)]=e[i]=!0,i}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var i=Tt[t]||pe.find.attr;Mt&&It||!Ct.test(t)?Tt[t]=function(e,t,n){var s,r;return n||(r=Tt[t],Tt[t]=s,s=null!=i(e,t,n)?t.toLowerCase():null,Tt[t]=r),s}:Tt[t]=function(e,t,i){return i?void 0:e[pe.camelCase("default-"+t)]?t.toLowerCase():null}}),Mt&&It||(pe.attrHooks.value={set:function(e,t,i){return pe.nodeName(e,"input")?void(e.defaultValue=t):xt&&xt.set(e,t,i)}}),It||(xt={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},Tt.id=Tt.name=Tt.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},pe.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:xt.set},pe.attrHooks.contenteditable={set:function(e,t,i){xt.set(e,""!==t&&t,i)}},pe.each(["width","height"],function(e,t){pe.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),he.style||(pe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Pt=/^(?:input|select|textarea|button|object)$/i,Lt=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return ze(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=pe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),pe.extend({prop:function(e,t,i){var n,s,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,s=pe.propHooks[t]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:e[t]=i:s&&"get"in s&&null!==(n=s.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):Pt.test(e.nodeName)||Lt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),he.hrefNormalized||pe.each(["href","src"],function(e,t){pe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),he.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),
pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this}),he.enctype||(pe.propFix.enctype="encoding");var jt=/[\t\r\n\f]/g;pe.fn.extend({addClass:function(e){var t,i,n,s,r,o,a,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).addClass(e.call(this,t,G(this)))});if("string"==typeof e&&e)for(t=e.match(Te)||[];i=this[l++];)if(s=G(i),n=1===i.nodeType&&(" "+s+" ").replace(jt," ")){for(o=0;r=t[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=pe.trim(n),s!==a&&pe.attr(i,"class",a)}return this},removeClass:function(e){var t,i,n,s,r,o,a,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).removeClass(e.call(this,t,G(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Te)||[];i=this[l++];)if(s=G(i),n=1===i.nodeType&&(" "+s+" ").replace(jt," ")){for(o=0;r=t[o++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=pe.trim(n),s!==a&&pe.attr(i,"class",a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each(function(i){pe(this).toggleClass(e.call(this,i,G(this),t),t)}):this.each(function(){var t,n,s,r;if("string"===i)for(n=0,s=pe(this),r=e.match(Te)||[];t=r[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==i||(t=G(this),t&&pe._data(this,"__className__",t),pe.attr(this,"class",t||!1===e?"":pe._data(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+G(i)+" ").replace(jt," ").indexOf(t)>-1)return!0;return!1}}),pe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){pe.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var At=e.location,kt=pe.now(),Ot=/\?/;pe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,s=pe.trim(t+"");return s&&!pe.trim(s.replace(/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,function(e,t,s,r){return i&&t&&(n=0),0===n?e:(i=s||t,n+=!r-!s,"")}))?Function("return "+s)():pe.error("Invalid JSON: "+t)},pe.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new e.DOMParser,i=n.parseFromString(t,"text/xml")):(i=new e.ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(e){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+t),i};var zt=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ht=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Dt=/^(?:GET|HEAD)$/,Rt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},Wt={},Bt="*/".concat("*"),Ft=At.href,Gt=Rt.exec(Ft.toLowerCase())||[];pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ft,type:"GET",isLocal:Ht.test(Gt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pe.parseJSON,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Y(Y(e,pe.ajaxSettings),t):Y(pe.ajaxSettings,e)},ajaxPrefilter:Q($t),ajaxTransport:Q(Wt),ajax:function(t,i){function n(t,i,n,s){var r,h,v,y,w,x=i;2!==b&&(b=2,l&&e.clearTimeout(l),u=void 0,a=s||"",S.readyState=t>0?4:0,r=t>=200&&300>t||304===t,n&&(y=U(c,S,n)),y=X(c,y,S,r),r?(c.ifModified&&(w=S.getResponseHeader("Last-Modified"),w&&(pe.lastModified[o]=w),(w=S.getResponseHeader("etag"))&&(pe.etag[o]=w)),204===t||"HEAD"===c.type?x="nocontent":304===t?x="notmodified":(x=y.state,h=y.data,v=y.error,r=!v)):(v=x,!t&&x||(x="error",0>t&&(t=0))),S.status=t,S.statusText=(i||x)+"",r?g.resolveWith(p,[h,x,S]):g.rejectWith(p,[S,x,v]),S.statusCode(_),_=void 0,d&&f.trigger(r?"ajaxSuccess":"ajaxError",[S,c,r?h:v]),m.fireWith(p,[S,x]),d&&(f.trigger("ajaxComplete",[S,c]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var s,r,o,a,l,d,u,h,c=pe.ajaxSetup({},i),p=c.context||c,f=c.context&&(p.nodeType||p.jquery)?pe(p):pe.event,g=pe.Deferred(),m=pe.Callbacks("once memory"),_=c.statusCode||{},v={},y={},b=0,w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!h)for(h={};t=Nt.exec(a);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=y[i]=y[i]||e,v[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)_[t]=[_[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),n(0,t),this}};if(g.promise(S).complete=m.add,S.success=S.done,S.error=S.fail,c.url=((t||c.url||Ft)+"").replace(/#.*$/,"").replace(/^\/\//,Gt[1]+"//"),c.type=i.method||i.type||c.method||c.type,c.dataTypes=pe.trim(c.dataType||"*").toLowerCase().match(Te)||[""],null==c.crossDomain&&(s=Rt.exec(c.url.toLowerCase()),c.crossDomain=!(!s||s[1]===Gt[1]&&s[2]===Gt[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(Gt[3]||("http:"===Gt[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=pe.param(c.data,c.traditional)),V($t,c,i,S),2===b)return S;d=pe.event&&c.global,d&&0==pe.active++&&pe.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Dt.test(c.type),o=c.url,c.hasContent||(c.data&&(o=c.url+=(Ot.test(o)?"&":"?")+c.data,delete c.data),!1===c.cache&&(c.url=zt.test(o)?o.replace(zt,"$1_="+kt++):o+(Ot.test(o)?"&":"?")+"_="+kt++)),c.ifModified&&(pe.lastModified[o]&&S.setRequestHeader("If-Modified-Since",pe.lastModified[o]),pe.etag[o]&&S.setRequestHeader("If-None-Match",pe.etag[o])),(c.data&&c.hasContent&&!1!==c.contentType||i.contentType)&&S.setRequestHeader("Content-Type",c.contentType),S.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Bt+"; q=0.01":""):c.accepts["*"]);for(r in c.headers)S.setRequestHeader(r,c.headers[r]);if(c.beforeSend&&(!1===c.beforeSend.call(p,S,c)||2===b))return S.abort();w="abort";for(r in{success:1,error:1,complete:1})S[r](c[r]);if(u=V(Wt,c,i,S)){if(S.readyState=1,d&&f.trigger("ajaxSend",[S,c]),2===b)return S;c.async&&c.timeout>0&&(l=e.setTimeout(function(){S.abort("timeout")},c.timeout));try{b=1,u.send(v,n)}catch(e){if(!(2>b))throw e;n(-1,e)}}else n(-1,"No Transport");return S},getJSON:function(e,t,i){return pe.get(e,t,i,"json")},getScript:function(e,t){return pe.get(e,void 0,t,"script")}}),pe.each(["get","post"],function(e,t){pe[t]=function(e,i,n,s){return pe.isFunction(i)&&(s=s||n,n=i,i=void 0),pe.ajax(pe.extend({url:e,type:t,dataType:s,data:i,success:n},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pe.fn.extend({wrapAll:function(e){if(pe.isFunction(e))return this.each(function(t){pe(this).wrapAll(e.call(this,t))});if(this[0]){var t=pe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return pe.isFunction(e)?this.each(function(t){pe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pe(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=pe.isFunction(e);return this.each(function(i){pe(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){pe.nodeName(this,"body")||pe(this).replaceWith(this.childNodes)}).end()}}),pe.expr.filters.hidden=function(e){return he.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Z(e)},pe.expr.filters.visible=function(e){return!pe.expr.filters.hidden(e)};var Qt=/\[\]$/,Vt=/^(?:submit|button|image|reset|file)$/i,Yt=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var i,n=[],s=function(e,t){t=pe.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=pe.ajaxSettings&&pe.ajaxSettings.traditional),pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){s(this.name,this.value)});else for(i in e)K(i,e[i],t,s);return n.join("&").replace(/%20/g,"+")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&Yt.test(this.nodeName)&&!Vt.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){var i=pe(this).val();return null==i?null:pe.isArray(i)?pe.map(i,function(e){return{name:t.name,value:e.replace(/\r?\n/g,"\r\n")}}):{name:t.name,value:i.replace(/\r?\n/g,"\r\n")}}).get()}}),pe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?ee():ne.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||ee()}:J;var Ut=0,Xt={},qt=pe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Xt)Xt[e](void 0,!0)}),he.cors=!!qt&&"withCredentials"in qt,(qt=he.ajax=!!qt)&&pe.ajaxTransport(function(t){if(!t.crossDomain||he.cors){var i;return{send:function(n,s){var r,o=t.xhr(),a=++Ut;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(t.hasContent&&t.data||null),i=function(e,n){var r,l,d;if(i&&(n||4===o.readyState))if(delete Xt[a],i=void 0,o.onreadystatechange=pe.noop,n)4!==o.readyState&&o.abort();else{d={},r=o.status,"string"==typeof o.responseText&&(d.text=o.responseText);try{l=o.statusText}catch(e){l=""}r||!t.isLocal||t.crossDomain?1223===r&&(r=204):r=d.text?200:404}d&&s(r,l,d,o.getAllResponseHeaders())},t.async?4===o.readyState?e.setTimeout(i):o.onreadystatechange=Xt[a]=i:i()},abort:function(){i&&i(void 0,!0)}}}}),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),pe.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=ne.head||pe("head")[0]||ne.documentElement;return{send:function(n,s){t=ne.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||s(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Zt=[],Kt=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Zt.pop()||pe.expando+"_"+kt++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",function(t,i,n){var s,r,o,a=!1!==t.jsonp&&(Kt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(s=t.jsonpCallback=pe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Kt,"$1"+s):!1!==t.jsonp&&(t.url+=(Ot.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return o||pe.error(s+" was not called"),o[0]},t.dataTypes[0]="json",r=e[s],e[s]=function(){o=arguments},n.always(function(){void 0===r?pe(e).removeProp(s):e[s]=r,t[s]&&(t.jsonpCallback=i.jsonpCallback,Zt.push(s)),o&&pe.isFunction(r)&&r(o[0]),o=r=void 0}),"script"):void 0}),pe.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||ne;var n=ye.exec(e),s=!i&&[];return n?[t.createElement(n[1])]:(n=_([e],t,s),s&&s.length&&pe(s).remove(),pe.merge([],n.childNodes))};var Jt=pe.fn.load;pe.fn.load=function(e,t,i){if("string"!=typeof e&&Jt)return Jt.apply(this,arguments);var n,s,r,o=this,a=e.indexOf(" ");return a>-1&&(n=pe.trim(e.slice(a,e.length)),e=e.slice(0,a)),pe.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(s="POST"),o.length>0&&pe.ajax({url:e,type:s||"GET",dataType:"html",data:t}).done(function(e){r=arguments,o.html(n?pe("<div>").append(pe.parseHTML(e)).find(n):e)}).always(i&&function(e,t){o.each(function(){i.apply(this,r||[e.responseText,t,e])})}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.filters.animated=function(e){return pe.grep(pe.timers,function(t){return e===t.elem}).length},pe.offset={setOffset:function(e,t,i){var n,s,r,o,a,l,d,u=pe.css(e,"position"),h=pe(e),c={};"static"===u&&(e.style.position="relative"),a=h.offset(),r=pe.css(e,"top"),l=pe.css(e,"left"),d=("absolute"===u||"fixed"===u)&&pe.inArray("auto",[r,l])>-1,d?(n=h.position(),o=n.top,s=n.left):(o=parseFloat(r)||0,s=parseFloat(l)||0),pe.isFunction(t)&&(t=t.call(e,i,pe.extend({},a))),null!=t.top&&(c.top=t.top-a.top+o),null!=t.left&&(c.left=t.left-a.left+s),"using"in t?t.using.call(e,c):h.css(c)}},pe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){pe.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},s=this[0],r=s&&s.ownerDocument;return r?(t=r.documentElement,pe.contains(t,s)?(void 0!==s.getBoundingClientRect&&(n=s.getBoundingClientRect()),i=te(r),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===pe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pe.nodeName(e[0],"html")||(i=e.offset()),i.top+=pe.css(e[0],"borderTopWidth",!0),i.left+=pe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-pe.css(n,"marginTop",!0),left:t.left-i.left-pe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!pe.nodeName(e,"html")&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||at})}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);pe.fn[e]=function(n){return ze(this,function(e,n,s){var r=te(e);return void 0===s?r?t in r?r[t]:r.document.documentElement[n]:e[n]:void(r?r.scrollTo(i?pe(r).scrollLeft():s,i?s:pe(r).scrollTop()):e[n]=s)},e,n,arguments.length,null)}}),pe.each(["top","left"],function(e,t){pe.cssHooks[t]=j(he.pixelPosition,function(e,i){return i?(i=dt(e,t),rt.test(i)?pe(e).position()[t]+"px":i):void 0})}),pe.each({Height:"height",Width:"width"},function(e,t){pe.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){pe.fn[n]=function(n,s){var r=arguments.length&&(i||"boolean"!=typeof n),o=i||(!0===n||!0===s?"margin":"border");return ze(this,function(t,i,n){var s;return pe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===n?pe.css(t,i,o):pe.style(t,i,n,o)},t,r?n:void 0,r,null)}})}),pe.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),pe.fn.size=function(){return this.length},pe.fn.andSelf=pe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pe});var ei=e.jQuery,ti=e.$;return pe.noConflict=function(t){return e.$===pe&&(e.$=ti),t&&e.jQuery===pe&&(e.jQuery=ei),pe},t||(e.jQuery=e.$=pe),pe}),window.Modernizr=function(e,t,i){function n(e){m.cssText=e}function s(e,t){return n(b.join(e+";")+(t||""))}function r(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function a(e,t){for(var n in e){var s=e[n];if(!o(s,"-")&&m[s]!==i)return"pfx"!=t||s}return!1}function l(e,t,n){for(var s in e){var o=t[e[s]];if(o!==i)return!1===n?e[s]:r(o,"function")?o.bind(n||t):o}return!1}function d(e,t,i){var n=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+S.join(n+" ")+n).split(" ");return r(t,"string")||r(t,"undefined")?a(s,t):(s=(e+" "+x.join(n+" ")+n).split(" "),l(s,t,i))}var u,h,c={},p=t.documentElement,f="modernizr",g=t.createElement(f),m=g.style,_=t.createElement("input"),v=":)",y={}.toString,b=" -webkit- -moz- -o- -ms- ".split(" "),w="Webkit Moz O ms",S=w.split(" "),x=w.toLowerCase().split(" "),E={svg:"http://www.w3.org/2000/svg"},T={},C={},I={},M=[],P=M.slice,L=function(e,i,n,s){var r,o,a,l,d=t.createElement("div"),u=t.body,h=u||t.createElement("body");if(parseInt(n,10))for(;n--;)a=t.createElement("div"),a.id=s?s[n]:f+(n+1),d.appendChild(a);return r=["&#173;",'<style id="s',f,'">',e,"</style>"].join(""),d.id=f,(u?d:h).innerHTML+=r,h.appendChild(d),u||(h.style.background="",h.style.overflow="hidden",l=p.style.overflow,p.style.overflow="hidden",p.appendChild(h)),o=i(d,e),u?d.parentNode.removeChild(d):(h.parentNode.removeChild(h),p.style.overflow=l),!!o},j=function(t){var i=e.matchMedia||e.msMatchMedia;if(i)return i(t).matches;var n;return L("@media "+t+" { #"+f+" { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),n},A=function(){function e(e,s){s=s||t.createElement(n[e]||"div"),e="on"+e;var o=e in s;return o||(s.setAttribute||(s=t.createElement("div")),s.setAttribute&&s.removeAttribute&&(s.setAttribute(e,""),o=r(s[e],"function"),r(s[e],"undefined")||(s[e]=i),s.removeAttribute(e))),s=null,o}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),k={}.hasOwnProperty;h=r(k,"undefined")||r(k.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return k.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=P.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=t.prototype;var r=new s,o=t.apply(r,i.concat(P.call(arguments)));return Object(o)===o?o:r}return t.apply(e,i.concat(P.call(arguments)))};return n}),T.flexbox=function(){return d("flexWrap")},T.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},T.canvastext=function(){return!!c.canvas&&!!r(t.createElement("canvas").getContext("2d").fillText,"function")},T.webgl=function(){return!!e.WebGLRenderingContext},T.touch=function(){var i;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?i=!0:L(["@media (",b.join("touch-enabled),("),f,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){i=9===e.offsetTop}),i},T.geolocation=function(){return"geolocation"in navigator},T.postmessage=function(){return!!e.postMessage},T.websqldatabase=function(){return!!e.openDatabase},T.indexedDB=function(){return!!d("indexedDB",e)},T.hashchange=function(){return A("hashchange",e)&&(t.documentMode===i||t.documentMode>7)},T.history=function(){return!!e.history&&!!history.pushState},T.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},T.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},T.rgba=function(){return n("background-color:rgba(150,255,150,.5)"),o(m.backgroundColor,"rgba")},T.hsla=function(){return n("background-color:hsla(120,40%,100%,.5)"),o(m.backgroundColor,"rgba")||o(m.backgroundColor,"hsla")},T.multiplebgs=function(){return n("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(m.background)},T.backgroundsize=function(){return d("backgroundSize")},T.borderimage=function(){return d("borderImage")},T.borderradius=function(){return d("borderRadius")},T.boxshadow=function(){return d("boxShadow")},T.textshadow=function(){return""===t.createElement("div").style.textShadow},T.opacity=function(){return s("opacity:.55"),/^0.55$/.test(m.opacity)},T.cssanimations=function(){return d("animationName")},T.csscolumns=function(){return d("columnCount")},T.cssgradients=function(){var e="background-image:";return n((e+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+e)+b.join("linear-gradient(left top,#9f9, white);"+e)).slice(0,-e.length)),o(m.backgroundImage,"gradient")},T.cssreflections=function(){return d("boxReflect")},T.csstransforms=function(){return!!d("transform")},T.csstransforms3d=function(){var e=!!d("perspective");return e&&"webkitPerspective"in p.style&&L("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,i){e=9===t.offsetLeft&&3===t.offsetHeight}),e},T.csstransitions=function(){return d("transition")},T.fontface=function(){var e;return L('@font-face {font-family:"font";src:url("https://")}',function(i,n){var s=t.getElementById("smodernizr"),r=s.sheet||s.styleSheet,o=r?r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"":"";e=/src/i.test(o)&&0===o.indexOf(n.split(" ")[0])}),e},T.generatedcontent=function(){var e;return L(["#",f,"{font:0/0 a}#",f,':after{content:"',v,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},T.video=function(){var e=t.createElement("video"),i=!1;try{(i=!!e.canPlayType)&&(i=new Boolean(i),i.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return i},T.audio=function(){var e=t.createElement("audio"),i=!1;try{(i=!!e.canPlayType)&&(i=new Boolean(i),i.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),i.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),i.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return i},T.localstorage=function(){try{return localStorage.setItem(f,f),localStorage.removeItem(f),!0}catch(e){return!1}},T.sessionstorage=function(){try{return sessionStorage.setItem(f,f),sessionStorage.removeItem(f),!0}catch(e){return!1}},T.webworkers=function(){return!!e.Worker},T.applicationcache=function(){return!!e.applicationCache},T.svg=function(){return!!t.createElementNS&&!!t.createElementNS(E.svg,"svg").createSVGRect},T.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==E.svg},T.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(y.call(t.createElementNS(E.svg,"animate")))},T.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(y.call(t.createElementNS(E.svg,"clipPath")))};for(var O in T)h(T,O)&&(u=O.toLowerCase(),c[u]=T[O](),M.push((c[u]?"":"no-")+u));return c.input||function(){c.input=function(i){for(var n=0,s=i.length;n<s;n++)I[i[n]]=i[n]in _;return I.list&&(I.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),I}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),c.inputtypes=function(e){for(var n,s,r,o=0,a=e.length;o<a;o++)_.setAttribute("type",s=e[o]),n="text"!==_.type,n&&(_.value=v,_.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&_.style.WebkitAppearance!==i?(p.appendChild(_),r=t.defaultView,n=r.getComputedStyle&&"textfield"!==r.getComputedStyle(_,null).WebkitAppearance&&0!==_.offsetHeight,p.removeChild(_)):/^(search|tel)$/.test(s)||(n=/^(url|email)$/.test(s)?_.checkValidity&&!1===_.checkValidity():_.value!=v)),C[e[o]]=!!n;return C}("search tel url email datetime date month week time datetime-local number range color".split(" "))}(),c.addTest=function(e,t){if("object"==typeof e)for(var n in e)h(e,n)&&c.addTest(n,e[n]);else{if(e=e.toLowerCase(),c[e]!==i)return c;t="function"==typeof t?t():t,p.className+=" "+(t?"":"no-")+e,c[e]=t}return c},n(""),g=_=null,function(e,t){function i(e,t){var i=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var e=_.elements;return"string"==typeof e?e.split(" "):e}function s(e){var t=m[e[f]];return t||(t={},g++,e[f]=g,m[g]=t),t}function r(e,i,n){if(i||(i=t),u)return i.createElement(e);n||(n=s(i));var r;return r=n.cache[e]?n.cache[e].cloneNode():p.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e),r.canHaveChildren&&!c.test(e)?n.frag.appendChild(r):r}function o(e,i){if(e||(e=t),u)return e.createDocumentFragment();i=i||s(e);for(var r=i.frag.cloneNode(),o=0,a=n(),l=a.length;o<l;o++)r.createElement(a[o]);return r}function a(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return _.shivMethods?r(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(_,t.frag)}function l(e){e||(e=t);var n=s(e);return _.shivCSS&&!d&&!n.hasCSS&&(n.hasCSS=!!i(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),u||a(e,n),e}var d,u,h=e.html5||{},c=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",g=0,m={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",d="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){d=!0,u=!0}}();var _={elements:h.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==h.shivCSS,supportsUnknownElements:u,shivMethods:!1!==h.shivMethods,type:"default",shivDocument:l,createElement:r,createDocumentFragment:o};e.html5=_,l(t)}(this,t),c._version="2.6.2",c._prefixes=b,c._domPrefixes=x,c._cssomPrefixes=S,c.mq=j,c.hasEvent=A,c.testProp=function(e){return a([e])},c.testAllProps=d,c.testStyles=L,c.prefixed=function(e,t,i){return t?d(e,t,i):d(e,"pfx")},p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+M.join(" "),c}(this,this.document),function(e,t,i){function n(e){return"[object Function]"==m.call(e)}function s(e){return"string"==typeof e}function r(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function a(){var e=_.shift();v=1,e?e.t?f(function(){("c"==e.t?c.injectCss:c.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),a()):v=0}function l(e,i,n,s,r,l,d){function u(t){if(!p&&o(h.readyState)&&(y.r=p=1,!v&&a(),h.onload=h.onreadystatechange=null,t)){"img"!=e&&f(function(){w.removeChild(h)},50);for(var n in C[i])C[i].hasOwnProperty(n)&&C[i][n].onload()}}var d=d||c.errorTimeout,h=t.createElement(e),p=0,m=0,y={t:n,s:i,e:r,a:l,x:d};1===C[i]&&(m=1,C[i]=[]),"object"==e?h.data=i:(h.src=i,h.type=e),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){u.call(this,m)},_.splice(s,0,y),"img"!=e&&(m||2===C[i]?(w.insertBefore(h,b?null:g),f(u,d)):C[i].push(h))}function d(e,t,i,n,r){return v=0,t=t||"j",s(e)?l("c"==t?x:S,e,t,this.i++,i,n,r):(_.splice(this.i++,0,e),1==_.length&&a()),this}function u(){var e=c;return e.loader={load:d,i:0},e}var h,c,p=t.documentElement,f=e.setTimeout,g=t.getElementsByTagName("script")[0],m={}.toString,_=[],v=0,y="MozAppearance"in p.style,b=y&&!!t.createRange().compareNode,w=b?p:g.parentNode,p=e.opera&&"[object Opera]"==m.call(e.opera),p=!!t.attachEvent&&!p,S=y?"object":p?"script":"img",x=p?"script":S,E=Array.isArray||function(e){return"[object Array]"==m.call(e)},T=[],C={},I={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};c=function(e){function t(e){var t,i,n,e=e.split("!"),s=T.length,r=e.pop(),o=e.length,r={url:r,origUrl:r,prefixes:e};for(i=0;i<o;i++)n=e[i].split("="),(t=I[n.shift()])&&(r=t(r,n));for(i=0;i<s;i++)r=T[i](r);return r}function o(e,s,r,o,a){var l=t(e),d=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(s&&(s=n(s)?s:s[e]||s[o]||s[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,s,r,o,a):(C[l.url]?l.noexec=!0:C[l.url]=1,r.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":i,l.noexec,l.attrs,l.timeout),(n(s)||n(d))&&r.load(function(){u(),s&&s(l.origUrl,a,o),d&&d(l.origUrl,a,o),C[l.url]=2})))}function a(e,t){function i(e,i){if(e){if(s(e))i||(h=function(){var e=[].slice.call(arguments);c.apply(this,e),p()}),o(e,h,t,0,d);else if(Object(e)===e)for(l in a=function(){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(),e)e.hasOwnProperty(l)&&(!i&&!--a&&(n(h)?h=function(){var e=[].slice.call(arguments);c.apply(this,e),p()}:h[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),p()}}(c[l])),o(e[l],h,t,l,d))}else!i&&p()}var a,l,d=!!e.test,u=e.load||e.both,h=e.callback||r,c=h,p=e.complete||r;i(d?e.yep:e.nope,!!u),u&&i(u)}var l,d,h=this.yepnope.loader;if(s(e))o(e,0,h,0);else if(E(e))for(l=0;l<e.length;l++)d=e[l],s(d)?o(d,0,h,0):E(d)?c(d):Object(d)===d&&a(d,h);else Object(e)===e&&a(e,h)},c.addPrefix=function(e,t){I[e]=t},c.addFilter=function(e){T.push(e)},c.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",h=function(){t.removeEventListener("DOMContentLoaded",h,0),t.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=a,e.yepnope.injectJs=function(e,i,n,s,l,d){var u,h,p=t.createElement("script"),s=s||c.errorTimeout;p.src=e;for(h in n)p.setAttribute(h,n[h]);i=d?a:i||r,p.onreadystatechange=p.onload=function(){!u&&o(p.readyState)&&(u=1,i(),p.onload=p.onreadystatechange=null)},f(function(){u||(u=1,i(1))},s),l?p.onload():g.parentNode.insertBefore(p,g)},e.yepnope.injectCss=function(e,i,n,s,o,l){var d,s=t.createElement("link"),i=l?a:i||r;s.href=e,s.rel="stylesheet",s.type="text/css";for(d in n)s.setAttribute(d,n[d]);o||(g.parentNode.insertBefore(s,g),f(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},window.matchMedia=window.matchMedia||function(e,t){var i,n=e.documentElement,s=n.firstElementChild||n.firstChild,r=e.createElement("body"),o=e.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(o),function(e){return o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(r,s),i=42==o.offsetWidth,n.removeChild(r),{matches:i,media:e}}}(document),function(e){function t(){y(!0)}if(e.respond={},respond.update=function(){},respond.mediaQueriesSupported=e.matchMedia&&e.matchMedia("only all").matches,!respond.mediaQueriesSupported){
var i,n,s,r=e.document,o=r.documentElement,a=[],l=[],d=[],u={},h=r.getElementsByTagName("head")[0]||o,c=r.getElementsByTagName("base")[0],p=h.getElementsByTagName("link"),f=[],g=function(){for(var t,i,n,s,r=p,o=r.length,a=0;a<o;a++)t=r[a],i=t.href,n=t.media,s=t.rel&&"stylesheet"===t.rel.toLowerCase(),i&&s&&!u[i]&&(t.styleSheet&&t.styleSheet.rawCssText?(_(t.styleSheet.rawCssText,i,n),u[i]=!0):(/^([a-zA-Z:]*\/\/)/.test(i)||c)&&i.replace(RegExp.$1,"").split("/")[0]!==e.location.host||f.push({href:i,media:n}));m()},m=function(){if(f.length){var e=f.shift();b(e.href,function(t){_(t,e.href,e.media),u[e.href]=!0,m()})}},_=function(e,t,i){var n,s,r,o,d,u=e.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),h=u&&u.length||0,t=t.substring(0,t.lastIndexOf("/")),c=function(e){return e.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+t+"$2$3")},p=!h&&i,f=0;for(t.length&&(t+="/"),p&&(h=1);f<h;f++)for(n=0,p?(s=i,l.push(c(e))):(s=u[f].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,l.push(RegExp.$2&&c(RegExp.$2))),o=s.split(","),d=o.length;n<d;n++)r=o[n],a.push({media:r.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:l.length-1,hasquery:r.indexOf("(")>-1,minw:r.match(/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:r.match(/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")});y()},v=function(){var e,t=r.createElement("div"),i=r.body,n=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",i||(i=n=r.createElement("body"),i.style.background="none"),i.appendChild(t),o.insertBefore(i,o.firstChild),e=t.offsetWidth,n?o.removeChild(i):i.removeChild(t),e=s=parseFloat(e)},y=function(e){var t="clientWidth",u=o[t],c="CSS1Compat"===r.compatMode&&u||r.body[t]||u,f={},g=p[p.length-1],m=(new Date).getTime();if(e&&i&&m-i<30)return clearTimeout(n),void(n=setTimeout(y,30));i=m;for(var _ in a){var b=a[_],w=b.minw,S=b.maxw,x=null===w,E=null===S;w&&(w=parseFloat(w)*(w.indexOf("em")>-1?s||v():1)),S&&(S=parseFloat(S)*(S.indexOf("em")>-1?s||v():1)),b.hasquery&&(x&&E||!(x||c>=w)||!(E||c<=S))||(f[b.media]||(f[b.media]=[]),f[b.media].push(l[b.rules]))}for(var _ in d)d[_]&&d[_].parentNode===h&&h.removeChild(d[_]);for(var _ in f){var T=r.createElement("style"),C=f[_].join("\n");T.type="text/css",T.media=_,h.insertBefore(T,g.nextSibling),T.styleSheet?T.styleSheet.cssText=C:T.appendChild(r.createTextNode(C)),d.push(T)}},b=function(e,t){var i=w();i&&(i.open("GET",e,!0),i.onreadystatechange=function(){4!=i.readyState||200!=i.status&&304!=i.status||t(i.responseText)},4!=i.readyState&&i.send(null))},w=function(){var e=!1;try{e=new XMLHttpRequest}catch(t){e=new ActiveXObject("Microsoft.XMLHTTP")}return function(){return e}}();g(),respond.update=g,e.addEventListener?e.addEventListener("resize",t,!1):e.attachEvent&&e.attachEvent("onresize",t)}}(this),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(i){return t(i,e,e.document,e.Math)}):"object"==typeof exports&&exports?module.exports=t(require("jquery"),e,e.document,e.Math):t(jQuery,e,e.document,e.Math)}("undefined"!=typeof window?window:this,function(e,t,i,n,s){"use strict";var r="fullpage-wrapper",o="."+r,a="fp-scrollable",l="."+a,d="fp-responsive",u="fp-notransition",h="fp-destroyed",c="fp-enabled",p="fp-viewing",f="active",g="."+f,m="fp-completely",_="."+m,v="fp-section",y="."+v,b=y+g,w=y+":first",S=y+":last",x="fp-tableCell",E="."+x,T="fp-nav",C="#"+T,I="fp-tooltip",M="."+I,P="fp-slide",L="."+P,j=L+g,A="fp-slides",k="."+A,O="fp-slidesContainer",z="."+O,N="fp-table",H="fp-slidesNav",D="."+H,R=D+" a",$="fp-controlArrow",W="."+$,B="fp-prev",F="."+B,G=$+" "+B,Q=W+F,V="fp-next",Y=$+" "+V,U=W+"."+V,X=e(t),q=e(i),Z={scrollbars:!0,mouseWheel:!0,hideScrollbars:!1,fadeScrollbars:!1,disableMouse:!0,interactiveScrollbars:!0};e.fn.fullpage=function(a){function l(t,i){t||Vt(0),Zt("autoScrolling",t,i);var n=e(b);a.autoScrolling&&!a.scrollBar?(ei.css({overflow:"hidden",height:"100%"}),$(Ti.recordHistory,"internal"),ui.css({"-ms-touch-action":"none","touch-action":"none"}),n.length&&Vt(n.position().top)):(ei.css({overflow:"visible",height:"initial"}),$(!1,"internal"),ui.css({"-ms-touch-action":"","touch-action":""}),n.length&&ei.scrollTop(n.position().top))}function $(e,t){Zt("recordHistory",e,t)}function F(e,t){Zt("scrollingSpeed",e,t)}function V(e,t){Zt("fitToSection",e,t)}function J(e){a.lockAnchors=e}function ee(e){e?(Rt(),$t()):(Dt(),Wt())}function te(t,i){void 0!==i?(i=i.replace(/ /g,"").split(","),e.each(i,function(e,i){Ut(t,i,"m")})):t?(ee(!0),Bt()):(ee(!1),Ft())}function ie(t,i){void 0!==i?(i=i.replace(/ /g,"").split(","),e.each(i,function(e,i){Ut(t,i,"k")})):a.keyboardScrolling=t}function ne(){var t=e(b).prev(y);t.length||!a.loopTop&&!a.continuousVertical||(t=e(y).last()),t.length&&$e(t,null,!0)}function se(){var t=e(b).next(y);t.length||!a.loopBottom&&!a.continuousVertical||(t=e(y).first()),t.length&&$e(t,null,!1)}function re(e,t){F(0,"internal"),oe(e,t),F(Ti.scrollingSpeed,"internal")}function oe(e,t){var i=Mt(e);void 0!==t?Lt(e,t):i.length>0&&$e(i)}function ae(e){He("right",e)}function le(e){He("left",e)}function de(t){if(!ui.hasClass(h)){ci=!0,hi=X.height(),e(y).each(function(){var t=e(this).find(k),i=e(this).find(L);a.verticalCentered&&e(this).find(E).css("height",Ct(e(this))+"px"),e(this).css("height",hi+"px"),a.scrollOverflow&&(i.length?i.each(function(){Et(e(this))}):Et(e(this))),i.length>1&&ht(t,t.find(j))});var i=e(b),n=i.index(y);n&&re(n+1),ci=!1,e.isFunction(a.afterResize)&&t&&a.afterResize.call(ui),e.isFunction(a.afterReBuild)&&!t&&a.afterReBuild.call(ui)}}function ue(t){var i=ti.hasClass(d);t?i||(l(!1,"internal"),V(!1,"internal"),e(C).hide(),ti.addClass(d),e.isFunction(a.afterResponsive)&&a.afterResponsive.call(ui,t)):i&&(l(Ti.autoScrolling,"internal"),V(Ti.autoScrolling,"internal"),e(C).show(),ti.removeClass(d),e.isFunction(a.afterResponsive)&&a.afterResponsive.call(ui,t))}function he(){var t=ui.find(a.sectionSelector);a.anchors.length||(a.anchors=t.filter("[data-anchor]").map(function(){return e(this).data("anchor").toString()}).get()),a.navigationTooltips.length||(a.navigationTooltips=t.filter("[data-tooltip]").map(function(){return e(this).data("tooltip").toString()}).get())}function ce(){ui.css({height:"100%",position:"relative"}),ui.addClass(r),e("html").addClass(c),hi=X.height(),ui.removeClass(h),me(),e(y).each(function(t){var i=e(this),n=i.find(L),s=n.length;fe(i,t),ge(i,t),s>0?pe(i,n,s):a.verticalCentered&&Tt(i)}),a.fixedElements&&a.css3&&e(a.fixedElements).appendTo(ti),a.navigation&&ve(),be(),a.scrollOverflow?("complete"===i.readyState&&ye(),X.on("load",ye)):xe()}function pe(t,i,n){var s=100*n,r=100/n;i.wrapAll('<div class="'+O+'" />'),i.parent().wrap('<div class="'+A+'" />'),t.find(z).css("width",s+"%"),n>1&&(a.controlArrows&&_e(t),a.slidesNavigation&&At(t,n)),i.each(function(t){e(this).css("width",r+"%"),a.verticalCentered&&Tt(e(this))});var o=t.find(j);o.length&&(0!==e(b).index(y)||0===e(b).index(y)&&0!==o.index())?Qt(o,"internal"):i.eq(0).addClass(f)}function fe(t,i){i||0!==e(b).length||t.addClass(f),oi=e(b),t.css("height",hi+"px"),a.paddingTop&&t.css("padding-top",a.paddingTop),a.paddingBottom&&t.css("padding-bottom",a.paddingBottom),void 0!==a.sectionsColor[i]&&t.css("background-color",a.sectionsColor[i]),void 0!==a.anchors[i]&&t.attr("data-anchor",a.anchors[i])}function ge(t,i){void 0!==a.anchors[i]&&t.hasClass(f)&&wt(a.anchors[i],i),a.menu&&a.css3&&e(a.menu).closest(o).length&&e(a.menu).appendTo(ti)}function me(){ui.find(a.sectionSelector).addClass(v),ui.find(a.slideSelector).addClass(P)}function _e(e){e.find(k).after('<div class="'+G+'"></div><div class="'+Y+'"></div>'),"#fff"!=a.controlArrowColor&&(e.find(U).css("border-color","transparent transparent transparent "+a.controlArrowColor),e.find(Q).css("border-color","transparent "+a.controlArrowColor+" transparent transparent")),a.loopHorizontal||e.find(Q).hide()}function ve(){ti.append('<div id="'+T+'"><ul></ul></div>');var t=e(C);t.addClass(function(){return a.showActiveTooltip?"fp-show-active "+a.navigationPosition:a.navigationPosition});for(var i=0;i<e(y).length;i++){var n="";a.anchors.length&&(n=a.anchors[i]);var s='<li><a href="#'+n+'"><span></span></a>',r=a.navigationTooltips[i];void 0!==r&&""!==r&&(s+='<div class="'+I+" "+a.navigationPosition+'">'+r+"</div>"),s+="</li>",t.find("ul").append(s)}e(C).css("margin-top","-"+e(C).height()/2+"px"),e(C).find("li").eq(e(b).index(y)).find("a").addClass(f)}function ye(){e(y).each(function(){var t=e(this).find(L);t.length?t.each(function(){Et(e(this))}):Et(e(this))}),xe()}function be(){ui.find('iframe[src*="youtube.com/embed/"]').each(function(){we(e(this),"enablejsapi=1")})}function we(e,t){var i=e.attr("src");e.attr("src",i+Se(i)+t)}function Se(e){return/\?/.test(e)?"&":"?"}function xe(){var t=e(b);t.addClass(m),a.scrollOverflowHandler.afterRender&&a.scrollOverflowHandler.afterRender(t),Ye(t),Ue(t),a.scrollOverflowHandler.afterLoad(),Ee()&&e.isFunction(a.afterLoad)&&a.afterLoad.call(t,t.data("anchor"),t.index(y)+1),e.isFunction(a.afterRender)&&a.afterRender.call(ui)}function Ee(){var e=t.location.hash.replace("#","").split("/"),i=Mt(decodeURIComponent(e[0]));return!i.length||i.length&&i.index()===oi.index()}function Te(){var t;if(!a.autoScrolling||a.scrollBar){var n=X.scrollTop(),s=Me(n),r=0,o=n+X.height()/2,l=ti.height()-X.height()===n,d=i.querySelectorAll(y);if(l)r=d.length-1;else if(n)for(var u=0;u<d.length;++u){var h=d[u];h.offsetTop<=o&&(r=u)}else r=0;if(Ie(s)&&(e(b).hasClass(m)||e(b).addClass(m).siblings().removeClass(m)),t=e(d).eq(r),!t.hasClass(f)){Ci=!0;var c,p,g=e(b),_=g.index(y)+1,v=St(t),w=t.data("anchor"),S=t.index(y)+1,x=t.find(j);x.length&&(p=x.data("anchor"),c=x.index()),fi&&(t.addClass(f).siblings().removeClass(f),e.isFunction(a.onLeave)&&a.onLeave.call(g,_,S,v),e.isFunction(a.afterLoad)&&a.afterLoad.call(t,w,S),qe(g),Ye(t),Ue(t),wt(w,S-1),a.anchors.length&&(ni=w),kt(c,p,w,S)),clearTimeout(bi),bi=setTimeout(function(){Ci=!1},100)}a.fitToSection&&(clearTimeout(wi),wi=setTimeout(function(){a.fitToSection&&Ce()},a.fitToSectionDelay))}}function Ce(){fi&&(ci=!0,$e(e(b)),ci=!1)}function Ie(t){var i=e(b).position().top,n=i+X.height();return"up"==t?n>=X.scrollTop()+X.height():i<=X.scrollTop()}function Me(e){var t=e>Ii?"down":"up";return Ii=e,ki=e,t}function Pe(e,t){if(mi.m[e]){var i="down"===e?"bottom":"top",n="down"===e?se:ne;if(t.length>0){if(!a.scrollOverflowHandler.isScrolled(i,t))return!0;n()}else n()}}function Le(e){var t=e.originalEvent;!Ae(e.target)&&a.autoScrolling&&ke(t)&&e.preventDefault()}function je(t){var i=t.originalEvent,s=e(i.target).closest(y);if(!Ae(t.target)&&ke(i)){a.autoScrolling&&t.preventDefault();var r=a.scrollOverflowHandler.scrollable(s),o=Gt(i);Li=o.y,ji=o.x,s.find(k).length&&n.abs(Pi-ji)>n.abs(Mi-Li)?!ai&&n.abs(Pi-ji)>X.outerWidth()/100*a.touchSensitivity&&(Pi>ji?mi.m.right&&ae(s):mi.m.left&&le(s)):a.autoScrolling&&fi&&n.abs(Mi-Li)>X.height()/100*a.touchSensitivity&&(Mi>Li?Pe("down",r):Li>Mi&&Pe("up",r))}}function Ae(t,i){i=i||0;var n=e(t).parent();return!!(i<a.normalScrollElementTouchThreshold&&n.is(a.normalScrollElements))||i!=a.normalScrollElementTouchThreshold&&Ae(n,++i)}function ke(e){return void 0===e.pointerType||"mouse"!=e.pointerType}function Oe(e){var t=e.originalEvent;if(a.fitToSection&&ei.stop(),ke(t)){var i=Gt(t);Mi=i.y,Pi=i.x}}function ze(e,t){for(var i=0,s=e.slice(n.max(e.length-t,1)),r=0;r<s.length;r++)i+=s[r];return n.ceil(i/t)}function Ne(i){var s=(new Date).getTime(),r=e(_).hasClass("fp-normal-scroll");if(a.autoScrolling&&!ri&&!r){i=i||t.event;var o=i.wheelDelta||-i.deltaY||-i.detail,l=n.max(-1,n.min(1,o)),d=void 0!==i.wheelDeltaX||void 0!==i.deltaX,u=n.abs(i.wheelDeltaX)<n.abs(i.wheelDelta)||n.abs(i.deltaX)<n.abs(i.deltaY)||!d;gi.length>149&&gi.shift(),gi.push(n.abs(o)),a.scrollBar&&(i.preventDefault?i.preventDefault():i.returnValue=!1);var h=e(b),c=a.scrollOverflowHandler.scrollable(h),p=s-Ai;return Ai=s,p>200&&(gi=[]),fi&&ze(gi,10)>=ze(gi,70)&&u&&(0>l?Pe("down",c):Pe("up",c)),!1}a.fitToSection&&ei.stop()}function He(t,i){var n=void 0===i?e(b):i,s=n.find(k),r=s.find(L).length;if(!(!s.length||ai||2>r)){var o=s.find(j),l=null;if(l="left"===t?o.prev(L):o.next(L),!l.length){if(!a.loopHorizontal)return;l="left"===t?o.siblings(":last"):o.siblings(":first")}ai=!0,ht(s,l,t)}}function De(){e(j).each(function(){Qt(e(this),"internal")})}function Re(e){var t=e.position(),i=t.top,n=t.top>ki,s=i-hi+e.outerHeight(),r=a.bigSectionsDestination;return e.outerHeight()>hi?(!n&&!r||"bottom"===r)&&(i=s):(n||ci&&e.is(":last-child"))&&(i=s),ki=i,i}function $e(t,i,n){if(void 0!==t){var s,r,o=Re(t),l={element:t,callback:i,isMovementUp:n,dtop:o,yMovement:St(t),anchorLink:t.data("anchor"),sectionIndex:t.index(y),activeSlide:t.find(j),activeSection:e(b),leavingSection:e(b).index(y)+1,localIsResizing:ci};l.activeSection.is(t)&&!ci||a.scrollBar&&X.scrollTop()===l.dtop&&!t.hasClass("fp-auto-height")||(l.activeSlide.length&&(s=l.activeSlide.data("anchor"),r=l.activeSlide.index()),a.autoScrolling&&a.continuousVertical&&void 0!==l.isMovementUp&&(!l.isMovementUp&&"up"==l.yMovement||l.isMovementUp&&"down"==l.yMovement)&&(l=Fe(l)),(!e.isFunction(a.onLeave)||l.localIsResizing||!1!==a.onLeave.call(l.activeSection,l.leavingSection,l.sectionIndex+1,l.yMovement))&&(l.localIsResizing||qe(l.activeSection),a.scrollOverflowHandler.beforeLeave(),t.addClass(f).siblings().removeClass(f),Ye(t),a.scrollOverflowHandler.onLeave(),fi=!1,kt(r,s,l.anchorLink,l.sectionIndex),We(l),ni=l.anchorLink,wt(l.anchorLink,l.sectionIndex)))}}function We(t){if(a.css3&&a.autoScrolling&&!a.scrollBar)It("translate3d(0px, -"+n.round(t.dtop)+"px, 0px)",!0),a.scrollingSpeed?(clearTimeout(vi),vi=setTimeout(function(){Qe(t)},a.scrollingSpeed)):Qe(t);else{var i=Be(t);e(i.element).animate(i.options,a.scrollingSpeed,a.easing).promise().done(function(){a.scrollBar?setTimeout(function(){Qe(t)},30):Qe(t)})}}function Be(e){var t={};return a.autoScrolling&&!a.scrollBar?(t.options={top:-e.dtop},t.element=o):(t.options={scrollTop:e.dtop},t.element="html, body"),t}function Fe(t){return t.isMovementUp?e(b).before(t.activeSection.nextAll(y)):e(b).after(t.activeSection.prevAll(y).get().reverse()),Vt(e(b).position().top),De(),t.wrapAroundElements=t.activeSection,t.dtop=t.element.position().top,t.yMovement=St(t.element),t}function Ge(t){t.wrapAroundElements&&t.wrapAroundElements.length&&(t.isMovementUp?e(w).before(t.wrapAroundElements):e(S).after(t.wrapAroundElements),Vt(e(b).position().top),De())}function Qe(t){Ge(t),e.isFunction(a.afterLoad)&&!t.localIsResizing&&a.afterLoad.call(t.element,t.anchorLink,t.sectionIndex+1),a.scrollOverflowHandler.afterLoad(),t.localIsResizing||Ue(t.element),t.element.addClass(m).siblings().removeClass(m),fi=!0,e.isFunction(t.callback)&&t.callback.call(this)}function Ve(e,t){e.attr(t,e.data(t)).removeAttr("data-"+t)}function Ye(t){if(a.lazyLoading){var i;Ze(t).find("img[data-src], img[data-srcset], source[data-src], audio[data-src], iframe[data-src]").each(function(){i=e(this),e.each(["src","srcset"],function(e,t){var n=i.attr("data-"+t);void 0!==n&&n&&Ve(i,t)}),i.is("source")&&i.closest("video").get(0).load()})}}function Ue(t){var i=Ze(t);i.find("video, audio").each(function(){var t=e(this).get(0);t.hasAttribute("data-autoplay")&&"function"==typeof t.play&&t.play()}),i.find('iframe[src*="youtube.com/embed/"]').each(function(){var t=e(this).get(0);t.hasAttribute("data-autoplay")&&Xe(t),t.onload=function(){t.hasAttribute("data-autoplay")&&Xe(t)}})}function Xe(e){e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}function qe(t){var i=Ze(t);i.find("video, audio").each(function(){var t=e(this).get(0);t.hasAttribute("data-keepplaying")||"function"!=typeof t.pause||t.pause()}),i.find('iframe[src*="youtube.com/embed/"]').each(function(){var t=e(this).get(0);/youtube\.com\/embed\//.test(e(this).attr("src"))&&!t.hasAttribute("data-keepplaying")&&e(this).get(0).contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})}function Ze(t){var i=t.find(j);return i.length&&(t=e(i)),t}function Ke(){var e=t.location.hash.replace("#","").split("/"),i=decodeURIComponent(e[0]),n=decodeURIComponent(e[1]);i&&(a.animateAnchor?Lt(i,n):re(i,n))}function Je(){if(!Ci&&!a.lockAnchors){var e=t.location.hash.replace("#","").split("/"),i=decodeURIComponent(e[0]),n=decodeURIComponent(e[1]),s=void 0===ni,r=void 0===ni&&void 0===n&&!ai;i.length&&(i&&i!==ni&&!s||r||!ai&&si!=n)&&Lt(i,n)}}function et(t){clearTimeout(Si);var i=e(":focus");if(!i.is("textarea")&&!i.is("input")&&!i.is("select")&&"true"!==i.attr("contentEditable")&&""!==i.attr("contentEditable")&&a.keyboardScrolling&&a.autoScrolling){var n=t.which,s=[40,38,32,33,34];e.inArray(n,s)>-1&&t.preventDefault(),ri=t.ctrlKey,Si=setTimeout(function(){dt(t)},150)}}function tt(){e(this).prev().trigger("click")}function it(e){pi&&(ri=e.ctrlKey)}function nt(e){2==e.which&&(Oi=e.pageY,ui.on("mousemove",ut))}function st(e){2==e.which&&ui.off("mousemove")}function rt(){var t=e(this).closest(y);e(this).hasClass(B)?mi.m.left&&le(t):mi.m.right&&ae(t)}function ot(){pi=!1,ri=!1}function at(t){t.preventDefault();var i=e(this).parent().index();$e(e(y).eq(i))}function lt(t){t.preventDefault();var i=e(this).closest(y).find(k);ht(i,i.find(L).eq(e(this).closest("li").index()))}function dt(t){var i=t.shiftKey;if(fi||!([37,39].indexOf(t.which)<0))switch(t.which){case 38:case 33:mi.k.up&&ne();break;case 32:if(i&&mi.k.up){ne();break}case 40:case 34:mi.k.down&&se();break;case 36:mi.k.up&&oe(1);break;case 35:mi.k.down&&oe(e(y).length);break;case 37:mi.k.left&&le();break;case 39:mi.k.right&&ae();break;default:return}}function ut(e){fi&&(e.pageY<Oi&&mi.m.up?ne():e.pageY>Oi&&mi.m.down&&se()),Oi=e.pageY}function ht(t,i,n){var s=t.closest(y),r={slides:t,destiny:i,direction:n,destinyPos:i.position(),slideIndex:i.index(),section:s,sectionIndex:s.index(y),anchorLink:s.data("anchor"),slidesNav:s.find(D),slideAnchor:zt(i),prevSlide:s.find(j),prevSlideIndex:s.find(j).index(),localIsResizing:ci};return r.xMovement=xt(r.prevSlideIndex,r.slideIndex),r.localIsResizing||(fi=!1),a.onSlideLeave&&!r.localIsResizing&&"none"!==r.xMovement&&e.isFunction(a.onSlideLeave)&&!1===a.onSlideLeave.call(r.prevSlide,r.anchorLink,r.sectionIndex+1,r.prevSlideIndex,r.xMovement,r.slideIndex)?void(ai=!1):(i.addClass(f).siblings().removeClass(f),r.localIsResizing||(qe(r.prevSlide),Ye(i)),!a.loopHorizontal&&a.controlArrows&&(s.find(Q).toggle(0!==r.slideIndex),s.find(U).toggle(!i.is(":last-child"))),s.hasClass(f)&&!r.localIsResizing&&kt(r.slideIndex,r.slideAnchor,r.anchorLink,r.sectionIndex),void pt(t,r,!0))}function ct(t){ft(t.slidesNav,t.slideIndex),t.localIsResizing||(e.isFunction(a.afterSlideLoad)&&a.afterSlideLoad.call(t.destiny,t.anchorLink,t.sectionIndex+1,t.slideAnchor,t.slideIndex),fi=!0,Ue(t.destiny)),ai=!1}function pt(e,t,i){var s=t.destinyPos;if(a.css3){var r="translate3d(-"+n.round(s.left)+"px, 0px, 0px)";_t(e.find(z)).css(Yt(r)),yi=setTimeout(function(){i&&ct(t)},a.scrollingSpeed,a.easing)}else e.animate({scrollLeft:n.round(s.left)},a.scrollingSpeed,a.easing,function(){i&&ct(t)})}function ft(e,t){e.find(g).removeClass(f),e.find("li").eq(t).find("a").addClass(f)}function gt(){if(mt(),li){var t=e(i.activeElement);if(!t.is("textarea")&&!t.is("input")&&!t.is("select")){var s=X.height();n.abs(s-zi)>20*n.max(zi,s)/100&&(de(!0),zi=s)}}else clearTimeout(_i),_i=setTimeout(function(){de(!0)},350)}function mt(){var e=a.responsive||a.responsiveWidth,t=a.responsiveHeight,i=e&&X.outerWidth()<e,n=t&&X.height()<t;e&&t?ue(i||n):e?ue(i):t&&ue(n)}function _t(e){var t="all "+a.scrollingSpeed+"ms "+a.easingcss3;return e.removeClass(u),e.css({"-webkit-transition":t,transition:t})}function vt(e){return e.addClass(u)}function yt(t,i){a.navigation&&(e(C).find(g).removeClass(f),t?e(C).find('a[href="#'+t+'"]').addClass(f):e(C).find("li").eq(i).find("a").addClass(f))}function bt(t){a.menu&&(e(a.menu).find(g).removeClass(f),e(a.menu).find('[data-menuanchor="'+t+'"]').addClass(f))}function wt(e,t){bt(e),yt(e,t)}function St(t){var i=e(b).index(y),n=t.index(y);return i==n?"none":i>n?"up":"down"}function xt(e,t){return e==t?"none":e>t?"left":"right"}function Et(e){if(!e.hasClass("fp-noscroll")){e.css("overflow","hidden");var t,i=a.scrollOverflowHandler,n=i.wrapContent(),s=e.closest(y),r=i.scrollable(e);r.length?t=i.scrollHeight(e):(t=e.get(0).scrollHeight,a.verticalCentered&&(t=e.find(E).get(0).scrollHeight));var o=hi-parseInt(s.css("padding-bottom"))-parseInt(s.css("padding-top"));t>o?r.length?i.update(e,o):(a.verticalCentered?e.find(E).wrapInner(n):e.wrapInner(n),i.create(e,o)):i.remove(e),e.css("overflow","")}}function Tt(e){e.hasClass(N)||e.addClass(N).wrapInner('<div class="'+x+'" style="height:'+Ct(e)+'px;" />')}function Ct(e){var t=hi;if(a.paddingTop||a.paddingBottom){var i=e;i.hasClass(v)||(i=e.closest(y));var n=parseInt(i.css("padding-top"))+parseInt(i.css("padding-bottom"));t=hi-n}return t}function It(e,t){t?_t(ui):vt(ui),ui.css(Yt(e)),setTimeout(function(){ui.removeClass(u)},10)}function Mt(t){if(!t)return[];var i=ui.find(y+'[data-anchor="'+t+'"]');return i.length||(i=e(y).eq(t-1)),i}function Pt(e,t){var i=t.find(k),n=i.find(L+'[data-anchor="'+e+'"]');return n.length||(n=i.find(L).eq(e)),n}function Lt(e,t){var i=Mt(e);i.length&&(void 0===t&&(t=0),e===ni||i.hasClass(f)?jt(i,t):$e(i,function(){jt(i,t)}))}function jt(e,t){if(void 0!==t){var i=e.find(k),n=Pt(t,e);n.length&&ht(i,n)}}function At(e,t){e.append('<div class="'+H+'"><ul></ul></div>');var i=e.find(D);i.addClass(a.slidesNavPosition);for(var n=0;t>n;n++)i.find("ul").append('<li><a href="#"><span></span></a></li>');i.css("margin-left","-"+i.width()/2+"px"),i.find("li").first().find("a").addClass(f)}function kt(e,t,i,n){var s="";a.anchors.length&&!a.lockAnchors&&(e?(void 0!==i&&(s=i),void 0===t&&(t=e),si=t,Ot(s+"/"+t)):void 0!==e?(si=t,Ot(i)):Ot(i)),Nt()}function Ot(e){if(a.recordHistory)location.hash=e;else if(li||di)t.history.replaceState(s,s,"#"+e);else{var i=t.location.href.split("#")[0];t.location.replace(i+"#"+e)}}function zt(e){var t=e.data("anchor"),i=e.index();return void 0===t&&(t=i),t}function Nt(){var t=e(b),i=t.find(j),n=zt(t),s=zt(i),r=String(n);i.length&&(r=r+"-"+s),r=r.replace("/","-").replace("#","");var o=new RegExp("\\b\\s?"+p+"-[^\\s]+\\b","g");ti[0].className=ti[0].className.replace(o,""),ti.addClass(p+"-"+r)}function Ht(){var e,n=i.createElement("p"),r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};i.body.insertBefore(n,null);for(var o in r)n.style[o]!==s&&(n.style[o]="translate3d(1px,1px,1px)",e=t.getComputedStyle(n).getPropertyValue(r[o]));return i.body.removeChild(n),e!==s&&e.length>0&&"none"!==e}function Dt(){i.addEventListener?(i.removeEventListener("mousewheel",Ne,!1),i.removeEventListener("wheel",Ne,!1),i.removeEventListener("MozMousePixelScroll",Ne,!1)):i.detachEvent("onmousewheel",Ne)}function Rt(){var e,n="";t.addEventListener?e="addEventListener":(e="attachEvent",n="on");var r="onwheel"in i.createElement("div")?"wheel":i.onmousewheel!==s?"mousewheel":"DOMMouseScroll";"DOMMouseScroll"==r?i[e](n+"MozMousePixelScroll",Ne,!1):i[e](n+r,Ne,!1)}function $t(){ui.on("mousedown",nt).on("mouseup",st)}function Wt(){ui.off("mousedown",nt).off("mouseup",st)}function Bt(){(li||di)&&(a.autoScrolling&&ti.off(Ei.touchmove).on(Ei.touchmove,Le),e(o).off(Ei.touchstart).on(Ei.touchstart,Oe).off(Ei.touchmove).on(Ei.touchmove,je))}function Ft(){(li||di)&&e(o).off(Ei.touchstart).off(Ei.touchmove)}function Gt(e){var t=[];return t.y=void 0!==e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x=void 0!==e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,di&&ke(e)&&a.scrollBar&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t}function Qt(e,t){F(0,"internal"),void 0!==t&&(ci=!0),ht(e.closest(k),e),void 0!==t&&(ci=!1),F(Ti.scrollingSpeed,"internal")}function Vt(e){var t=n.round(e);a.css3&&a.autoScrolling&&!a.scrollBar?It("translate3d(0px, -"+t+"px, 0px)",!1):a.autoScrolling&&!a.scrollBar?ui.css("top",-t):ei.scrollTop(t)}function Yt(e){return{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e}}function Ut(e,t,i){switch(t){case"up":mi[i].up=e;break;case"down":mi[i].down=e;break;case"left":mi[i].left=e;break;case"right":mi[i].right=e;break;case"all":"m"==i?te(e):ie(e)}}function Xt(t){l(!1,"internal"),te(!1),ie(!1),ui.addClass(h),clearTimeout(yi),clearTimeout(vi),clearTimeout(_i),clearTimeout(bi),clearTimeout(wi),X.off("scroll",Te).off("hashchange",Je).off("resize",gt),q.off("click touchstart",C+" a").off("mouseenter",C+" li").off("mouseleave",C+" li").off("click touchstart",R).off("mouseover",a.normalScrollElements).off("mouseout",a.normalScrollElements),e(y).off("click touchstart",W),clearTimeout(yi),clearTimeout(vi),t&&qt()}function qt(){Vt(0),ui.find("img[data-src], source[data-src], audio[data-src], iframe[data-src]").each(function(){Ve(e(this),"src")}),ui.find("img[data-srcset]").each(function(){Ve(e(this),"srcset")}),e(C+", "+D+", "+W).remove(),e(y).css({height:"","background-color":"",padding:""}),e(L).css({width:""}),ui.css({height:"",position:"","-ms-touch-action":"","touch-action":""}),ei.css({overflow:"",height:""}),e("html").removeClass(c),ti.removeClass(d),e.each(ti.get(0).className.split(/\s+/),function(e,t){0===t.indexOf(p)&&ti.removeClass(t)}),e(y+", "+L).each(function(){a.scrollOverflowHandler.remove(e(this)),e(this).removeClass(N+" "+f)}),vt(ui),ui.find(E+", "+z+", "+k).each(function(){e(this).replaceWith(this.childNodes)}),ui.css({"-webkit-transition":"none",transition:"none"}),ei.scrollTop(0);var t=[v,P,O];e.each(t,function(t,i){e("."+i).removeClass(i)})}function Zt(e,t,i){a[e]=t,"internal"!==i&&(Ti[e]=t)}function Kt(){var t=["fadingEffect","continuousHorizontal","scrollHorizontally","interlockedSlides","resetSliders","responsiveSlides","offsetSections","dragAndMove","scrollOverflowReset","parallax"];return e("html").hasClass(c)?void Jt("error","Fullpage.js can only be initialized once and you are doing it multiple times!"):(a.continuousVertical&&(a.loopTop||a.loopBottom)&&(a.continuousVertical=!1,Jt("warn","Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),a.scrollBar&&a.scrollOverflow&&Jt("warn","Option `scrollBar` is mutually exclusive with `scrollOverflow`. Sections with scrollOverflow might not work well in Firefox"),!a.continuousVertical||!a.scrollBar&&a.autoScrolling||(a.continuousVertical=!1,Jt("warn","Scroll bars (`scrollBar:true` or `autoScrolling:false`) are mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),e.each(t,function(e,t){a[t]&&Jt("warn","fullpage.js extensions require jquery.fullpage.extensions.min.js file instead of the usual jquery.fullpage.js. Requested: "+t)}),void e.each(a.anchors,function(t,i){var n=q.find("[name]").filter(function(){return e(this).attr("name")&&e(this).attr("name").toLowerCase()==i.toLowerCase()}),s=q.find("[id]").filter(function(){return e(this).attr("id")&&e(this).attr("id").toLowerCase()==i.toLowerCase()});(s.length||n.length)&&(Jt("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE)."),s.length&&Jt("error",'"'+i+'" is is being used by another element `id` property'),n.length&&Jt("error",'"'+i+'" is is being used by another element `name` property'))}))}function Jt(e,t){console&&console[e]&&console[e]("fullPage: "+t)}if(e("html").hasClass(c))return void Kt();var ei=e("html, body"),ti=e("body"),ii=e.fn.fullpage;a=e.extend({menu:!1,anchors:[],lockAnchors:!1,navigation:!1,navigationPosition:"right",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,hybrid:!1,css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,fitToSectionDelay:1e3,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:!1,loopTop:!1,loopHorizontal:!0,continuousVertical:!1,continuousHorizontal:!1,scrollHorizontally:!1,interlockedSlides:!1,dragAndMove:!1,offsetSections:!1,resetSliders:!1,fadingEffect:!1,normalScrollElements:null,scrollOverflow:!1,scrollOverflowReset:!1,scrollOverflowHandler:K,scrollOverflowOptions:null,touchSensitivity:5,normalScrollElementTouchThreshold:5,bigSectionsDestination:null,keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,controlArrows:!0,controlArrowColor:"#fff",verticalCentered:!0,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,responsiveWidth:0,responsiveHeight:0,responsiveSlides:!1,parallax:!1,parallaxOptions:{type:"reveal",percentage:62,property:"translate"},sectionSelector:".section",slideSelector:".slide",afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null,afterResponsive:null,lazyLoading:!0},a);var ni,si,ri,oi,ai=!1,li=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),di="ontouchstart"in t||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,ui=e(this),hi=X.height(),ci=!1,pi=!0,fi=!0,gi=[],mi={};mi.m={up:!0,down:!0,left:!0,right:!0},mi.k=e.extend(!0,{},mi.m);var _i,vi,yi,bi,wi,Si,xi=function(){return t.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}}(),Ei={touchmove:"ontouchmove"in t?"touchmove":xi.move,touchstart:"ontouchstart"in t?"touchstart":xi.down},Ti=e.extend(!0,{},a);Kt(),Z.click=di,Z=e.extend(Z,a.scrollOverflowOptions),e.extend(e.easing,{easeInOutCubic:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i}}),e(this).length&&(ii.setAutoScrolling=l,ii.setRecordHistory=$,ii.setScrollingSpeed=F,ii.setFitToSection=V,ii.setLockAnchors=J,ii.setMouseWheelScrolling=ee,ii.setAllowScrolling=te,ii.setKeyboardScrolling=ie,ii.moveSectionUp=ne,ii.moveSectionDown=se,ii.silentMoveTo=re,ii.moveTo=oe,ii.moveSlideRight=ae,ii.moveSlideLeft=le,ii.fitToSection=Ce,ii.reBuild=de,ii.setResponsive=ue,ii.destroy=Xt,function(){a.css3&&(a.css3=Ht()),a.scrollBar=a.scrollBar||a.hybrid,he(),ce(),te(!0),l(a.autoScrolling,"internal"),mt(),Nt(),"complete"===i.readyState&&Ke(),X.on("load",Ke)}(),function(){X.on("scroll",Te).on("hashchange",Je).blur(ot).resize(gt),q.keydown(et).keyup(it).on("click touchstart",C+" a",at).on("click touchstart",R,lt).on("click",M,tt),e(y).on("click touchstart",W,rt),a.normalScrollElements&&(q.on("mouseenter",a.normalScrollElements,function(){ee(!1)}),q.on("mouseleave",a.normalScrollElements,function(){ee(!0)}))}());var Ci=!1,Ii=0,Mi=0,Pi=0,Li=0,ji=0,Ai=(new Date).getTime(),ki=0,Oi=0,zi=hi},"undefined"!=typeof IScroll&&(IScroll.prototype.wheelOn=function(){this.wrapper.addEventListener("wheel",this),this.wrapper.addEventListener("mousewheel",this),this.wrapper.addEventListener("DOMMouseScroll",this)},IScroll.prototype.wheelOff=function(){this.wrapper.removeEventListener("wheel",this),this.wrapper.removeEventListener("mousewheel",this),this.wrapper.removeEventListener("DOMMouseScroll",this)});var K={refreshId:null,iScrollInstances:[],toggleWheel:function(t){e(b).find(l).each(function(){var i=e(this).data("iscrollInstance");void 0!==i&&i&&(t?i.wheelOn():i.wheelOff())})},onLeave:function(){K.toggleWheel(!1)},beforeLeave:function(){K.onLeave()},afterLoad:function(){K.toggleWheel(!0)},create:function(t,i){var n=t.find(l);n.height(i),n.each(function(){var t=e(this),i=t.data("iscrollInstance");i&&e.each(K.iScrollInstances,function(){e(this).destroy()}),i=new IScroll(t.get(0),Z),K.iScrollInstances.push(i),i.wheelOff(),t.data("iscrollInstance",i)})},isScrolled:function(e,t){var i=t.data("iscrollInstance");return!i||("top"===e?i.y>=0&&!t.scrollTop():"bottom"===e?0-i.y+t.scrollTop()+1+t.innerHeight()>=t[0].scrollHeight:void 0)},scrollable:function(e){return e.find(k).length?e.find(j).find(l):e.find(l)},scrollHeight:function(e){return e.find(l).children().first().get(0).scrollHeight},remove:function(e){
var t=e.find(l);if(t.length){t.data("iscrollInstance").destroy(),t.data("iscrollInstance",null)}e.find(l).children().first().children().first().unwrap().unwrap()},update:function(t,i){clearTimeout(K.refreshId),K.refreshId=setTimeout(function(){e.each(K.iScrollInstances,function(){e(this).get(0).refresh()})},150),t.find(l).css("height",i+"px").parent().css("height",i+"px")},wrapContent:function(){return'<div class="'+a+'"><div class="fp-scroller"></div></div>'}}}),function(){function e(){}function t(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,s=this,r=s.EventEmitter;n.getListeners=function(e){var t,i,n=this._getEvents();if("object"==typeof e){t={};for(i in n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i])}else t=n[e]||(n[e]=[]);return t},n.flattenListeners=function(e){var t,i=[];for(t=0;e.length>t;t+=1)i.push(e[t].listener);return i},n.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&(t={},t[e]=i),t||i},n.addListener=function(e,i){var n,s=this.getListenersAsObject(e),r="object"==typeof i;for(n in s)s.hasOwnProperty(n)&&-1===t(s[n],i)&&s[n].push(r?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,i){var n,s,r=this.getListenersAsObject(e);for(s in r)r.hasOwnProperty(s)&&-1!==(n=t(r[s],i))&&r[s].splice(n,1);return this},n.off=i("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,i){var n,s,r=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)r.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(s=t[n])&&("function"==typeof s?r.call(this,n,s):o.call(this,n,s));return this},n.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if("object"===i)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(e,t){var i,n,s,r=this.getListenersAsObject(e);for(s in r)if(r.hasOwnProperty(s))for(n=r[s].length;n--;)i=r[s][n],!0===i.once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return s.EventEmitter=r,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(t){var i=e.event;return i.target=i.target||i.srcElement||t,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(e,t,i){e.addEventListener(t,i,!1)}:i.attachEvent&&(n=function(e,i,n){e[i+n]=n.handleEvent?function(){var i=t(e);n.handleEvent.call(n,i)}:function(){var i=t(e);n.call(e,i)},e.attachEvent("on"+i,e[i+n])});var s=function(){};i.removeEventListener?s=function(e,t,i){e.removeEventListener(t,i,!1)}:i.detachEvent&&(s=function(e,t,i){e.detachEvent("on"+t,e[t+i]);try{delete e[t+i]}catch(n){e[t+i]=void 0}});var r={bind:n,unbind:s};"function"==typeof define&&define.amd?define("eventie/eventie",r):e.eventie=r}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return t(e,i,n)}):"object"==typeof exports?module.exports=t(e,require("eventEmitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(this,function(e,t,i){function n(e,t){for(var i in t)e[i]=t[i];return e}function s(e){return"[object Array]"===c.call(e)}function r(e){var t=[];if(s(e))t=e;else if("number"==typeof e.length)for(var i=0,n=e.length;n>i;i++)t.push(e[i]);else t.push(e);return t}function o(e,t,i){if(!(this instanceof o))return new o(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=n({},this.options),"function"==typeof t?i=t:n(this.options,t),i&&this.on("always",i),this.getImages(),d&&(this.jqDeferred=new d.Deferred);var s=this;setTimeout(function(){s.check()})}function a(e){this.img=e}function l(e){this.src=e,p[e]=this}var d=e.jQuery,u=e.console,h=void 0!==u,c=Object.prototype.toString;o.prototype=new t,o.prototype.options={},o.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var i=this.elements[e];"IMG"===i.nodeName&&this.addImage(i);for(var n=i.querySelectorAll("img"),s=0,r=n.length;r>s;s++){var o=n[s];this.addImage(o)}}},o.prototype.addImage=function(e){var t=new a(e);this.images.push(t)},o.prototype.check=function(){function e(e,s){return t.options.debug&&h&&u.log("confirm",e,s),t.progress(e),i++,i===n&&t.complete(),!0}var t=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,!n)return void this.complete();for(var s=0;n>s;s++){var r=this.images[s];r.on("confirm",e),r.check()}},o.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var i=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[i](t)}})},d&&(d.fn.imagesLoaded=function(e,t){return new o(this,e,t).jqDeferred.promise(d(this))}),a.prototype=new t,a.prototype.check=function(){var e=p[this.img.src]||new l(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,i){return t.confirm(e.isLoaded,i),!0}),e.check()},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var p={};return l.prototype=new t,l.prototype.check=function(){if(!this.isChecked){var e=new Image;i.bind(e,"load",this),i.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},l.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},l.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},l.prototype.unbindProxyEvents=function(e){i.unbind(e.target,"load",this),i.unbind(e.target,"error",this)},o}),function(e){function t(){}function i(e){function i(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function s(t,i){e.fn[t]=function(s){if("string"==typeof s){for(var o=n.call(arguments,1),a=0,l=this.length;l>a;a++){var d=this[a],u=e.data(d,t);if(u)if(e.isFunction(u[s])&&"_"!==s.charAt(0)){var h=u[s].apply(u,o);if(void 0!==h)return h}else r("no such method '"+s+"' for "+t+" instance");else r("cannot call methods on "+t+" prior to initialization; attempted to call '"+s+"'")}return this}return this.each(function(){var n=e.data(this,t);n?(n.option(s),n._init()):(n=new i(this,s),e.data(this,t,n))})}}if(e){var r="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){i(t),s(e,t)},e.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i(e.jQuery)}(window),function(e){function t(t){var i=e.event;return i.target=i.target||i.srcElement||t,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(e,t,i){e.addEventListener(t,i,!1)}:i.attachEvent&&(n=function(e,i,n){e[i+n]=n.handleEvent?function(){var i=t(e);n.handleEvent.call(n,i)}:function(){var i=t(e);n.call(e,i)},e.attachEvent("on"+i,e[i+n])});var s=function(){};i.removeEventListener?s=function(e,t,i){e.removeEventListener(t,i,!1)}:i.detachEvent&&(s=function(e,t,i){e.detachEvent("on"+t,e[t+i]);try{delete e[t+i]}catch(n){e[t+i]=void 0}});var r={bind:n,unbind:s};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:e.eventie=r}(this),function(e){function t(e){"function"==typeof e&&(t.isReady?e():r.push(e))}function i(e){var i="readystatechange"===e.type&&"complete"!==s.readyState;if(!t.isReady&&!i){t.isReady=!0;for(var n=0,o=r.length;o>n;n++){(0,r[n])()}}}function n(n){return n.bind(s,"DOMContentLoaded",i),n.bind(s,"readystatechange",i),n.bind(e,"load",i),t}var s=e.document,r=[];t.isReady=!1,"function"==typeof define&&define.amd?(t.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],n)):e.docReady=n(e.eventie)}(this),function(){function e(){}function t(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,s=this,r=s.EventEmitter;n.getListeners=function(e){var t,i,n=this._getEvents();if(e instanceof RegExp){t={};for(i in n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i])}else t=n[e]||(n[e]=[]);return t},n.flattenListeners=function(e){var t,i=[];for(t=0;e.length>t;t+=1)i.push(e[t].listener);return i},n.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&(t={},t[e]=i),t||i},n.addListener=function(e,i){var n,s=this.getListenersAsObject(e),r="object"==typeof i;for(n in s)s.hasOwnProperty(n)&&-1===t(s[n],i)&&s[n].push(r?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,i){var n,s,r=this.getListenersAsObject(e);for(s in r)r.hasOwnProperty(s)&&-1!==(n=t(r[s],i))&&r[s].splice(n,1);return this},n.off=i("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,i){var n,s,r=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)r.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(s=t[n])&&("function"==typeof s?r.call(this,n,s):o.call(this,n,s));return this},n.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(e,t){var i,n,s,r=this.getListenersAsObject(e);for(s in r)if(r.hasOwnProperty(s))for(n=r[s].length;n--;)i=r[s][n],!0===i.once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return s.EventEmitter=r,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof n[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,s=0,r=i.length;r>s;s++)if(t=i[s]+e,"string"==typeof n[t])return t}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e);return-1===e.indexOf("%")&&!isNaN(t)&&t}function i(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,i=o.length;i>t;t++){e[o[t]]=0}return e}function n(e){function n(e){if("string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var n=r(e);if("none"===n.display)return i();var s={};s.width=e.offsetWidth,s.height=e.offsetHeight;for(var u=s.isBorderBox=!(!d||!n[d]||"border-box"!==n[d]),h=0,c=o.length;c>h;h++){var p=o[h],f=n[p];f=a(e,f);var g=parseFloat(f);s[p]=isNaN(g)?0:g}var m=s.paddingLeft+s.paddingRight,_=s.paddingTop+s.paddingBottom,v=s.marginLeft+s.marginRight,y=s.marginTop+s.marginBottom,b=s.borderLeftWidth+s.borderRightWidth,w=s.borderTopWidth+s.borderBottomWidth,S=u&&l,x=t(n.width);!1!==x&&(s.width=x+(S?0:m+b));var E=t(n.height);return!1!==E&&(s.height=E+(S?0:_+w)),s.innerWidth=s.width-(m+b),s.innerHeight=s.height-(_+w),s.outerWidth=s.width+v,s.outerHeight=s.height+y,s}}function a(e,t){if(s||-1===t.indexOf("%"))return t;var i=e.style,n=i.left,r=e.runtimeStyle,o=r&&r.left;return o&&(r.left=e.currentStyle.left),i.left=t,t=i.pixelLeft,i.left=n,o&&(r.left=o),t}var l,d=e("boxSizing");return function(){if(d){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[d]="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=r(e);l=200===t(n.width),i.removeChild(e)}}(),n}var s=e.getComputedStyle,r=s?function(e){return s(e,null)}:function(e){return e.currentStyle},o=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("get-style-property")):e.getSize=n(e.getStyleProperty)}(window),function(e,t){function i(e,t){return e[a](t)}function n(e){if(!e.parentNode){document.createDocumentFragment().appendChild(e)}}function s(e,t){n(e);for(var i=e.parentNode.querySelectorAll(t),s=0,r=i.length;r>s;s++)if(i[s]===e)return!0;return!1}function r(e,t){return n(e),i(e,t)}var o,a=function(){if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0,n=e.length;n>i;i++){var s=e[i],r=s+"MatchesSelector";if(t[r])return r}}();if(a){var l=document.createElement("div"),d=i(l,"div");o=d?i:r}else o=s;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return o}):window.matchesSelector=o}(0,Element.prototype),function(e){function t(e,t){for(var i in t)e[i]=t[i];return e}function i(e){for(var t in e)return!1;return null,!0}function n(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function s(e,s,r){function a(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=r("transition"),d=r("transform"),u=l&&d,h=!!r("perspective"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var e={},t=0,i=p.length;i>t;t++){var n=p[t],s=r(n);s&&s!==n&&(e[n]=s)}return e}();t(a.prototype,e.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.getSize=function(){this.size=s(this.element)},a.prototype.css=function(e){var t=this.element.style;for(var i in e){t[f[i]||i]=e[i]}},a.prototype.getPosition=function(){var e=o(this.element),t=this.layout.options,i=t.isOriginLeft,n=t.isOriginTop,s=parseInt(e[i?"left":"right"],10),r=parseInt(e[n?"top":"bottom"],10);s=isNaN(s)?0:s,r=isNaN(r)?0:r;var a=this.layout.size;s-=i?a.paddingLeft:a.paddingRight,r-=n?a.paddingTop:a.paddingBottom,this.position.x=s,this.position.y=r},a.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,i={};t.isOriginLeft?(i.left=this.position.x+e.paddingLeft+"px",i.right=""):(i.right=this.position.x+e.paddingRight+"px",i.left=""),t.isOriginTop?(i.top=this.position.y+e.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+e.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var g=h?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};a.prototype._transitionTo=function(e,t){this.getPosition();var i=this.position.x,n=this.position.y,s=parseInt(e,10),r=parseInt(t,10),o=s===this.position.x&&r===this.position.y;if(this.setPosition(e,t),o&&!this.isTransitioning)return void this.layoutPosition();var a=e-i,l=t-n,d={},u=this.layout.options;a=u.isOriginLeft?a:-a,l=u.isOriginTop?l:-l,d.transform=g(a,l),this.transition({to:d,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},a.prototype.moveTo=u?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},a.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},a.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(e);var t=this._transn;for(var i in e.onTransitionEnd)t.onEnd[i]=e.onTransitionEnd[i];for(i in e.to)t.ingProperties[i]=!0,e.isCleaning&&(t.clean[i]=!0);if(e.from){this.css(e.from);this.element.offsetHeight;null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var m=d&&n(d)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(c,this,!1))},a.prototype.transition=a.prototype[l?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},a.prototype.onotransitionend=function(e){this.ontransitionend(e)};var _={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=_[e.propertyName]||e.propertyName;if(delete t.ingProperties[n],i(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd){t.onEnd[n].call(this),delete t.onEnd[n]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(c,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(e){var t={};for(var i in e)t[i]="";this.css(t)};var v={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(v)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var e=this;this.on("transitionEnd",function(){return e.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var r=document.defaultView,o=r&&r.getComputedStyle?function(e){return r.getComputedStyle(e,null)}:function(e){return e.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],s):(e.Outlayer={},e.Outlayer.Item=s(e.EventEmitter,e.getSize,e.getStyleProperty))}(window),function(e){function t(e,t){for(var i in t)e[i]=t[i];return e}function i(e){return"[object Array]"===h.call(e)}function n(e){var t=[];if(i(e))t=e;else if(e&&"number"==typeof e.length)for(var n=0,s=e.length;s>n;n++)t.push(e[n]);else t.push(e);return t}function s(e,t){var i=p(t,e);-1!==i&&t.splice(i,1)}function r(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()}function o(i,o,h,p,f,g){function m(e,i){if("string"==typeof e&&(e=a.querySelector(e)),!e||!c(e))return void(l&&l.error("Bad "+this.constructor.namespace+" element: "+e));this.element=e,this.options=t({},this.options),this.option(i);var n=++v;this.element.outlayerGUID=n,y[n]=this,this._create(),this.options.isInitLayout&&this.layout()}function _(e,i){e.prototype[i]=t({},m.prototype[i])}var v=0,y={};return m.namespace="outlayer",m.Item=g,m.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},t(m.prototype,h.prototype),m.prototype.option=function(e){t(this.options,e)},m.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),t(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},m.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},m.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),i=this.constructor.Item,n=[],s=0,r=t.length;r>s;s++){var o=t[s],a=new i(o,this);n.push(a)}return n},m.prototype._filterFindItemElements=function(e){e=n(e);for(var t=this.options.itemSelector,i=[],s=0,r=e.length;r>s;s++){var o=e[s];if(c(o))if(t){f(o,t)&&i.push(o);for(var a=o.querySelectorAll(t),l=0,d=a.length;d>l;l++)i.push(a[l])}else i.push(o)}return i},m.prototype.getItemElements=function(){for(var e=[],t=0,i=this.items.length;i>t;t++)e.push(this.items[t].element);return e},m.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},m.prototype._init=m.prototype.layout,m.prototype._resetLayout=function(){this.getSize()},m.prototype.getSize=function(){this.size=p(this.element)},m.prototype._getMeasurement=function(e,t){var i,n=this.options[e];n?("string"==typeof n?i=this.element.querySelector(n):c(n)&&(i=n),this[e]=i?p(i)[t]:n):this[e]=0},m.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},m.prototype._getItemsForLayout=function(e){for(var t=[],i=0,n=e.length;n>i;i++){var s=e[i];s.isIgnored||t.push(s)}return t},m.prototype._layoutItems=function(e,t){function i(){n.emitEvent("layoutComplete",[n,e])}var n=this;if(!e||!e.length)return void i();this._itemsOn(e,"layout",i);for(var s=[],r=0,o=e.length;o>r;r++){var a=e[r],l=this._getItemLayoutPosition(a);l.item=a,l.isInstant=t||a.isLayoutInstant,s.push(l)}this._processLayoutQueue(s)},m.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},m.prototype._processLayoutQueue=function(e){for(var t=0,i=e.length;i>t;t++){var n=e[t];this._positionItem(n.item,n.x,n.y,n.isInstant)}},m.prototype._positionItem=function(e,t,i,n){n?e.goTo(t,i):e.moveTo(t,i)},m.prototype._postLayout=function(){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))},m.prototype._getContainerSize=u,m.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var i=this.size;i.isBorderBox&&(e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},m.prototype._itemsOn=function(e,t,i){function n(){return s++,s===r&&i.call(o),!0}for(var s=0,r=e.length,o=this,a=0,l=e.length;l>a;a++){e[a].on(t,n)}},m.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},m.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},m.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,i=e.length;i>t;t++){var n=e[t];this.ignore(n)}}},m.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,i=e.length;i>t;t++){var n=e[t];s(n,this.stamps),this.unignore(n)}},m.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=n(e)):void 0},m.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var i=this.stamps[e];this._manageStamp(i)}}},m.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},m.prototype._manageStamp=u,m.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),i=this._boundingRect,n=p(e);return{left:t.left-i.left-n.marginLeft,top:t.top-i.top-n.marginTop,right:i.right-t.right-n.marginRight,bottom:i.bottom-t.bottom-n.marginBottom}},m.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},m.prototype.bindResize=function(){this.isResizeBound||(i.bind(e,"resize",this),this.isResizeBound=!0)},m.prototype.unbindResize=function(){i.unbind(e,"resize",this),this.isResizeBound=!1},m.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},m.prototype.resize=function(){var e=p(this.element);this.size&&e&&e.innerWidth===this.size.innerWidth||this.layout()},m.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},m.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},m.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var i=this.items.slice(0);this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i)}},m.prototype.reveal=function(e){var t=e&&e.length;if(t)for(var i=0;t>i;i++){var n=e[i];n.reveal()}},m.prototype.hide=function(e){var t=e&&e.length;if(t)for(var i=0;t>i;i++){var n=e[i];n.hide()}},m.prototype.getItem=function(e){for(var t=0,i=this.items.length;i>t;t++){var n=this.items[t];if(n.element===e)return n}},m.prototype.getItems=function(e){if(e&&e.length){for(var t=[],i=0,n=e.length;n>i;i++){var s=e[i],r=this.getItem(s);r&&t.push(r)}return t}},m.prototype.remove=function(e){e=n(e);var t=this.getItems(e);if(t&&t.length){this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var i=0,r=t.length;r>i;i++){var o=t[i];o.remove(),s(o,this.items)}}},m.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,i=this.items.length;i>t;t++){this.items[t].destroy()}this.unbindResize(),delete this.element.outlayerGUID,d&&d.removeData(this.element,this.constructor.namespace)},m.data=function(e){var t=e&&e.outlayerGUID;return t&&y[t]},m.create=function(e,i){function n(){m.apply(this,arguments)}return Object.create?n.prototype=Object.create(m.prototype):t(n.prototype,m.prototype),n.prototype.constructor=n,_(n,"options"),t(n.prototype.options,i),n.namespace=e,n.data=m.data,n.Item=function(){g.apply(this,arguments)},n.Item.prototype=new g,o(function(){for(var t=r(e),i=a.querySelectorAll(".js-"+t),s="data-"+t+"-options",o=0,u=i.length;u>o;o++){var h,c=i[o],p=c.getAttribute(s);try{h=p&&JSON.parse(p)}catch(e){l&&l.error("Error parsing "+s+" on "+c.nodeName.toLowerCase()+(c.id?"#"+c.id:"")+": "+e);continue}var f=new n(c,h);d&&d.data(c,e,f)}}),d&&d.bridget&&d.bridget(e,n),n},m.Item=g,m}var a=e.document,l=e.console,d=e.jQuery,u=function(){},h=Object.prototype.toString,c="object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},p=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],o):e.Outlayer=o(e.eventie,e.docReady,e.EventEmitter,e.getSize,e.matchesSelector,e.Outlayer.Item)}(window),function(e){function t(e,t){var n=e.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],i=e&&e.element;this.columnWidth=i&&t(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},n.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,i=t(e);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=t&&1>t?"round":"ceil",s=Math[n](e.size.outerWidth/this.columnWidth);s=Math.min(s,this.cols);for(var r=this._getColGroup(s),o=Math.min.apply(Math,r),a=i(r,o),l={x:this.columnWidth*a,y:o},d=o+e.size.outerHeight,u=this.cols+1-r.length,h=0;u>h;h++)this.colYs[a+h]=d;return l},n.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],i=this.cols+1-e,n=0;i>n;n++){var s=this.colYs.slice(n,n+e);t[n]=Math.max.apply(Math,s)}return t},n.prototype._manageStamp=function(e){var i=t(e),n=this._getElementOffset(e),s=this.options.isOriginLeft?n.left:n.right,r=s+i.outerWidth,o=Math.floor(s/this.columnWidth);o=Math.max(0,o);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?n.top:n.bottom)+i.outerHeight,d=o;a>=d;d++)this.colYs[d]=Math.max(l,this.colYs[d])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},n.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},n.prototype.resize=function(){var e=this.containerWidth;this.getContainerWidth(),e!==this.containerWidth&&this.layout()},n}var i=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var i=0,n=e.length;n>i;i++){if(e[i]===t)return i}return-1}
;"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],t):e.Masonry=t(e.Outlayer,e.getSize)}(window),function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function i(e,t){(n(e,t)?r:s)(e,t)}var n,s,r;"classList"in document.documentElement?(n=function(e,t){return e.classList.contains(t)},s=function(e,t){e.classList.add(t)},r=function(e,t){e.classList.remove(t)}):(n=function(e,i){return t(i).test(e.className)},s=function(e,t){n(e,t)||(e.className=e.className+" "+t)},r=function(e,i){e.className=e.className.replace(t(i)," ")});var o={hasClass:n,addClass:s,removeClass:r,toggleClass:i,has:n,add:s,remove:r,toggle:i};"function"==typeof define&&define.amd?define(o):e.classie=o}(window),function(e){"use strict";function t(e,t){e.style.WebkitTransform=t,e.style.msTransform=t,e.style.transform=t}function i(){var t=r.clientWidth,i=e.innerWidth;return t<i?i:t}function n(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function s(e,t){this.el=e,this.options=n({},this.options),n(this.options,t),this._init()}var r=e.document.documentElement,o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},a=o[Modernizr.prefixed("transition")],l={transitions:Modernizr.csstransitions,support3d:Modernizr.csstransforms3d};s.prototype.options={},s.prototype._init=function(){this.grid=this.el.querySelector("section.grid-wrap > ul.grid"),this.gridItems=[].slice.call(this.grid.querySelectorAll("li:not(.grid-sizer)")),this.itemsCount=this.gridItems.length,this.current=-1,this._initMasonry()},s.prototype._initMasonry=function(){var e=this.grid;imagesLoaded(e,function(){new Masonry(e,{itemSelector:"li",columnWidth:e.querySelector(".grid-sizer")})})},s.prototype._initEvents=function(){var t=this;this.gridItems.forEach(function(e,i){e.addEventListener("click",function(){t._openSlideshow(i)})}),this.ctrlPrev.addEventListener("click",function(){t._navigate("prev")}),this.ctrlNext.addEventListener("click",function(){t._navigate("next")}),this.ctrlClose.addEventListener("click",function(){t._closeSlideshow()}),e.addEventListener("resize",function(){t._resizeHandler()}),document.addEventListener("keydown",function(e){if(t.isSlideshowVisible){switch(e.keyCode||e.which){case 37:t._navigate("prev");break;case 39:t._navigate("next");break;case 27:t._closeSlideshow()}}}),e.addEventListener("scroll",function(){t.isSlideshowVisible?e.scrollTo(t.scrollPosition?t.scrollPosition.x:0,t.scrollPosition?t.scrollPosition.y:0):t.scrollPosition={x:e.pageXOffset||r.scrollLeft,y:e.pageYOffset||r.scrollTop}})},s.prototype._openSlideshow=function(e){if(this.isSlideshowVisible=!0,this.current=e,classie.addClass(this.el,"slideshow-open"),this._setViewportItems(),classie.addClass(this.currentItem,"current"),classie.addClass(this.currentItem,"show"),this.prevItem){classie.addClass(this.prevItem,"show");var n=Number(-1*(i()/2+this.prevItem.offsetWidth/2));t(this.prevItem,l.support3d?"translate3d("+n+"px, 0, -150px)":"translate("+n+"px)")}if(this.nextItem){classie.addClass(this.nextItem,"show");var n=Number(i()/2+this.nextItem.offsetWidth/2);t(this.nextItem,l.support3d?"translate3d("+n+"px, 0, -150px)":"translate("+n+"px)")}},s.prototype._navigate=function(e){if(!this.isAnimating){if("next"===e&&this.current===this.itemsCount-1||"prev"===e&&0===this.current)return void this._closeSlideshow();this.isAnimating=!0,this._setViewportItems();var n,s,r,o=this,d=this.currentItem.offsetWidth,u=l.support3d?"translate3d(-"+Number(i()/2+d/2)+"px, 0, -150px)":"translate(-"+Number(i()/2+d/2)+"px)",h=l.support3d?"translate3d("+Number(i()/2+d/2)+"px, 0, -150px)":"translate("+Number(i()/2+d/2)+"px)";"next"===e?(n=l.support3d?"translate3d( -"+Number(2*i()/2+d/2)+"px, 0, -150px )":"translate(-"+Number(2*i()/2+d/2)+"px)",s=l.support3d?"translate3d( "+Number(2*i()/2+d/2)+"px, 0, -150px )":"translate("+Number(2*i()/2+d/2)+"px)"):(n=l.support3d?"translate3d( "+Number(2*i()/2+d/2)+"px, 0, -150px )":"translate("+Number(2*i()/2+d/2)+"px)",s=l.support3d?"translate3d( -"+Number(2*i()/2+d/2)+"px, 0, -150px )":"translate(-"+Number(2*i()/2+d/2)+"px)"),classie.removeClass(o.slideshow,"animatable"),("next"===e&&this.current<this.itemsCount-2||"prev"===e&&this.current>1)&&(r=this.slideshowItems["next"===e?this.current+2:this.current-2],t(r,s),classie.addClass(r,"show"));var c=function(){classie.addClass(o.slideshow,"animatable"),classie.removeClass(o.currentItem,"current");var i="next"===e?o.nextItem:o.prevItem;classie.addClass(i,"current"),t(o.currentItem,"next"===e?u:h),o.nextItem&&t(o.nextItem,"next"===e?"":n),o.prevItem&&t(o.prevItem,"next"===e?n:""),r&&t(r,"next"===e?h:u);var s=function(t){if(l.transitions){if(-1===t.propertyName.indexOf("transform"))return!1;this.removeEventListener(a,s)}o.prevItem&&"next"===e?classie.removeClass(o.prevItem,"show"):o.nextItem&&"prev"===e&&classie.removeClass(o.nextItem,"show"),"next"===e?(o.prevItem=o.currentItem,o.currentItem=o.nextItem,r&&(o.nextItem=r)):(o.nextItem=o.currentItem,o.currentItem=o.prevItem,r&&(o.prevItem=r)),o.current="next"===e?o.current+1:o.current-1,o.isAnimating=!1};l.transitions?o.currentItem.addEventListener(a,s):s()};setTimeout(c,25)}},s.prototype._closeSlideshow=function(e){classie.removeClass(this.el,"slideshow-open"),classie.removeClass(this.slideshow,"animatable");var i=this,n=function(e){if(l.transitions){if("ul"!==e.target.tagName.toLowerCase())return;this.removeEventListener(a,n)}classie.removeClass(i.currentItem,"current"),classie.removeClass(i.currentItem,"show"),i.prevItem&&classie.removeClass(i.prevItem,"show"),i.nextItem&&classie.removeClass(i.nextItem,"show"),i.slideshowItems.forEach(function(e){t(e,"")}),i.isSlideshowVisible=!1};l.transitions?this.el.addEventListener(a,n):n()},s.prototype._setViewportItems=function(){this.currentItem=null,this.prevItem=null,this.nextItem=null,this.current>0&&(this.prevItem=this.slideshowItems[this.current-1]),this.current<this.itemsCount-1&&(this.nextItem=this.slideshowItems[this.current+1]),this.currentItem=this.slideshowItems[this.current]},s.prototype._resizeHandler=function(){function e(){t._resize(),t._resizeTimeout=null}var t=this;this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(e,50)},s.prototype._resize=function(){if(this.isSlideshowVisible){if(this.prevItem){var e=Number(-1*(i()/2+this.prevItem.offsetWidth/2));t(this.prevItem,l.support3d?"translate3d("+e+"px, 0, -150px)":"translate("+e+"px)")}if(this.nextItem){var e=Number(i()/2+this.nextItem.offsetWidth/2);t(this.nextItem,l.support3d?"translate3d("+e+"px, 0, -150px)":"translate("+e+"px)")}}},e.CBPGridGallery=s}(window),window.averta={},function($){function getVendorPrefix(){if("result"in arguments.callee)return arguments.callee.result;var e=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,t=document.getElementsByTagName("script")[0];for(var i in t.style)if(e.test(i))return arguments.callee.result=i.match(e)[0];return arguments.callee.result="WebkitOpacity"in t.style?"Webkit":"KhtmlOpacity"in t.style?"Khtml":""}function checkStyleValue(e){var t=document.body||document.documentElement,i=t.style,n=e;if("string"==typeof i[n])return!0;v=["Moz","Webkit","Khtml","O","ms"],n=n.charAt(0).toUpperCase()+n.substr(1);for(var s=0;s<v.length;s++)if("string"==typeof i[v[s]+n])return!0;return!1}function supportsTransitions(){return checkStyleValue("transition")}function supportsTransforms(){return checkStyleValue("transform")}function supports3DTransforms(){if(!supportsTransforms())return!1;var e,t=document.createElement("i"),i={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform",transform:"transform"};t.style.display="block",document.body.insertBefore(t,null);for(var n in i)void 0!==t.style[n]&&(t.style[n]="translate3d(1px,1px,1px)",e=window.getComputedStyle(t).getPropertyValue(i[n]));return document.body.removeChild(t),null!=e&&e.length>0&&"none"!==e}window.package=function(e){window[e]||(window[e]={})};var extend=function(e,t){for(var i in t)e[i]=t[i]};Function.prototype.extend=function(e){"function"==typeof e.prototype.constructor?(extend(this.prototype,e.prototype),this.prototype.constructor=this):(this.prototype.extend(e),this.prototype.constructor=this)};var trans={Moz:"-moz-",Webkit:"-webkit-",Khtml:"-khtml-",O:"-o-",ms:"-ms-",Icab:"-icab-"};window._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),window._touch="ontouchstart"in document,$(document).ready(function(){window._jcsspfx=getVendorPrefix(),window._csspfx=trans[window._jcsspfx],window._cssanim=supportsTransitions(),window._css3d=supports3DTransforms(),window._css2d=supportsTransforms()}),window.parseQueryString=function(e){var t={};return e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,i,n,s){t[i]=s}),t};var fps60=50/3;if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,50/3)}}()),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},e.currentStyle}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for(0>(i=0>i?Math.ceil(i):Math.floor(i))&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1}),window.isMSIE=function(version){if(!$.browser.msie)return!1;if(!version)return!0;var ieVer=$.browser.version.slice(0,$.browser.version.indexOf("."));return"string"==typeof version?eval(-1!==version.indexOf("<")||-1!==version.indexOf(">")?ieVer+version:version+"=="+ieVer):version==ieVer},$.removeDataAttrs=function(e,t){var i,n,s=[],r=e[0].attributes,o=r.length;for(t=t||[],i=0;o>i;i++)n=r[i].name,"data-"===n.substring(0,5)&&-1===t.indexOf(n)&&s.push(r[i].name);$.each(s,function(t,i){e.removeAttr(i)})},jQuery){$.jqLoadFix=function(){if(this.complete){var e=this;setTimeout(function(){$(e).trigger("load")},1)}},jQuery.uaMatch=jQuery.uaMatch||function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0);var isIE11=!!navigator.userAgent.match(/Trident\/7\./);isIE11&&(browser.msie="true",delete browser.mozilla),jQuery.browser=browser,$.fn.preloadImg=function(e,t){return this.each(function(){var i=$(this),n=this,s=new Image;s.onload=function(r){null==r&&(r={}),i.attr("src",e),r.width=s.width,r.height=s.height,i.data("width",s.width),i.data("height",s.height),setTimeout(function(){t.call(n,r)},50),s=null},s.src=e}),this}}}(jQuery),function(){"use strict";averta.EventDispatcher=function(){this.listeners={}},averta.EventDispatcher.extend=function(e){var t=new averta.EventDispatcher;for(var i in t)"constructor"!=i&&(e[i]=averta.EventDispatcher.prototype[i])},averta.EventDispatcher.prototype={constructor:averta.EventDispatcher,addEventListener:function(e,t,i){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({listener:t,ref:i})},removeEventListener:function(e,t,i){if(this.listeners[e]){for(var n=0;n<this.listeners[e].length;++n)t===this.listeners[e][n].listener&&i===this.listeners[e][n].ref&&this.listeners[e].splice(n--,1);0===this.listeners[e].length&&(this.listeners[e]=null)}},dispatchEvent:function(e){if(e.target=this,this.listeners[e.type])for(var t=0,i=this.listeners[e.type].length;i>t;++t)this.listeners[e.type][t].listener.call(this.listeners[e.type][t].ref,e)}}}(),function(e){"use strict";var t="ontouchstart"in document,i=window.navigator.pointerEnabled,n=!i&&window.navigator.msPointerEnabled,s=i||n,r=(i?"pointerdown ":"")+(n?"MSPointerDown ":"")+(t?"touchstart ":"")+"mousedown",o=(i?"pointermove ":"")+(n?"MSPointerMove ":"")+(t?"touchmove ":"")+"mousemove",a=(i?"pointerup ":"")+(n?"MSPointerUp ":"")+(t?"touchend ":"")+"mouseup",l=(i?"pointercancel ":"")+(n?"MSPointerCancel ":"")+"touchcancel";averta.TouchSwipe=function(e){this.$element=e,this.enabled=!0,e.bind(r,{target:this},this.__touchStart),e[0].swipe=this,this.onSwipe=null,this.swipeType="horizontal",this.noSwipeSelector="input, textarea, button, .no-swipe, .ms-no-swipe",this.lastStatus={}};var d=averta.TouchSwipe.prototype;d.getDirection=function(e,t){switch(this.swipeType){case"horizontal":return e<=this.start_x?"left":"right";case"vertical":return t<=this.start_y?"up":"down";case"all":return Math.abs(e-this.start_x)>Math.abs(t-this.start_y)?e<=this.start_x?"left":"right":t<=this.start_y?"up":"down"}},d.priventDefultEvent=function(e,t){var i=Math.abs(e-this.start_x),n=Math.abs(t-this.start_y),s=i>n;return"horizontal"===this.swipeType&&s||"vertical"===this.swipeType&&!s},d.createStatusObject=function(e){var t,i,n={};return t=this.lastStatus.distanceX||0,i=this.lastStatus.distanceY||0,n.distanceX=e.pageX-this.start_x,n.distanceY=e.pageY-this.start_y,n.moveX=n.distanceX-t,n.moveY=n.distanceY-i,n.distance=parseInt(Math.sqrt(Math.pow(n.distanceX,2)+Math.pow(n.distanceY,2))),n.duration=(new Date).getTime()-this.start_time,n.direction=this.getDirection(e.pageX,e.pageY),n},d.__reset=function(e,t){this.reset=!1,this.lastStatus={},this.start_time=(new Date).getTime();var i=this.__getPoint(e,t);this.start_x=i.pageX,this.start_y=i.pageY},d.__touchStart=function(i){var n=i.data.target,r=i;if(n.enabled&&!(e(i.target).closest(n.noSwipeSelector,n.$element).length>0)){if(i=i.originalEvent,s&&e(this).css("-ms-touch-action","horizontal"===n.swipeType?"pan-y":"pan-x"),!n.onSwipe)return void e.error("Swipe listener is undefined");if(!(n.touchStarted||t&&n.start_time&&"mousedown"===i.type&&(new Date).getTime()-n.start_time<600)){var d=n.__getPoint(i,r);n.start_x=d.pageX,n.start_y=d.pageY,n.start_time=(new Date).getTime(),e(document).bind(a,{target:n},n.__touchEnd).bind(o,{target:n},n.__touchMove).bind(l,{target:n},n.__touchCancel);var u=n.createStatusObject(d);u.phase="start",n.onSwipe.call(null,u),t||r.preventDefault(),n.lastStatus=u,n.touchStarted=!0}}},d.__touchMove=function(e){var t=e.data.target,i=e;if(e=e.originalEvent,t.touchStarted){clearTimeout(t.timo),t.timo=setTimeout(function(){t.__reset(e,i)},60);var n=t.__getPoint(e,i),s=t.createStatusObject(n);t.priventDefultEvent(n.pageX,n.pageY)&&i.preventDefault(),s.phase="move",t.lastStatus=s,t.onSwipe.call(null,s)}},d.__touchEnd=function(i){var n=i.data.target,s=i;i=i.originalEvent,clearTimeout(n.timo);var r=n.lastStatus;t||s.preventDefault(),r.phase="end",n.touchStarted=!1,n.priventEvt=null,e(document).unbind(a,n.__touchEnd).unbind(o,n.__touchMove).unbind(l,n.__touchCancel),r.speed=r.distance/r.duration,n.onSwipe.call(null,r)},d.__touchCancel=function(e){e.data.target.__touchEnd(e)},d.__getPoint=function(e,i){return t&&-1===e.type.indexOf("mouse")?e.touches[0]:s?e:i},d.enable=function(){this.enabled||(this.enabled=!0)},d.disable=function(){this.enabled&&(this.enabled=!1)}}(jQuery),function(){"use strict";averta.Ticker=function(){};var e=averta.Ticker,t=[],i=0,n=!0;e.add=function(n,s){return t.push([n,s]),1===t.length&&e.start(),i=t.length},e.remove=function(n,s){for(var r=0,o=t.length;o>r;++r)t[r]&&t[r][0]===n&&t[r][1]===s&&t.splice(r,1);0===(i=t.length)&&e.stop()},e.start=function(){n&&(n=!1,s())},e.stop=function(){n=!0};var s=function(){if(!e.__stopped){for(var n,r=0;r!==i;r++)n=t[r],n[0].call(n[1]);requestAnimationFrame(s)}}}(),function(){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),averta.Timer=function(e,t){this.delay=e,this.currentCount=0,this.paused=!1,this.onTimer=null,this.refrence=null,t&&this.start()},averta.Timer.prototype={constructor:averta.Timer,start:function(){this.paused=!1,this.lastTime=Date.now(),averta.Ticker.add(this.update,this)},stop:function(){this.paused=!0,averta.Ticker.remove(this.update,this)},reset:function(){this.currentCount=0,this.paused=!0,this.lastTime=Date.now()},update:function(){this.paused||Date.now()-this.lastTime<this.delay||(this.currentCount++,this.lastTime=Date.now(),this.onTimer&&this.onTimer.call(this.refrence,this.getTime()))},getTime:function(){return this.delay*this.currentCount}}}(),function(){"use strict";window.CSSTween=function(e,t,i,n){this.$element=e,this.duration=t||1e3,this.delay=i||0,this.ease=n||"linear"};var e=CSSTween.prototype;e.to=function(e,t){return this.to_cb=e,this.to_cb_target=t,this},e.from=function(e,t){return this.fr_cb=e,this.fr_cb_target=t,this},e.onComplete=function(e,t){return this.oc_fb=e,this.oc_fb_target=t,this},e.chain=function(e){return this.chained_tween=e,this},e.reset=function(){clearTimeout(this.start_to),clearTimeout(this.end_to)},e.start=function(){var e=this.$element[0];clearTimeout(this.start_to),clearTimeout(this.end_to),this.fresh=!0,this.fr_cb&&(e.style[window._jcsspfx+"TransitionDuration"]="0ms",this.fr_cb.call(this.fr_cb_target));var t=this;return this.onTransComplete=function(){t.fresh&&(t.reset(),e.style[window._jcsspfx+"TransitionDuration"]="",e.style[window._jcsspfx+"TransitionProperty"]="",e.style[window._jcsspfx+"TransitionTimingFunction"]="",e.style[window._jcsspfx+"TransitionDelay"]="",t.fresh=!1,t.chained_tween&&t.chained_tween.start(),t.oc_fb&&t.oc_fb.call(t.oc_fb_target))},this.start_to=setTimeout(function(){t.$element&&(e.style[window._jcsspfx+"TransitionDuration"]=t.duration+"ms",e.style[window._jcsspfx+"TransitionProperty"]=t.transProperty||"all",e.style[window._jcsspfx+"TransitionDelay"]=t.delay>0?t.delay+"ms":"",e.style[window._jcsspfx+"TransitionTimingFunction"]=t.ease,t.to_cb&&t.to_cb.call(t.to_cb_target),t.end_to=setTimeout(function(){t.onTransComplete()},t.duration+(t.delay||0)))},1),this}}(),function(){"use strict";function e(e,i){if(void 0!==i.x||void 0!==i.y)if(t){var n=window._jcsspfx+"Transform";void 0!==i.x&&(i[n]=(i[n]||"")+" translateX("+i.x+"px)",delete i.x),void 0!==i.y&&(i[n]=(i[n]||"")+" translateY("+i.y+"px)",delete i.y)}else{if(void 0!==i.x){var s="auto"!==e.css("right")?"right":"left";i[s]=i.x+"px",delete i.x}if(void 0!==i.y){var r="auto"!==e.css("bottom")?"bottom":"top";i[r]=i.y+"px",delete i.y}}return i}var t=null;window.CTween={},CTween.setPos=function(t,i){t.css(e(t,i))},CTween.animate=function(i,n,s,r){if(null==t&&(t=window._cssanim),r=r||{},e(i,s),t){var o=new CSSTween(i,n,r.delay,EaseDic[r.ease]);return r.transProperty&&(o.transProperty=r.transProperty),o.to(function(){i.css(s)}),r.complete&&o.onComplete(r.complete,r.target),o.start(),o.stop=o.reset,o}var a;return r.delay&&i.delay(r.delay),r.complete&&(a=function(){r.complete.call(r.target)}),i.stop(!0).animate(s,n,r.ease||"linear",a),i},CTween.fadeOut=function(e,t,i){var n={};!0===i?n.complete=function(){e.remove()}:2===i&&(n.complete=function(){e.css("display","none")}),CTween.animate(e,t||1e3,{opacity:0},n)},CTween.fadeIn=function(e,t,i){!1!==i&&e.css("opacity",0).css("display",""),CTween.animate(e,t||1e3,{opacity:1})}}(),function(){window.EaseDic={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"}}(),function(){"use strict";window.MSAligner=function(e,t,i){this.$container=t,this.$img=i,this.type=e||"stretch",this.widthOnly=!1,this.heightOnly=!1};var e=MSAligner.prototype;e.init=function(e,t){switch(this.baseWidth=e,this.baseHeight=t,this.imgRatio=e/t,this.imgRatio2=t/e,this.type){case"tile":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$img.remove();break;case"center":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$container.css({backgroundPosition:"center center",backgroundRepeat:"no-repeat"}),this.$img.remove();break;case"stretch":this.$img.css({width:"100%",height:"100%"});break;case"fill":case"fit":this.needAlign=!0,this.align()}},e.align=function(){if(this.needAlign){var e=this.$container[0].offsetWidth,t=this.$container[0].offsetHeight,i=e/t;"fill"==this.type?this.imgRatio<i?(this.$img.width(e),this.$img.height(e*this.imgRatio2)):(this.$img.height(t),this.$img.width(t*this.imgRatio)):"fit"==this.type&&(this.imgRatio<i?(this.$img.height(t),this.$img.width(t*this.imgRatio)):(this.$img.width(e),this.$img.height(e*this.imgRatio2))),this.setMargin()}},e.setMargin=function(){var e=this.$container[0].offsetWidth,t=this.$container[0].offsetHeight;this.$img.css("margin-top",(t-this.$img[0].offsetHeight)/2+"px"),this.$img.css("margin-left",(e-this.$img[0].offsetWidth)/2+"px")}}(),function(e){var t=function(i){this.options=e.extend({},t.defaultOptions,i),this.isEnabled=!1,(this.options.forcePolyfill||!this.supportsPointerEvents())&&(this.registerEvents(),this.isEnabled=!0)};t.defaultOptions={forcePolyfill:!1,selector:"*",listenOn:["click","dblclick","mousedown","mouseup"],pointerEventsNoneClass:null,pointerEventsAllClass:null,eventNamespace:"pointer-events-polyfill"},t.prototype.registerEvents=function(){e(document).on(this.getEventNames(),this.options.selector,e.proxy(this.onElementClick,this))},t.prototype.getEventNames=function(){var e=this.options.eventNamespace?"."+this.options.eventNamespace:"";return this.options.listenOn.join(e+" ")+e},t.prototype.supportsPointerEvents=function(){var e=document.createElement("a").style;return e.cssText="pointer-events:auto","auto"===e.pointerEvents},t.prototype.isClickThrough=function(e){var t=e.css("pointer-events");return 0!==e.length&&"all"!==t&&!e.is(":root")&&!e.hasClass(this.options.pointerEventsAllClass)&&!("none"!==t&&!e.hasClass(this.options.pointerEventsNoneClass)&&!this.isClickThrough(e.parent()))},t.prototype.onElementClick=function(t){var i=e(t.target);if(!this.isClickThrough(i))return!0;i.hide();var n=document.elementFromPoint(t.clientX,t.clientY);return t.target=n,e(n).trigger(t),"A"===n.tagName&&(2===t.which?window.open(n.getAttribute("href"),"_blank"):n.click()),i.show(),!1},t.prototype.destroy=function(){e(document).off(this.getEventNames()),this.isEnabled=!1},window.pointerEventsPolyfill=function(e){return new t(e)}}(jQuery),function(){"use strict";var e={bouncing:!0,snapping:!1,snapsize:null,friction:.05,outFriction:.05,outAcceleration:.09,minValidDist:.3,snappingMinSpeed:2,paging:!1,endless:!1,maxSpeed:160},t=function(t,i,n){if(null===i||null===t)throw new Error("Max and Min values are required.");this.options=n||{};for(var s in e)s in this.options||(this.options[s]=e[s]);this._max_value=i,this._min_value=t,this.value=t,this.end_loc=t,this.current_snap=this.getSnapNum(t),this.__extrStep=0,this.__extraMove=0,this.__animID=-1},i=t.prototype;i.changeTo=function(e,t,i,n,s){if(this.stopped=!1,this._internalStop(),e=this._checkLimits(e),i=Math.abs(i||0),this.options.snapping&&(n=n||this.getSnapNum(e),!1!==s&&this._callsnapChange(n),this.current_snap=n),t){this.animating=!0;var r=this,o=++r.__animID,a=e-r.value,l=0,d=e,u=1-r.options.friction,h=u+(i-20)*u*1.3/r.options.maxSpeed,c=function(){if(o===r.__animID){var t=e-r.value;if(!(Math.abs(t)>r.options.minValidDist&&r.animating))return r.animating&&(r.value=e,r._callrenderer()),r.animating=!1,o!==r.__animID&&(r.__animID=-1),void r._callonComplete("anim");window.requestAnimationFrame(c),r.value=d-a*Math.exp(-++l*h),r._callrenderer()}};return void c()}this.value=e,this._callrenderer()},i.drag=function(e){this.start_drag&&(this.drag_start_loc=this.value,this.start_drag=!1),this.animating=!1,this._deceleration=!1,this.value-=e,!this.options.endless&&(this.value>this._max_value||this.value<0)?this.options.bouncing?(this.__isout=!0,this.value+=.6*e):this.value=this.value>this._max_value?this._max_value:0:!this.options.endless&&this.options.bouncing&&(this.__isout=!1),this._callrenderer()},i.push=function(e){if(this.stopped=!1,this.options.snapping&&Math.abs(e)<=this.options.snappingMinSpeed)return void this.cancel();if(this.__speed=e,this.__startSpeed=e,this.end_loc=this._calculateEnd(),this.options.snapping){var t=this.getSnapNum(this.value),i=this.getSnapNum(this.end_loc);if(this.options.paging)return t=this.getSnapNum(this.drag_start_loc),this.__isout=!1,void(e>0?this.gotoSnap(t+1,!0,e):this.gotoSnap(t-1,!0,e));if(t===i)return void this.cancel();this._callsnapChange(i),this.current_snap=i}this.animating=!1,this.__needsSnap=this.options.endless||this.end_loc>this._min_value&&this.end_loc<this._max_value,this.options.snapping&&this.__needsSnap&&(this.__extraMove=this._calculateExtraMove(this.end_loc)),this._startDecelaration()},i.bounce=function(e){this.animating||(this.stopped=!1,this.animating=!1,this.__speed=e,this.__startSpeed=e,this.end_loc=this._calculateEnd(),this._startDecelaration())},i.stop=function(){this.stopped=!0,this._internalStop()},i.cancel=function(){this.start_drag=!0,this.__isout?(this.__speed=4e-4,this._startDecelaration()):this.options.snapping&&this.gotoSnap(this.getSnapNum(this.value),!0)},i.renderCallback=function(e,t){this.__renderHook={fun:e,ref:t}},i.snappingCallback=function(e,t){this.__snapHook={fun:e,ref:t}},i.snapCompleteCallback=function(e,t){this.__compHook={fun:e,ref:t}},i.getSnapNum=function(e){return Math.floor((e+this.options.snapsize/2)/this.options.snapsize)},i.nextSnap=function(){this._internalStop();var e=this.getSnapNum(this.value);!this.options.endless&&(e+1)*this.options.snapsize>this._max_value?(this.__speed=8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(e+1,!0)},i.prevSnap=function(){this._internalStop();var e=this.getSnapNum(this.value);!this.options.endless&&(e-1)*this.options.snapsize<this._min_value?(this.__speed=-8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(e-1,!0)},i.gotoSnap=function(e,t,i){this.changeTo(e*this.options.snapsize,t,i,e)},i.destroy=function(){this._internalStop(),this.__renderHook=null,this.__snapHook=null,this.__compHook=null},i._internalStop=function(){this.start_drag=!0,this.animating=!1,this._deceleration=!1,this.__extrStep=0},i._calculateExtraMove=function(e){var t=e%this.options.snapsize;return t<this.options.snapsize/2?-t:this.options.snapsize-t},i._calculateEnd=function(e){for(var t=this.__speed,i=this.value,n=0;Math.abs(t)>this.options.minValidDist;)i+=t,t*=this.options.friction,n++;return e?n:i},i._checkLimits=function(e){return this.options.endless?e:e<this._min_value?this._min_value:e>this._max_value?this._max_value:e},i._callrenderer=function(){this.__renderHook&&this.__renderHook.fun.call(this.__renderHook.ref,this,this.value)},i._callsnapChange=function(e){this.__snapHook&&e!==this.current_snap&&this.__snapHook.fun.call(this.__snapHook.ref,this,e,e-this.current_snap)},i._callonComplete=function(e){this.__compHook&&!this.stopped&&this.__compHook.fun.call(this.__compHook.ref,this,this.current_snap,e)},i._computeDeceleration=function(){if(this.options.snapping&&this.__needsSnap){var e=(this.__startSpeed-this.__speed)/this.__startSpeed*this.__extraMove;this.value+=this.__speed+e-this.__extrStep,this.__extrStep=e}else this.value+=this.__speed;if(this.__speed*=this.options.friction,this.options.endless||this.options.bouncing||(this.value<=this._min_value?(this.value=this._min_value,this.__speed=0):this.value>=this._max_value&&(this.value=this._max_value,this.__speed=0)),this._callrenderer(),!this.options.endless&&this.options.bouncing){var t=0;this.value<this._min_value?t=this._min_value-this.value:this.value>this._max_value&&(t=this._max_value-this.value),this.__isout=Math.abs(t)>=this.options.minValidDist,this.__isout&&(this.__speed*t<=0?this.__speed+=t*this.options.outFriction:this.__speed=t*this.options.outAcceleration)}},i._startDecelaration=function(){if(!this._deceleration){this._deceleration=!0;var e=this,t=function(){e._deceleration&&(e._computeDeceleration(),Math.abs(e.__speed)>e.options.minValidDist||e.__isout?window.requestAnimationFrame(t):(e._deceleration=!1,e.__isout=!1,e.value=e.__needsSnap&&e.options.snapping&&!e.options.paging?e._checkLimits(e.end_loc+e.__extraMove):Math.round(e.value),e._callrenderer(),e._callonComplete("decel")))};t()}},window.Controller=t}(),function(e,t,i){e.MSLayerController=function(e){this.slide=e,this.slider=e.slider,this.layers=[],this.layersCount=0,this.preloadCount=0,this.$layers=i("<div></div>").addClass("ms-slide-layers"),this.$staticLayers=i("<div></div>").addClass("ms-static-layers"),this.$fixedLayers=i("<div></div>").addClass("ms-fixed-layers"),this.$animLayers=i("<div></div>").addClass("ms-anim-layers")};var n=MSLayerController.prototype;n.addLayer=function(e){switch(e.slide=this.slide,e.controller=this,e.$element.data("position")){case"static":this.hasStaticLayer=!0,e.$element.appendTo(this.$staticLayers);break;case"fixed":this.hasFixedLayer=!0,e.$element.appendTo(this.$fixedLayers);break;default:e.$element.appendTo(this.$animLayers)}e.create(),this.layers.push(e),this.layersCount++,e.parallax&&(this.hasParallaxLayer=!0),e.needPreload&&this.preloadCount++},n.create=function(){this.slide.$element.append(this.$layers),this.$layers.append(this.$animLayers),this.hasStaticLayer&&this.$layers.append(this.$staticLayers),"center"==this.slider.options.layersMode&&(this.$layers.css("max-width",this.slider.options.width+"px"),this.hasFixedLayer&&this.$fixedLayers.css("max-width",this.slider.options.width+"px"))},n.loadLayers=function(e){if(this._onReadyCallback=e,0===this.preloadCount)return void this._onlayersReady();for(var t=0;t!==this.layersCount;++t)this.layers[t].needPreload&&this.layers[t].loadImage()},n.prepareToShow=function(){this.hasParallaxLayer&&this._enableParallaxEffect(),this.hasFixedLayer&&this.$fixedLayers.prependTo(this.slide.view.$element)},n.showLayers=function(){this.layersHideTween&&this.layersHideTween.stop(!0),this.fixedLayersHideTween&&this.fixedLayersHideTween.stop(!0),this._resetLayers(),this.$animLayers.css("opacity","").css("display",""),this.hasFixedLayer&&this.$fixedLayers.css("opacity","").css("display",""),this.ready&&(this._initLayers(),this._locateLayers(),this._startLayers())},n.hideLayers=function(){if(this.slide.selected||this.slider.options.instantStartLayers){var e=this;e.layersHideTween=CTween.animate(this.$animLayers,500,{opacity:0},{complete:function(){e._resetLayers()}}),this.hasFixedLayer&&(this.fixedLayersHideTween=CTween.animate(this.$fixedLayers,500,{opacity:0},{complete:function(){e.$fixedLayers.detach()}})),this.hasParallaxLayer&&this._disableParallaxEffect()}},n.animHideLayers=function(){if(this.ready)for(var e=0;e!==this.layersCount;++e)this.layers[e].hide()},n.setSize=function(e,t,i){
if(this.ready&&(this.slide.selected||this.hasStaticLayer)&&(i&&this._initLayers(!0),this._locateLayers(!this.slide.selected)),this.slider.options.autoHeight&&this.updateHeight(),"center"==this.slider.options.layersMode){var n=Math.max(0,(e-this.slider.options.width)/2)+"px";this.$layers[0].style.left=n,this.$fixedLayers[0].style.left=n}},n.updateHeight=function(){},n._onlayersReady=function(){this.ready=!0,this.hasStaticLayer&&!this.slide.isSleeping&&this._initLayers(!1,!0),this._onReadyCallback.call(this.slide)},n.onSlideSleep=function(){},n.onSlideWakeup=function(){this.hasStaticLayer&&this.ready&&this._initLayers(!1,!0)},n.getLayerById=function(e){if(!e)return null;for(var t=0;t<this.layersCount;++t)if(this.layers[t].id===e)return this.layers[t];return null},n.destroy=function(){this.slide.selected&&this.hasParallaxLayer&&this._disableParallaxEffect();for(var e=0;e<this.layersCount;++e)this.layers[e].$element.stop(!0).remove();this.$layers.remove(),this.$staticLayers.remove(),this.$fixedLayers.remove(),this.$animLayers.remove()},n._startLayers=function(){for(var e=0;e!==this.layersCount;++e){var t=this.layers[e];t.waitForAction||t.start()}},n._initLayers=function(e,t){if(!(this.init&&!e||this.slider.init_safemode)){this.init=!0!==t;var i=0;if(t&&!this.staticsInit)for(this.staticsInit=!0;i!==this.layersCount;++i)this.layers[i].staticLayer&&this.layers[i].init();else if(this.staticsInit&&!e)for(;i!==this.layersCount;++i)this.layers[i].staticLayer||this.layers[i].init();else for(;i!==this.layersCount;++i)this.layers[i].init()}},n._locateLayers=function(e){var t=0;if(e)for(;t!==this.layersCount;++t)this.layers[t].staticLayer&&this.layers[t].locate();else for(;t!==this.layersCount;++t)this.layers[t].locate()},n._resetLayers=function(){this.$animLayers.css("display","none").css("opacity",1);for(var e=0;e!==this.layersCount;++e)this.layers[e].reset()},n._applyParallax=function(e,t,i){for(var n=0;n!==this.layersCount;++n)null!=this.layers[n].parallax&&this.layers[n].moveParallax(e,t,i)},n._enableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.addEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.on("mousemove",{that:this},this._mouseParallaxMove).on("mouseleave",{that:this},this._resetParalax)},n._disableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.removeEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.off("mousemove",this._mouseParallaxMove).off("mouseleave",this._resetParalax)},n._resetParalax=function(e){e.data.that._applyParallax(0,0)},n._mouseParallaxMove=function(e){var t=e.data.that,i=t.slide.$element.offset(),n=t.slider;if("mouse:y-only"!==n.options.parallaxMode)var s=e.pageX-i.left-t.slide.__width/2;else var s=0;if("mouse:x-only"!==n.options.parallaxMode)var r=e.pageY-i.top-t.slide.__height/2;else var r=0;t._applyParallax(-s,-r)},n._swipeParallaxMove=function(){var e=this.slide.position-this.slide.view.__contPos;"v"===this.slider.options.dir?this._applyParallax(0,e,!0):this._applyParallax(e,0,!0)}}(window,document,jQuery),function(e,t){"use strict";t.MSOverlayLayerController=function(){MSLayerController.apply(this,arguments)},MSOverlayLayerController.extend(MSLayerController);var i=MSOverlayLayerController.prototype,n=MSLayerController.prototype;i.addLayer=function(e){var t=e.$element.data("show-on"),i=e.$element.data("hide-on");i&&(e.hideOnSlides=i.replace(/\s+/g,"").split(",")),t&&(e.showOnSlides=t.replace(/\s+/g,"").split(",")),n.addLayer.apply(this,arguments)},i.create=function(){n.create.apply(this,arguments),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.checkLayers.bind(this))},i.checkLayers=function(){if(this.ready)for(var e=0;e!==this.layersCount;++e){var t=this.layers[e];t.waitForAction||(this._checkForShow(t)?t.start():t.hide())}},i._enableParallaxEffect=function(){this.slider.view.$element.on("mousemove",{that:this},this._mouseParallaxMove).on("mouseleave",{that:this},this._resetParalax)},i._disableParallaxEffect=function(){this.slider.view.$element.off("mousemove",this._mouseParallaxMove).off("mouseleave",this._resetParalax)},i._startLayers=function(){for(var e=0;e!==this.layersCount;++e){var t=this.layers[e];this._checkForShow(t)&&!t.waitForAction&&t.start()}},i._checkForShow=function(e){var t=this.slider.api.currentSlide.id,i=e.hideOnSlides,n=e.showOnSlides;return n?!!t&&-1!==n.indexOf(t):!t||!i||i.length&&-1===i.indexOf(t)}}(jQuery,window,document),function(e,t){"use strict";t.MSOverlayLayers=function(e){this.slider=e};var i=MSOverlayLayers.prototype;i.setupLayerController=function(){this.layerController=new MSOverlayLayerController(this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this.setSize.bind(this)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.setSize.bind(this)),this.setSize()},i.setSize=function(){this.__width=this.$element.width(),this.__height=this.$element.height(),this.layerController.setSize(this.__width,this.__height)},i.create=function(){this.layerController.create(),this.layerController.loadLayers(this._onLayersLoad),this.layerController.prepareToShow(),t.pointerEventsPolyfill&&t.pointerEventsPolyfill({selector:"#"+this.slider.$element.attr("id")+" .ms-overlay-layers",forcePolyfill:!1})},i.getHeight=function(){return this.slider.api.currentSlide.getHeight()},i.destroy=function(){this.layerController.destroy()},i._onLayersLoad=function(){this.ready=!0,this.selected=!0,this.layersLoaded=!0,this.setSize(),this.layerController.showLayers()}}(jQuery,window,document),function(e){window.MSLayerEffects={};var t,i={opacity:0};MSLayerEffects.setup=function(){if(!t){t=!0;var n=MSLayerEffects,s=window._jcsspfx+"Transform",r=window._jcsspfx+"TransformOrigin",o=e.browser.opera;_2d=window._css2d&&window._cssanim&&!o,n.defaultValues={left:0,top:0,opacity:isMSIE("<=9")?1:"",right:0,bottom:0},n.defaultValues[s]="",n.rf=1,n.presetEffParams={random:"30|300",long:300,short:30,false:!1,true:!0,tl:"top left",bl:"bottom left",tr:"top right",br:"bottom right",rt:"top right",lb:"bottom left",lt:"top left",rb:"bottom right",t:"top",b:"bottom",r:"right",l:"left",c:"center"},n.fade=function(){return i},n.left=_2d?function(e,t){var i=!1===t?{}:{opacity:0};return i[s]="translateX("+-e*n.rf+"px)",i}:function(e,t){var i=!1===t?{}:{opacity:0};return i.left=-e*n.rf+"px",i},n.right=_2d?function(e,t){var i=!1===t?{}:{opacity:0};return i[s]="translateX("+e*n.rf+"px)",i}:function(e,t){var i=!1===t?{}:{opacity:0};return i.left=e*n.rf+"px",i},n.top=_2d?function(e,t){var i=!1===t?{}:{opacity:0};return i[s]="translateY("+-e*n.rf+"px)",i}:function(e,t){var i=!1===t?{}:{opacity:0};return i.top=-e*n.rf+"px",i},n.bottom=_2d?function(e,t){var i=!1===t?{}:{opacity:0};return i[s]="translateY("+e*n.rf+"px)",i}:function(e,t){var i=!1===t?{}:{opacity:0};return i.top=e*n.rf+"px",i},n.from=_2d?function(e,t,i){var r=!1===i?{}:{opacity:0};return r[s]="translateX("+e*n.rf+"px) translateY("+t*n.rf+"px)",r}:function(e,t,i){var s=!1===i?{}:{opacity:0};return s.top=t*n.rf+"px",s.left=e*n.rf+"px",s},n.rotate=_2d?function(e,t){var i={opacity:0};return i[s]=" rotate("+e+"deg)",t&&(i[r]=t),i}:function(){return i},n.rotateleft=_2d?function(e,t,i,o){var a=n.left(t,o);return a[s]+=" rotate("+e+"deg)",i&&(a[r]=i),a}:function(e,t,i,s){return n.left(t,s)},n.rotateright=_2d?function(e,t,i,o){var a=n.right(t,o);return a[s]+=" rotate("+e+"deg)",i&&(a[r]=i),a}:function(e,t,i,s){return n.right(t,s)},n.rotatetop=_2d?function(e,t,i,o){var a=n.top(t,o);return a[s]+=" rotate("+e+"deg)",i&&(a[r]=i),a}:function(e,t,i,s){return n.top(t,s)},n.rotatebottom=_2d?function(e,t,i,o){var a=n.bottom(t,o);return a[s]+=" rotate("+e+"deg)",i&&(a[r]=i),a}:function(e,t,i,s){return n.bottom(t,s)},n.rotatefrom=_2d?function(e,t,i,o,a){var l=n.from(t,i,a);return l[s]+=" rotate("+e+"deg)",o&&(l[r]=o),l}:function(e,t,i,s,r){return n.from(t,i,r)},n.skewleft=_2d?function(e,t,i){var r=n.left(t,i);return r[s]+=" skewX("+e+"deg)",r}:function(e,t,i){return n.left(t,i)},n.skewright=_2d?function(e,t,i){var r=n.right(t,i);return r[s]+=" skewX("+-e+"deg)",r}:function(e,t,i){return n.right(t,i)},n.skewtop=_2d?function(e,t,i){var r=n.top(t,i);return r[s]+=" skewY("+e+"deg)",r}:function(e,t,i){return n.top(t,i)},n.skewbottom=_2d?function(e,t,i){var r=n.bottom(t,i);return r[s]+=" skewY("+-e+"deg)",r}:function(e,t,i){return n.bottom(t,i)},n.scale=_2d?function(e,t,i,n){var o=!1===n?{}:{opacity:0};return o[s]=" scaleX("+e+") scaleY("+t+")",i&&(o[r]=i),o}:function(e,t,i,n){return!1===n?{}:{opacity:0}},n.scaleleft=_2d?function(e,t,i,o,a){var l=n.left(i,a);return l[s]=" scaleX("+e+") scaleY("+t+")",o&&(l[r]=o),l}:function(e,t,i,s,r){return n.left(i,r)},n.scaleright=_2d?function(e,t,i,o,a){var l=n.right(i,a);return l[s]=" scaleX("+e+") scaleY("+t+")",o&&(l[r]=o),l}:function(e,t,i,s,r){return n.right(i,r)},n.scaletop=_2d?function(e,t,i,o,a){var l=n.top(i,a);return l[s]=" scaleX("+e+") scaleY("+t+")",o&&(l[r]=o),l}:function(e,t,i,s,r){return n.top(i,r)},n.scalebottom=_2d?function(e,t,i,o,a){var l=n.bottom(i,a);return l[s]=" scaleX("+e+") scaleY("+t+")",o&&(l[r]=o),l}:function(e,t,i,s,r){return n.bottom(i,r)},n.scalefrom=_2d?function(e,t,i,o,a,l){var d=n.from(i,o,l);return d[s]+=" scaleX("+e+") scaleY("+t+")",a&&(d[r]=a),d}:function(e,t,i,s,r,o){return n.from(i,s,o)},n.rotatescale=_2d?function(e,t,i,o,a){var l=n.scale(t,i,o,a);return l[s]+=" rotate("+e+"deg)",o&&(l[r]=o),l}:function(e,t,i,s,r){return n.scale(t,i,s,r)},n.front=window._css3d?function(e,t){var i=!1===t?{}:{opacity:0};return i[s]="perspective(2000px) translate3d(0 , 0 ,"+e+"px ) rotate(0.001deg)",i}:function(){return i},n.back=window._css3d?function(e,t){var i=!1===t?{}:{opacity:0};return i[s]="perspective(2000px) translate3d(0 , 0 ,"+-e+"px ) rotate(0.001deg)",i}:function(){return i},n.rotatefront=window._css3d?function(e,t,i,n){var o=!1===n?{}:{opacity:0};return o[s]="perspective(2000px) translate3d(0 , 0 ,"+t+"px ) rotate("+(e||.001)+"deg)",i&&(o[r]=i),o}:function(){return i},n.rotateback=window._css3d?function(e,t,i,n){var o=!1===n?{}:{opacity:0};return o[s]="perspective(2000px) translate3d(0 , 0 ,"+-t+"px ) rotate("+(e||.001)+"deg)",i&&(o[r]=i),o}:function(){return i},n.rotate3dleft=window._css3d?function(e,t,i,o,a,l){var d=n.left(o,l);return d[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),a&&(d[r]=a),d}:function(e,t,i,s,r,o){return n.left(s,o)},n.rotate3dright=window._css3d?function(e,t,i,o,a,l){var d=n.right(o,l);return d[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),a&&(d[r]=a),d}:function(e,t,i,s,r,o){return n.right(s,o)},n.rotate3dtop=window._css3d?function(e,t,i,o,a,l){var d=n.top(o,l);return d[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),a&&(d[r]=a),d}:function(e,t,i,s,r,o){return n.top(s,o)},n.rotate3dbottom=window._css3d?function(e,t,i,o,a,l){var d=n.bottom(o,l);return d[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),a&&(d[r]=a),d}:function(e,t,i,s,r,o){return n.bottom(s,o)},n.rotate3dfront=window._css3d?function(e,t,i,o,a,l){var d=n.front(o,l);return d[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),a&&(d[r]=a),d}:function(e,t,i,s,r,o){return n.front(s,o)},n.rotate3dback=window._css3d?function(e,t,i,o,a,l){var d=n.back(o,l);return d[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),a&&(d[r]=a),d}:function(e,t,i,s,r,o){return n.back(s,o)},n.t=window._css3d?function(e,t,i,o,a,l,d,u,h,c,p,f,g,m,_){var v=!1===e?{}:{opacity:0},y="perspective(2000px) ";"n"!==t&&(y+="translateX("+t*n.rf+"px) "),"n"!==i&&(y+="translateY("+i*n.rf+"px) "),"n"!==o&&(y+="translateZ("+o*n.rf+"px) "),"n"!==a&&(y+="rotate("+a+"deg) "),"n"!==l&&(y+="rotateX("+l+"deg) "),"n"!==d&&(y+="rotateY("+d+"deg) "),"n"!==u&&(y+="rotateZ("+u+"deg) "),"n"!==p&&(y+="skewX("+p+"deg) "),"n"!==f&&(y+="skewY("+f+"deg) "),"n"!==h&&(y+="scaleX("+h+") "),"n"!==c&&(y+="scaleY("+c+")"),v[s]=y;var b="";return b+="n"!==g?g+"% ":"50% ",b+="n"!==m?m+"% ":"50% ",b+="n"!==_?_+"px":"",v[r]=b,v}:function(e,t,i,s,r){var r=!1===e?{}:{opacity:0};return"n"!==t&&(r.left=t*n.rf+"px"),"n"!==i&&(r.top=i*n.rf+"px"),r}}}}(jQuery),function(e){window.MSLayerElement=function(){this.start_anim={name:"fade",duration:1e3,ease:"linear",delay:0},this.end_anim={duration:1e3,ease:"linear"},this.type="text",this.resizable=!0,this.minWidth=-1,this.isVisible=!0,this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","font-size","line-height","width","left","right","top","bottom"],this.baseStyle={}};var t=MSLayerElement.prototype;t.setStartAnim=function(t){e.extend(this.start_anim,t),e.extend(this.start_anim,this._parseEff(this.start_anim.name)),this.$element.css("visibility","hidden")},t.setEndAnim=function(t){e.extend(this.end_anim,t)},t.create=function(){if(this.$element.css("display","none"),this.resizable=!1!==this.$element.data("resize"),this.fixed=!0===this.$element.data("fixed"),void 0!==this.$element.data("widthlimit")&&(this.minWidth=this.$element.data("widthlimit")),this.end_anim.name||(this.end_anim.name=this.start_anim.name),this.end_anim.time&&(this.autoHide=!0),this.staticLayer="static"===this.$element.data("position"),this.fixedLayer="fixed"===this.$element.data("position"),this.layersCont=this.controller.$layers,this.staticLayer&&this.$element.css("display","").css("visibility",""),void 0!==this.$element.data("action")){var t=this.slide.slider.slideController;this.$element.on(this.$element.data("action-event")||"click",function(i){t.runAction(e(this).data("action")),i.preventDefault()}).addClass("ms-action-layer")}e.extend(this.end_anim,this._parseEff(this.end_anim.name)),this.slider=this.slide.slider,this.masked&&(this.$mask=e("<div></div>").addClass("ms-layer-mask"),this.link?(this.link.wrap(this.$mask),this.$mask=this.link.parent()):(this.$element.wrap(this.$mask),this.$mask=this.$element.parent()),this.maskWidth&&this.$mask.width(this.maskWidth),this.maskHeight&&(this.$mask.height(this.maskHeight),-1===this.__cssConfig.indexOf("height")&&this.__cssConfig.push("height")));var i=this.layerOrigin=this.$element.data("origin");if(i){var n=i.charAt(0),s=i.charAt(1),r=this.$element.data("offset-x"),o=this.$element.data("offset-y"),a=this.masked?this.$mask[0]:this.$element[0];switch(void 0===o&&(o=0),n){case"t":a.style.top=o+"px";break;case"b":a.style.bottom=o+"px";break;case"m":a.style.top=o+"px",this.middleAlign=!0}switch(void 0===r&&(r=0),s){case"l":a.style.left=r+"px";break;case"r":a.style.right=r+"px";break;case"c":a.style.left=r+"px",this.centerAlign=!0}}this.parallax=this.$element.data("parallax"),null!=this.parallax&&(this.parallax/=100,this.$parallaxElement=e("<div></div>").addClass("ms-parallax-layer"),this.masked?(this.$mask.wrap(this.$parallaxElement),this.$parallaxElement=this.$mask.parent()):this.link?(this.link.wrap(this.$parallaxElement),this.$parallaxElement=this.link.parent()):(this.$element.wrap(this.$parallaxElement),this.$parallaxElement=this.$element.parent()),this._lastParaX=0,this._lastParaY=0,this._paraX=0,this._paraY=0,this.alignedToBot=this.layerOrigin&&-1!==this.layerOrigin.indexOf("b"),this.alignedToBot&&this.$parallaxElement.css("bottom",0),this.parallaxRender=window._css3d?this._parallaxCSS3DRenderer:window._css2d?this._parallaxCSS2DRenderer:this._parallax2DRenderer,"swipe"!==this.slider.options.parallaxMode&&averta.Ticker.add(this.parallaxRender,this)),e.removeDataAttrs(this.$element,["data-src"])},t.init=function(){this.initialized=!0;var e;this.$element.css("visibility","");for(var t=0,i=this.__cssConfig.length;i>t;t++){var n=this.__cssConfig[t];if(this._isPosition(n)&&this.masked)e=this.$mask.css(n);else if("text"!==this.type||"width"!==n||this.masked||this.maskWidth){e=this.$element.css(n);var s="width"===n||"height"===n;s&&this.masked&&(this.maskWidth&&"width"===n?e=this.maskWidth+"px":this.maskHeight&&"height"===n&&(e=this.maskHeight+"px")),s&&"0px"===e&&(e=this.$element.data(n)+"px")}else e=this.$element[0].style.width;this.layerOrigin&&("top"===n&&-1===this.layerOrigin.indexOf("t")&&-1===this.layerOrigin.indexOf("m")||"bottom"===n&&-1===this.layerOrigin.indexOf("b")||"left"===n&&-1===this.layerOrigin.indexOf("l")&&-1===this.layerOrigin.indexOf("c")||"right"===n&&-1===this.layerOrigin.indexOf("r"))||"auto"!=e&&""!=e&&"normal"!=e&&(this.baseStyle[n]=parseInt(e))}this.middleAlign&&(this.baseHeight=this.$element.outerHeight(!1)),this.centerAlign&&(this.baseWidth=this.$element.outerWidth(!1))},t.locate=function(){if(this.slide.ready){var e,t,i,n=parseFloat(this.layersCont.css("width")),s=parseFloat(this.layersCont.css("height"));!this.staticLayer&&"none"===this.$element.css("display")&&this.isVisible&&this.$element.css("display","").css("visibility","hidden"),this.staticLayer&&this.$element.addClass("ms-hover-active"),e=this.resizeFactor=n/this.slide.slider.options.width;var r=this.masked?this.$mask:this.$element;for(var o in this.baseStyle)t=this._isPosition(o),i="width"===o||"height"===o,e=this.fixed&&t?1:this.resizeFactor,(this.resizable||t)&&("top"===o&&this.middleAlign?(r[0].style.top="0px",this.baseHeight=r.outerHeight(!1),r[0].style.top=this.baseStyle.top*e+(s-this.baseHeight)/2+"px"):"left"===o&&this.centerAlign?(r[0].style.left="0px",this.baseWidth=r.outerWidth(!1),r[0].style.left=this.baseStyle.left*e+(n-this.baseWidth)/2+"px"):t&&this.masked?r[0].style[o]=this.baseStyle[o]*e+"px":i&&("width"===o&&this.maskWidth||"height"===o&&this.maskHeight)?r[0].style[o]=this.baseStyle[o]*e+"px":this.$element.css(o,this.baseStyle[o]*e+"px"));this.visible(this.minWidth<n)}},t.start=function(){if(!this.isShowing&&!this.staticLayer){this.isShowing=!0,this.$element.removeClass("ms-hover-active");var e,t;MSLayerEffects.rf=this.resizeFactor;var i=MSLayerEffects[this.start_anim.eff_name].apply(null,this._parseEffParams(this.start_anim.eff_params)),n={};for(e in i)this._checkPosKey(e,i)||(null!=MSLayerEffects.defaultValues[e]&&(n[e]=MSLayerEffects.defaultValues[e]),e in this.baseStyle&&(t=this.baseStyle[e],this.middleAlign&&"top"===e&&(t+=(parseInt(this.layersCont.height())-this.$element.outerHeight(!1))/2),this.centerAlign&&"left"===e&&(t+=(parseInt(this.layersCont.width())-this.$element.outerWidth(!1))/2),i[e]=t+parseFloat(i[e])+"px",n[e]=t+"px"),this.$element.css(e,i[e]));var s=this;clearTimeout(this.to),clearTimeout(this.clHide),this.to=setTimeout(function(){s.$element.css("visibility",""),s._playAnimation(s.start_anim,n)},s.start_anim.delay||.01),this.clTo=setTimeout(function(){s.show_cl=!0,s.$element.addClass("ms-hover-active")},(this.start_anim.delay||.01)+this.start_anim.duration+1),this.autoHide&&(clearTimeout(this.hto),this.hto=setTimeout(function(){s.hide()},s.end_anim.time))}},t.hide=function(){if(!this.staticLayer){this.$element.removeClass("ms-hover-active"),this.isShowing=!1;var e=MSLayerEffects[this.end_anim.eff_name].apply(null,this._parseEffParams(this.end_anim.eff_params));for(key in e)this._checkPosKey(key,e)||(key===window._jcsspfx+"TransformOrigin"&&this.$element.css(key,e[key]),key in this.baseStyle&&(e[key]=this.baseStyle[key]+parseFloat(e[key])+"px"));this._playAnimation(this.end_anim,e),clearTimeout(this.clHide),0===e.opacity&&(this.clHide=setTimeout(function(){this.$element.css("visibility","hidden")}.bind(this),this.end_anim.duration+1)),clearTimeout(this.to),clearTimeout(this.hto),clearTimeout(this.clTo)}},t.reset=function(){this.staticLayer||(this.isShowing=!1,this.$element[0].style.display="none",this.$element.css("opacity",""),this.$element[0].style.transitionDuration="",this.show_tween&&this.show_tween.stop(!0),clearTimeout(this.to),clearTimeout(this.hto))},t.destroy=function(){this.reset(),this.$element.remove()},t.visible=function(e){this.isVisible!=e&&(this.isVisible=e,this.$element.css("display",e?"":"none"))},t.moveParallax=function(e,t,i){this._paraX=e,this._paraY=t,i&&(this._lastParaX=e,this._lastParaY=t,this.parallaxRender())},t._playAnimation=function(e,t){var i={};e.ease&&(i.ease=e.ease),i.transProperty=window._csspfx+"transform,opacity",this.show_tween&&this.show_tween.stop(!0),this.show_tween=CTween.animate(this.$element,e.duration,t,i)},t._randomParam=function(e){var t=Number(e.slice(0,e.indexOf("|"))),i=Number(e.slice(e.indexOf("|")+1));return t+Math.random()*(i-t)},t._parseEff=function(e){var t=[];if(-1!==e.indexOf("(")){var i,n=e.slice(0,e.indexOf("(")).toLowerCase();t=e.slice(e.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),e=n;for(var s=0,r=t.length;r>s;++s)i=t[s],i in MSLayerEffects.presetEffParams&&(i=MSLayerEffects.presetEffParams[i]),t[s]=i}return{eff_name:e,eff_params:t}},t._parseEffParams=function(e){for(var t=[],i=0,n=e.length;n>i;++i){var s=e[i];"string"==typeof s&&-1!==s.indexOf("|")&&(s=this._randomParam(s)),t[i]=s}return t},t._checkPosKey=function(e,t){return"left"===e&&!(e in this.baseStyle)&&"right"in this.baseStyle?(t.right=-parseInt(t.left)+"px",delete t.left,!0):"top"===e&&!(e in this.baseStyle)&&"bottom"in this.baseStyle&&(t.bottom=-parseInt(t.top)+"px",delete t.top,!0)},t._isPosition=function(e){return"top"===e||"left"===e||"bottom"===e||"right"===e},t._parallaxCalc=function(){var e=this._paraX-this._lastParaX,t=this._paraY-this._lastParaY;this._lastParaX+=e/12,this._lastParaY+=t/12,Math.abs(e)<.019&&(this._lastParaX=this._paraX),Math.abs(t)<.019&&(this._lastParaY=this._paraY)},t._parallaxCSS3DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px) translateZ(0)"},t._parallaxCSS2DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px)"},t._parallax2DRenderer=function(){this._parallaxCalc(),this.alignedToBot?this.$parallaxElement[0].style.bottom=this._lastParaY*this.parallax+"px":this.$parallaxElement[0].style.top=this._lastParaY*this.parallax+"px",this.$parallaxElement[0].style.left=this._lastParaX*this.parallax+"px"}}(jQuery),function(e){window.MSImageLayerElement=function(){MSLayerElement.call(this),this.needPreload=!0,this.__cssConfig=["width","height","margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.type="image"},MSImageLayerElement.extend(MSLayerElement);var t=MSImageLayerElement.prototype,i=MSLayerElement.prototype;t.create=function(){if(this.link){var t=this.$element.parent();t.append(this.link),this.link.append(this.$element),this.link.removeClass("ms-layer"),this.$element.addClass("ms-layer"),t=null}if(i.create.call(this),void 0!=this.$element.data("src"))this.img_src=this.$element.data("src"),this.$element.removeAttr("data-src");else{var n=this;this.$element.on("load",function(){0===--n.controller.preloadCount&&n.controller._onlayersReady()}).each(e.jqLoadFix)}e.browser.msie&&this.$element.on("dragstart",function(e){e.preventDefault()})},t.loadImage=function(){var e=this;this.$element.preloadImg(this.img_src,function(){0===--e.controller.preloadCount&&e.controller._onlayersReady()})}}(jQuery),function(e){window.MSVideoLayerElement=function(){MSLayerElement.call(this),this.__cssConfig.push("height"),this.type="video"},MSVideoLayerElement.extend(MSLayerElement);var t=MSVideoLayerElement.prototype,i=MSLayerElement.prototype;t.__playVideo=function(){this.img&&CTween.fadeOut(this.img,500,2),CTween.fadeOut(this.video_btn,500,2),this.video_frame.attr("src","about:blank").css("display","block"),-1==this.video_url.indexOf("?")&&(this.video_url+="?"),this.video_frame.attr("src",this.video_url+"&autoplay=1")},t.start=function(){i.start.call(this),this.$element.data("autoplay")&&this.__playVideo()},t.reset=function(){return i.reset.call(this),(this.needPreload||this.$element.data("btn"))&&(this.video_btn.css("opacity",1).css("display","block"),this.video_frame.attr("src","about:blank").css("display","none")),this.needPreload?void this.img.css("opacity",1).css("display","block"):void this.video_frame.attr("src",this.video_url)},t.create=function(){i.create.call(this),this.video_frame=this.$element.find("iframe").css({width:"100%",height:"100%"}),this.video_url=this.video_frame.attr("src");var t=0!=this.$element.has("img").length;if(t||this.$element.data("btn")){this.video_frame.attr("src","about:blank").css("display","none");var n=this;if(this.video_btn=e("<div></div>").appendTo(this.$element).addClass("ms-video-btn").click(function(){n.__playVideo()}),t){if(this.needPreload=!0,this.img=this.$element.find("img:first").addClass("ms-video-img"),void 0!==this.img.data("src"))this.img_src=this.img.data("src"),this.img.removeAttr("data-src");else{var n=this;this.img.attr("src",this.img_src).on("load",function(){0===--n.controller.preloadCount&&n.controller._onlayersReady()}).each(e.jqLoadFix)}e.browser.msie&&this.img.on("dragstart",function(e){e.preventDefault()})}}},t.loadImage=function(){var e=this;this.img.preloadImg(this.img_src,function(){0===--e.controller.preloadCount&&e.controller._onlayersReady()})}}(jQuery),function(e){"use strict";window.MSHotspotLayer=function(){MSLayerElement.call(this),this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.ease="Expo",this.hide_start=!0,this.type="hotspot"},MSHotspotLayer.extend(MSLayerElement);var t=MSHotspotLayer.prototype,i=MSLayerElement.prototype;t._showTT=function(){this.show_cl&&(clearTimeout(this.hto),this._tween&&this._tween.stop(!0),this.hide_start&&(this.align=this._orgAlign,this._locateTT(),this.tt.css({display:"block"}),this._tween=CTween.animate(this.tt,900,this.to,{ease:"easeOut"+this.ease}),this.hide_start=!1))},t._hideTT=function(){if(this.show_cl){this._tween&&this._tween.stop(!0);var e=this;clearTimeout(this.hto),this.hto=setTimeout(function(){e.hide_start=!0,e._tween=CTween.animate(e.tt,900,e.from,{ease:"easeOut"+e.ease,complete:function(){e.tt.css("display","none")}})},200)}},t._updateClassName=function(e){this._lastClass&&this.tt.removeClass(this._lastClass),this.tt.addClass(e),this._lastClass=e},t._alignPolicy=function(){var e=(this.tt.outerHeight(!1),Math.max(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")))),t=window.innerWidth;switch(window.innerHeight,this.align){case"top":if(this.base_t<0)return"bottom";break;case"right":if(this.base_l+e>t||this.base_t<0)return"bottom";break;case"left":if(this.base_l<0||this.base_t<0)return"bottom"}return null},t._locateTT=function(){var e=this.$element.offset(),t=this.slide.slider.$element.offset();this.pos_x=e.left-t.left-this.slide.slider.$element.scrollLeft(),this.pos_y=e.top-t.top-this.slide.slider.$element.scrollTop(),this.from={opacity:0},this.to={opacity:1},this._updateClassName("ms-tooltip-"+this.align),this.tt_arrow.css("margin-left","");switch(this.align){case"top":var i=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y-this.tt.outerHeight(!1)-15-15,this.base_l=this.pos_x-i/2,this.base_l+i>window.innerWidth&&(this.tt_arrow.css("margin-left",-7.5+this.base_l+i-window.innerWidth+"px"),this.base_l=window.innerWidth-i),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-7.5+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY(-50px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t-50+"px",this.to.top=this.base_t+"px");break;case"bottom":var i=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y+15+15,this.base_l=this.pos_x-i/2,this.base_l+i>window.innerWidth&&(this.tt_arrow.css("margin-left",-7.5+this.base_l+i-window.innerWidth+"px"),this.base_l=window.innerWidth-i),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-7.5+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY(50px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t+50+"px",this.to.top=this.base_t+"px");break;case"right":this.base_l=this.pos_x+15+15,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX(50px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l+50+"px",this.to.left=this.base_l+"px");break;case"left":this.base_l=this.pos_x-15-this.tt.outerWidth(!1)-15,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX(-50px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l-50+"px",this.to.left=this.base_l+"px")}var n=this._alignPolicy();return null!==n?(this.align=n,void this._locateTT()):(this.tt.css("top",parseInt(this.base_t)+"px").css("left",parseInt(this.base_l)+"px"),void this.tt.css(this.from))},t.start=function(){i.start.call(this),this.tt.appendTo(this.slide.slider.$element),this.tt.css("display","none")},t.reset=function(){i.reset.call(this),this.tt.detach()},t.create=function(){var t=this;this._orgAlign=this.align=void 0!==this.$element.data("align")?this.$element.data("align"):"top",this.data=this.$element.html(),this.$element.html("").on("mouseenter",function(){t._showTT()}).on("mouseleave",function(){t._hideTT()}),this.point=e('<div><div class="ms-point-center"></div><div class="ms-point-border"></div></div>').addClass("ms-tooltip-point").appendTo(this.$element);var n=this.$element.data("link"),s=this.$element.data("target");n&&this.point.on("click",function(){window.open(n,s||"_self")}),this.tt=e("<div></div>").addClass("ms-tooltip").css("display","hidden").css("opacity",0),void 0!==this.$element.data("width")&&this.tt.css("width",this.$element.data("width")).css("max-width",this.$element.data("width")),this.tt_arrow=e("<div></div>").addClass("ms-tooltip-arrow").appendTo(this.tt),this._updateClassName("ms-tooltip-"+this.align),this.ttcont=e("<div></div>").addClass("ms-tooltip-cont").html(this.data).appendTo(this.tt),!0===this.$element.data("stay-hover")&&this.tt.on("mouseenter",function(){t.hide_start||(clearTimeout(t.hto),t._tween.stop(!0),t._showTT())}).on("mouseleave",function(){t._hideTT()}),i.create.call(this)}}(jQuery),function(){window.MSButtonLayer=function(){MSLayerElement.call(this),this.type="button"},MSButtonLayer.extend(MSLayerElement);var e=MSButtonLayer.prototype,t=MSLayerElement.prototype,i=["top","left","bottom","right"];e.create=function(){t.create.call(this),this.$element.wrap('<div class="ms-btn-container"></div>').css("position","relative"),this.$container=this.$element.parent()},e.locate=function(){t.locate.call(this);for(var e,n,s=0;4>s;s++)(e=i[s])in this.baseStyle&&(n=this.$element.css(e),this.$element.css(e,""),this.$container.css(e,n));this.$container.width(this.$element.outerWidth(!0)).height(this.$element.outerHeight(!0))}}(jQuery),window.MSSliderEvent=function(e){this.type=e},MSSliderEvent.CHANGE_START="ms_changestart",MSSliderEvent.CHANGE_END="ms_changeend",MSSliderEvent.WAITING="ms_waiting",MSSliderEvent.AUTOPLAY_CHANGE="ms_autoplaychange",MSSliderEvent.VIDEO_PLAY="ms_videoPlay",MSSliderEvent.VIDEO_CLOSE="ms_videoclose",MSSliderEvent.INIT="ms_init",MSSliderEvent.HARD_UPDATE="ms_hard_update",MSSliderEvent.RESIZE="ms_resize",MSSliderEvent.RESERVED_SPACE_CHANGE="ms_rsc",MSSliderEvent.DESTROY="ms_destroy",function(e,t,i){"use strict";e.MSSlide=function(){this.$element=null,this.$loading=i("<div></div>").addClass("ms-slide-loading"),this.view=null,this.index=-1,this.__width=0,this.__height=0,this.fillMode="fill",this.selected=!1,this.pselected=!1,this.autoAppend=!0,this.isSleeping=!0,this.moz=i.browser.mozilla};var n=MSSlide.prototype;n.onSwipeStart=function(){this.link&&(this.linkdis=!0),this.video&&(this.videodis=!0)},
n.onSwipeMove=function(e){var t=Math.max(Math.abs(e.data.distanceX),Math.abs(e.data.distanceY));this.swipeMoved=t>4},n.onSwipeCancel=function(){return this.swipeMoved?void(this.swipeMoved=!1):(this.link&&(this.linkdis=!1),void(this.video&&(this.videodis=!1)))},n.setupLayerController=function(){this.hasLayers=!0,this.layerController=new MSLayerController(this)},n.assetsLoaded=function(){this.ready=!0,this.slider.api._startTimer(),(this.selected||this.pselected&&this.slider.options.instantStartLayers)&&(this.hasLayers&&this.layerController.showLayers(),this.vinit&&(this.bgvideo.play(),this.autoPauseBgVid||(this.bgvideo.currentTime=0))),this.isSleeping||this.setupBG(),CTween.fadeOut(this.$loading,300,!0),(0===this.slider.options.preload||"all"===this.slider.options.preload)&&this.index<this.view.slideList.length-1?this.view.slideList[this.index+1].loadImages():"all"===this.slider.options.preload&&this.index===this.view.slideList.length-1&&this.slider._removeLoading()},n.setBG=function(e){this.hasBG=!0;var t=this;this.$imgcont=i("<div></div>").addClass("ms-slide-bgcont"),this.$element.append(this.$loading).append(this.$imgcont),this.$bg_img=i(e).css("visibility","hidden"),this.$imgcont.append(this.$bg_img),this.bgAligner=new MSAligner(t.fillMode,t.$imgcont,t.$bg_img),this.bgAligner.widthOnly=this.slider.options.autoHeight,t.slider.options.autoHeight&&(t.pselected||t.selected)&&t.slider.setHeight(t.slider.options.height),void 0!==this.$bg_img.data("src")?(this.bg_src=this.$bg_img.data("src"),this.$bg_img.removeAttr("data-src")):this.$bg_img.one("load",function(e){t._onBGLoad(e)}).each(i.jqLoadFix)},n.setupBG=function(){!this.initBG&&this.bgLoaded&&(this.initBG=!0,this.$bg_img.css("visibility",""),this.bgWidth=this.bgNatrualWidth||this.$bg_img.width(),this.bgHeight=this.bgNatrualHeight||this.$bg_img.height(),CTween.fadeIn(this.$imgcont,300),this.slider.options.autoHeight&&this.$imgcont.height(this.bgHeight*this.ratio),this.bgAligner.init(this.bgWidth,this.bgHeight),this.setSize(this.__width,this.__height),this.slider.options.autoHeight&&(this.pselected||this.selected)&&this.slider.setHeight(this.getHeight()))},n.loadImages=function(){if(!this.ls){if(this.ls=!0,this.bgvideo&&this.bgvideo.load(),this.hasBG&&this.bg_src){var e=this;this.$bg_img.preloadImg(this.bg_src,function(t){e._onBGLoad(t)})}this.hasLayers&&this.layerController.loadLayers(this._onLayersLoad),this.hasBG||this.hasLayers||this.assetsLoaded()}},n._onLayersLoad=function(){this.layersLoaded=!0,(!this.hasBG||this.bgLoaded)&&this.assetsLoaded()},n._onBGLoad=function(e){this.bgNatrualWidth=e.width,this.bgNatrualHeight=e.height,this.bgLoaded=!0,i.browser.msie&&this.$bg_img.on("dragstart",function(e){e.preventDefault()}),(!this.hasLayers||this.layerController.ready)&&this.assetsLoaded()},n.setBGVideo=function(t){if(t[0].play){if(e._mobile&&!this.slider.options.mobileBGVideo)return void t.remove();this.bgvideo=t[0];var n=this;t.addClass("ms-slide-bgvideo"),!1!==t.data("loop")&&this.bgvideo.addEventListener("ended",function(){n.bgvideo.play()}),!1!==t.data("mute")&&(this.bgvideo.muted=!0),!0===t.data("autopause")&&(this.autoPauseBgVid=!0),this.bgvideo_fillmode=t.data("fill-mode")||"fill","none"!==this.bgvideo_fillmode&&(this.bgVideoAligner=new MSAligner(this.bgvideo_fillmode,this.$element,t),this.bgvideo.addEventListener("loadedmetadata",function(){n.vinit||(n.vinit=!0,n.video_aspect=n.bgVideoAligner.baseHeight/n.bgVideoAligner.baseWidth,n.bgVideoAligner.init(n.bgvideo.videoWidth,n.bgvideo.videoHeight),n._alignBGVideo(),CTween.fadeIn(i(n.bgvideo),200),n.selected&&n.bgvideo.play())})),t.css("opacity",0),this.$bgvideocont=i("<div></div>").addClass("ms-slide-bgvideocont").append(t),this.hasBG?this.$imgcont.before(this.$bgvideocont):this.$bgvideocont.appendTo(this.$element)}},n._alignBGVideo=function(){this.bgvideo_fillmode&&"none"!==this.bgvideo_fillmode&&this.bgVideoAligner.align()},n.setSize=function(e,t,i){this.__width=e,this.slider.options.autoHeight&&(this.bgLoaded?(this.ratio=this.__width/this.bgWidth,t=Math.floor(this.ratio*this.bgHeight),this.$imgcont.height(t)):(this.ratio=e/this.slider.options.width,t=this.slider.options.height*this.ratio)),this.__height=t,this.$element.width(e).height(t),this.hasBG&&this.bgLoaded&&this.bgAligner.align(),this._alignBGVideo(),this.hasLayers&&this.layerController.setSize(e,t,i)},n.getHeight=function(){return this.hasBG&&this.bgLoaded?this.bgHeight*this.ratio:Math.max(this.$element[0].clientHeight,this.slider.options.height*this.ratio)},n.__playVideo=function(){this.vplayed||this.videodis||(this.vplayed=!0,this.slider.api.paused||(this.slider.api.pause(),this.roc=!0),this.vcbtn.css("display",""),CTween.fadeOut(this.vpbtn,500,!1),CTween.fadeIn(this.vcbtn,500),CTween.fadeIn(this.vframe,500),this.vframe.css("display","block").attr("src",this.video+"&autoplay=1"),this.view.$element.addClass("ms-def-cursor"),this.moz&&this.view.$element.css("perspective","none"),this.view.swipeControl&&this.view.swipeControl.disable(),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))},n.__closeVideo=function(){if(this.vplayed){this.vplayed=!1,this.roc&&this.slider.api.resume();var e=this;CTween.fadeIn(this.vpbtn,500),CTween.animate(this.vcbtn,500,{opacity:0},{complete:function(){e.vcbtn.css("display","none")}}),CTween.animate(this.vframe,500,{opacity:0},{complete:function(){e.vframe.attr("src","about:blank").css("display","none")}}),this.moz&&this.view.$element.css("perspective",""),this.view.swipeControl&&this.view.swipeControl.enable(),this.view.$element.removeClass("ms-def-cursor"),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))}},n.create=function(){var t=this;this.hasLayers&&this.layerController.create(),this.link&&this.link.addClass("ms-slide-link").html("").click(function(e){t.linkdis&&e.preventDefault()}),this.video&&(-1===this.video.indexOf("?")&&(this.video+="?"),this.vframe=i("<iframe></iframe>").addClass("ms-slide-video").css({width:"100%",height:"100%",display:"none"}).attr("src","about:blank").attr("allowfullscreen","true").appendTo(this.$element),this.vpbtn=i("<div></div>").addClass("ms-slide-vpbtn").click(function(){t.__playVideo()}).appendTo(this.$element),this.vcbtn=i("<div></div>").addClass("ms-slide-vcbtn").click(function(){t.__closeVideo()}).appendTo(this.$element).css("display","none"),e._touch&&this.vcbtn.removeClass("ms-slide-vcbtn").addClass("ms-slide-vcbtn-mobile").append('<div class="ms-vcbtn-txt">Close video</div>').appendTo(this.view.$element.parent())),!this.slider.options.autoHeight&&this.hasBG&&(this.$imgcont.css("height","100%"),("center"===this.fillMode||"stretch"===this.fillMode)&&(this.fillMode="fill")),this.slider.options.autoHeight&&this.$element.addClass("ms-slide-auto-height"),this.sleep(!0)},n.destroy=function(){this.hasLayers&&(this.layerController.destroy(),this.layerController=null),this.$element.remove(),this.$element=null},n.prepareToSelect=function(){this.pselected||this.selected||(this.pselected=!0,(this.link||this.video)&&(this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.addEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.addEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this),this.linkdis=!1,this.swipeMoved=!1),this.loadImages(),this.hasLayers&&this.layerController.prepareToShow(),this.ready&&(this.bgvideo&&this.bgvideo.play(),this.hasLayers&&this.slider.options.instantStartLayers&&this.layerController.showLayers()),this.moz&&this.$element.css("margin-top",""))},n.select=function(){this.selected||(this.selected=!0,this.pselected=!1,this.$element.addClass("ms-sl-selected"),this.hasLayers&&(this.slider.options.autoHeight&&this.layerController.updateHeight(),this.slider.options.instantStartLayers||this.layerController.showLayers()),this.ready&&this.bgvideo&&this.bgvideo.play(),this.videoAutoPlay&&(this.videodis=!1,this.vpbtn.trigger("click")))},n.unselect=function(){this.pselected=!1,this.moz&&this.$element.css("margin-top","0.1px"),(this.link||this.video)&&(this.view.removeEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.removeEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.bgvideo&&(this.bgvideo.pause(),!this.autoPauseBgVid&&this.vinit&&(this.bgvideo.currentTime=0)),this.hasLayers&&this.layerController.hideLayers(),this.selected&&(this.selected=!1,this.$element.removeClass("ms-sl-selected"),this.video&&this.vplayed&&(this.__closeVideo(),this.roc=!1))},n.sleep=function(e){(!this.isSleeping||e)&&(this.isSleeping=!0,this.autoAppend&&this.$element.detach(),this.hasLayers&&this.layerController.onSlideSleep())},n.wakeup=function(){this.isSleeping&&(this.isSleeping=!1,this.autoAppend&&this.view.$slideCont.append(this.$element),this.moz&&this.$element.css("margin-top","0.1px"),this.setupBG(),this.hasBG&&this.bgAligner.align(),this.hasLayers&&this.layerController.onSlideWakeup())}}(window,document,jQuery),function(e){"use strict";var t={};window.MSSlideController=function(e){this._delayProgress=0,this._timer=new averta.Timer(100),this._timer.onTimer=this.onTimer,this._timer.refrence=this,this.currentSlide=null,this.slider=e,this.so=e.options,averta.EventDispatcher.call(this)},MSSlideController.registerView=function(e,i){if(e in t)throw new Error(e+", is already registered.");t[e]=i},MSSlideController.SliderControlList={},MSSlideController.registerControl=function(e,t){if(e in MSSlideController.SliderControlList)throw new Error(e+", is already registered.");MSSlideController.SliderControlList[e]=t};var i=MSSlideController.prototype;i.setupView=function(){var i=this;this.resize_listener=function(){i.__resize()};var n={spacing:this.so.space,mouseSwipe:this.so.mouse,loop:this.so.loop,autoHeight:this.so.autoHeight,swipe:this.so.swipe,speed:this.so.speed,dir:this.so.dir,viewNum:this.so.inView,critMargin:this.so.critMargin};this.so.viewOptions&&e.extend(n,this.so.viewOptions),this.so.autoHeight&&(this.so.heightLimit=!1);var s=t[this.slider.options.view]||MSBasicView;if(!s._3dreq||window._css3d&&!e.browser.msie||(s=s._fallback||MSBasicView),this.view=new s(n),this.so.overPause){var i=this;this.slider.$element.mouseenter(function(){i.is_over=!0,i._stopTimer()}).mouseleave(function(){i.is_over=!1,i._startTimer()})}},i.onChangeStart=function(){this.change_started=!0,this.currentSlide&&this.currentSlide.unselect(),this.currentSlide=this.view.currentSlide,this.currentSlide.prepareToSelect(),this.so.endPause&&this.currentSlide.index===this.slider.slides.length-1&&(this.pause(),this.skipTimer()),this.so.autoHeight&&this.slider.setHeight(this.currentSlide.getHeight()),this.so.deepLink&&this.__updateWindowHash(),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))},i.onChangeEnd=function(){if(this.change_started=!1,this._startTimer(),this.currentSlide.select(),this.so.preload>1){var e,t,i,n=this.so.preload-1;for(t=1;n>=t;++t){if((e=this.view.index+t)>=this.view.slideList.length){if(!this.so.loop){t=n;continue}e-=this.view.slideList.length}(i=this.view.slideList[e])&&i.loadImages()}for(n>this.view.slideList.length/2&&(n=Math.floor(this.view.slideList.length/2)),t=1;n>=t;++t){if(0>(e=this.view.index-t)){if(!this.so.loop){t=n;continue}e=this.view.slideList.length+e}(i=this.view.slideList[e])&&i.loadImages()}}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))},i.onSwipeStart=function(){this.skipTimer()},i.skipTimer=function(){this._timer.reset(),this._delayProgress=0,this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},i.onTimer=function(){if(this._timer.getTime()>=1e3*this.view.currentSlide.delay&&(this.skipTimer(),this.view.next(),this.hideCalled=!1),this._delayProgress=this._timer.getTime()/(10*this.view.currentSlide.delay),this.so.hideLayers&&!this.hideCalled&&1e3*this.view.currentSlide.delay-this._timer.getTime()<=300){var e=this.view.currentSlide;e.hasLayers&&e.layerController.animHideLayers(),this.hideCalled=!0}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},i._stopTimer=function(){this._timer&&this._timer.stop()},i._startTimer=function(){this.paused||this.is_over||!this.currentSlide||!this.currentSlide.ready||this.change_started||this._timer.start()},i.__appendSlides=function(){var e,t,i=0,n=this.view.slideList.length-1;for(i;n>i;++i)e=this.view.slideList[i],e.detached||(e.$element.detach(),e.detached=!0);for(this.view.appendSlide(this.view.slideList[this.view.index]),n=3,i=1;n>=i;++i){if((t=this.view.index+i)>=this.view.slideList.length){if(!this.so.loop){i=n;continue}t-=this.view.slideList.length}e=this.view.slideList[t],e.detached=!1,this.view.appendSlide(e)}for(n>this.view.slideList.length/2&&(n=Math.floor(this.view.slideList.length/2)),i=1;n>=i;++i){if(0>(t=this.view.index-i)){if(!this.so.loop){i=n;continue}t=this.view.slideList.length+t}e=this.view.slideList[t],e.detached=!1,this.view.appendSlide(e)}},i.__resize=function(e){this.created&&(this.width=this.slider.$element[0].clientWidth||this.so.width,this.so.fullwidth||(this.width=Math.min(this.width,this.so.width)),this.so.fullheight?(this.so.heightLimit=!1,this.so.autoHeight=!1,this.height=this.slider.$element[0].clientHeight):this.height=this.width/this.slider.aspect,this.so.autoHeight?(this.currentSlide.setSize(this.width,null,e),this.view.setSize(this.width,this.currentSlide.getHeight(),e)):this.view.setSize(this.width,Math.max(this.so.minHeight,this.so.heightLimit?Math.min(this.height,this.so.height):this.height),e),this.slider.$controlsCont&&this.so.centerControls&&this.so.fullwidth&&this.view.$element.css("left",Math.min(0,-(this.slider.$element[0].clientWidth-this.so.width)/2)+"px"),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))},i.__dispatchInit=function(){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))},i.__updateWindowHash=function(){var e=window.location.hash,t=this.so.deepLink,i=this.so.deepLinkType,n="path"===i?"/":"=",s="path"===i?"/":"&",r=t+n+(this.view.index+1),o=new RegExp(t+n+"[0-9]+","g");window.location.hash=""===e?s+r:o.test(e)?e.replace(o,r):e+s+r},i.__curentSlideInHash=function(){var e=window.location.hash,t=this.so.deepLink,i=this.so.deepLinkType,n="path"===i?"/":"=",s=new RegExp(t+n+"[0-9]+","g");if(s.test(e)){var r=Number(e.match(s)[0].match(/[0-9]+/g).pop());if(!isNaN(r))return r-1}return-1},i.__onHashChanged=function(){var e=this.__curentSlideInHash();-1!==e&&this.gotoSlide(e)},i.__findLayerById=function(e){if(!this.currentSlide)return null;var t;return this.currentSlide.layerController&&(t=this.currentSlide.layerController.getLayerById(e)),!t&&this.slider.overlayLayers?this.slider.overlayLayers.layerController.getLayerById(e):t},i.setup=function(){this.created=!0,this.paused=!this.so.autoplay,this.view.addEventListener(MSViewEvents.CHANGE_START,this.onChangeStart,this),this.view.addEventListener(MSViewEvents.CHANGE_END,this.onChangeEnd,this),this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.currentSlide=this.view.slideList[this.so.start-1],this.__resize();var t=this.__curentSlideInHash(),i=-1!==t?t:this.so.start-1;if(this.view.create(i),0===this.so.preload&&this.view.slideList[0].loadImages(),this.scroller=this.view.controller,this.so.wheel){var n=this,s=(new Date).getTime();this.wheellistener=function(t){var i=window.event||t.orginalEvent||t;i.preventDefault();var r=(new Date).getTime();if(!(400>r-s)){s=r;var o=Math.abs(i.detail||i.wheelDelta);e.browser.mozilla&&(o*=100);return i.detail<0||i.wheelDelta>0?o>=15&&n.previous(!0):o>=15&&n.next(!0),!1}},e.browser.mozilla?this.slider.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.bind("mousewheel",this.wheellistener)}0===this.slider.$element[0].clientWidth&&(this.slider.init_safemode=!0),this.__resize();var n=this;this.so.deepLink&&e(window).on("hashchange",function(){n.__onHashChanged()})},i.index=function(){return this.view.index},i.count=function(){return this.view.slidesCount},i.next=function(e){this.skipTimer(),this.view.next(e)},i.previous=function(e){this.skipTimer(),this.view.previous(e)},i.gotoSlide=function(e){e=Math.min(e,this.count()-1),this.skipTimer(),this.view.gotoSlide(e)},i.destroy=function(e){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.DESTROY)),this.slider.destroy(e)},i._destroy=function(){this._timer.reset(),this._timer=null,e(window).unbind("resize",this.resize_listener),this.view.destroy(),this.view=null,this.so.wheel&&(e.browser.mozilla?this.slider.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),this.so=null},i.runAction=function(e){var t=[];if(-1!==e.indexOf("(")){var i=e.slice(0,e.indexOf("("));t=e.slice(e.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),e=i}e in this?this[e].apply(this,t):console},i.update=function(e){this.slider.init_safemode&&e&&(this.slider.init_safemode=!1),this.__resize(e),e&&this.dispatchEvent(new MSSliderEvent(MSSliderEvent.HARD_UPDATE))},i.locate=function(){this.__resize()},i.resume=function(){this.paused&&(this.paused=!1,this._startTimer())},i.pause=function(){this.paused||(this.paused=!0,this._stopTimer())},i.currentTime=function(){return this._delayProgress},i.showLayer=function(e,t){var i=this.__findLayerById(e);i&&(t?(clearTimeout(i.actionTimeout),i.actionTimeout=setTimeout(this.showLayer,t,e,0)):i.start())},i.hideLayer=function(e,t){var i=this.__findLayerById(e);i&&(t?(clearTimeout(i.actionTimeout),i.actionTimeout=setTimeout(this.hideLayer,t,e,0)):i.hide())},i.toggleLayer=function(e,t){var i=this.__findLayerById(e);i&&(t?(clearTimeout(i.actionTimeout),i.actionTimeout=setTimeout(this.toggleLayer,t,e,0)):i.isShowing?i.hide():i.start())},i.showLayers=function(t,i){var n=this;e.each(t.replace(/\s+/g,"").split("|"),function(e,t){n.showLayer(t,i)})},i.hideLayers=function(t,i){var n=this;e.each(t.replace(/\s+/g,"").split("|"),function(e,t){n.hideLayer(t,i)})},i.toggleLayers=function(t,i){var n=this;e.each(t.replace(/\s+/g,"").split("|"),function(e,t){n.toggleLayer(t,i)})},averta.EventDispatcher.extend(i)}(jQuery),function(e){"use strict";var t={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer,button:MSButtonLayer};window.MasterSlider=function(){this.options={forceInit:!0,autoplay:!1,loop:!1,mouse:!0,swipe:!0,grabCursor:!0,space:0,fillMode:"fill",start:1,view:"basic",width:300,height:150,inView:15,critMargin:1,mobileBGVideo:!1,heightLimit:!0,smoothHeight:!0,autoHeight:!1,minHeight:-1,fullwidth:!1,fullheight:!1,autofill:!1,layersMode:"center",hideLayers:!1,endPause:!1,centerControls:!0,overPause:!0,shuffle:!1,speed:17,dir:"h",preload:0,wheel:!1,layout:"boxed",autofillTarget:null,fullscreenMargin:0,instantStartLayers:!1,parallaxMode:"mouse",rtl:!1,deepLink:null,deepLinkType:"path",disablePlugins:[]},this.slides=[],this.activePlugins=[],this.$element=null,this.lastMargin=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0,this._holdOn=0;var t=this;this.resize_listener=function(){t._resize()},e(window).bind("resize",this.resize_listener)},MasterSlider.author="Averta Ltd. (www.averta.net)",MasterSlider.version="2.51.0",MasterSlider.releaseDate="Jan 2017",MasterSlider._plugins=[];var i=MasterSlider;i.registerPlugin=function(e){-1===i._plugins.indexOf(e)&&i._plugins.push(e)};var n=MasterSlider.prototype;n.__setupSlides=function(){var t,i=this,n=0;this.$element.children(".ms-slide").each(function(){var s=e(this);t=new MSSlide,t.$element=s,t.slider=i,t.delay=void 0!==s.data("delay")?s.data("delay"):3,t.fillMode=void 0!==s.data("fill-mode")?s.data("fill-mode"):i.options.fillMode,t.index=n++,t.id=s.data("id");var r=s.children("img:not(.ms-layer)");r.length>0&&t.setBG(r[0]);var o=s.children("video");if(o.length>0&&t.setBGVideo(o),i.controls)for(var a=0,l=i.controls.length;l>a;++a)i.controls[a].slideAction(t);s.children("a").each(function(){var i=e(this);"video"===this.getAttribute("data-type")?(t.video=this.getAttribute("href"),t.videoAutoPlay=i.data("autoplay"),i.remove()):i.hasClass("ms-layer")||(t.link=e(this))}),i.__createSlideLayers(t,s.find(".ms-layer")),i.slides.push(t),i.slideController.view.addSlide(t)})},n._setupOverlayLayers=function(){var e=this,t=this.$element.children(".ms-overlay-layers").eq(0);if(t.length){var i=new MSOverlayLayers(this);i.$element=t,e.__createSlideLayers(i,t.find(".ms-layer")),this.view.$element.prepend(t),this.overlayLayers=i,i.create()}},n.__createSlideLayers=function(i,n){0!=n.length&&(i.setupLayerController(),n.each(function(n,s){var r,o=e(this);"A"===s.nodeName&&"image"===o.find(">img").data("type")&&(r=e(this),o=r.find("img"));var a=new(t[o.data("type")||"text"]);a.$element=o,a.link=r,a.id=a.$element.data("id"),a.waitForAction=a.$element.data("wait"),a.masked=a.$element.data("masked"),a.maskWidth=a.$element.data("mask-width"),a.maskHeight=a.$element.data("mask-height");var l={},d={};void 0!==o.data("effect")&&(l.name=o.data("effect")),void 0!==o.data("ease")&&(l.ease=o.data("ease")),void 0!==o.data("duration")&&(l.duration=o.data("duration")),void 0!==o.data("delay")&&(l.delay=o.data("delay")),o.data("hide-effect")&&(d.name=o.data("hide-effect")),o.data("hide-ease")&&(d.ease=o.data("hide-ease")),void 0!==o.data("hide-duration")&&(d.duration=o.data("hide-duration")),void 0!==o.data("hide-time")&&(d.time=o.data("hide-time")),a.setStartAnim(l),a.setEndAnim(d),i.layerController.addLayer(a)}))},n._removeLoading=function(){e(window).unbind("resize",this.resize_listener),this.$element.removeClass("before-init").css("visibility","visible").css("height","").css("opacity",0),CTween.fadeIn(this.$element),this.$loading.remove(),this.slideController&&this.slideController.__resize()},n._resize=function(){if(this.$loading){var e=this.$loading[0].clientWidth/this.aspect;e=this.options.heightLimit?Math.min(e,this.options.height):e,this.$loading.height(e),this.$element.height(e)}},n._shuffleSlides=function(){for(var e,t=this.$element.children(".ms-slide"),i=0,n=t.length;n>i;++i)e=Math.floor(Math.random()*(n-1)),i!=e&&(this.$element[0].insertBefore(t[i],t[e]),t=this.$element.children(".ms-slide"))},n._setupSliderLayout=function(){this._updateSideMargins(),this.lastMargin=this.leftSpace;var t=this.options.layout;"boxed"!==t&&"partialview"!==t&&(this.options.fullwidth=!0),("fullscreen"===t||"autofill"===t)&&(this.options.fullheight=!0,"autofill"===t&&(this.$autofillTarget=e(this.options.autofillTarget),0===this.$autofillTarget.length&&(this.$autofillTarget=this.$element.parent()))),"partialview"===t&&this.$element.addClass("ms-layout-partialview"),("fullscreen"===t||"fullwidth"===t||"autofill"===t)&&(e(window).bind("resize",{that:this},this._updateLayout),this._updateLayout()),e(window).bind("resize",this.slideController.resize_listener)},n._updateLayout=function(t){var i=t?t.data.that:this,n=i.options.layout,s=i.$element,r=e(window);if("fullscreen"===n)document.body.style.overflow="hidden",s.height(r.height()-i.options.fullscreenMargin-i.topSpace-i.bottomSpace),document.body.style.overflow="";else if("autofill"===n)return void s.height(i.$autofillTarget.height()-i.options.fullscreenMargin-i.topSpace-i.bottomSpace).width(i.$autofillTarget.width()-i.leftSpace-i.rightSpace);s.width(r.width()-i.leftSpace-i.rightSpace);var o=-s.offset().left+i.leftSpace+i.lastMargin;s.css("margin-left",o),i.lastMargin=o},n._init=function(){if(!(this._holdOn>0)&&this._docReady){if(this.initialized=!0,"all"!==this.options.preload&&this._removeLoading(),this.options.shuffle&&this._shuffleSlides(),MSLayerEffects.setup(),this.slideController.setupView(),this.view=this.slideController.view,this.$controlsCont=e("<div></div>").addClass("ms-inner-controls-cont"),this.options.centerControls&&this.$controlsCont.css("max-width",this.options.width+"px"),this.$controlsCont.prepend(this.view.$element),this.$msContainer=e("<div></div>").addClass("ms-container").prependTo(this.$element).append(this.$controlsCont),this.controls)for(var t=0,i=this.controls.length;i>t;++t)this.controls[t].setup();if(this._setupSliderLayout(),this.__setupSlides(),this.slideController.setup(),this._setupOverlayLayers(),this.controls)for(t=0,i=this.controls.length;i>t;++t)this.controls[t].create();if(this.options.autoHeight&&this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()),this.options.swipe&&!window._touch&&this.options.grabCursor&&this.options.mouse){var n=this.view.$element;n.mousedown(function(){n.removeClass("ms-grab-cursor"),n.addClass("ms-grabbing-cursor"),e.browser.msie&&window.ms_grabbing_curosr&&(n[0].style.cursor="url("+window.ms_grabbing_curosr+"), move")}).addClass("ms-grab-cursor"),e(document).mouseup(function(){n.removeClass("ms-grabbing-cursor"),n.addClass("ms-grab-cursor"),e.browser.msie&&window.ms_grab_curosr&&(n[0].style.cursor="url("+window.ms_grab_curosr+"), move")})}this.slideController.__dispatchInit()}},n.setHeight=function(e){this.options.smoothHeight?(this.htween&&(this.htween.reset?this.htween.reset():this.htween.stop(!0)),this.htween=CTween.animate(this.slideController.view.$element,500,{height:e},{ease:"easeOutQuart"})):this.slideController.view.$element.height(e)},n.reserveSpace=function(e,t){var i=e+"Space",n=this[i];return this[i]+=t,this._updateSideMargins(),n},n._updateSideMargins=function(){this.$element.css("margin",this.topSpace+"px "+this.rightSpace+"px "+this.bottomSpace+"px "+this.leftSpace+"px")},n._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0,this._updateSideMargins(),this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))},n.control=function(e,t){if(e in MSSlideController.SliderControlList){this.controls||(this.controls=[]);var i=new MSSlideController.SliderControlList[e](t);return i.slider=this,this.controls.push(i),this}},n.holdOn=function(){this._holdOn++},n.release=function(){this._holdOn--,this._init()},n.setup=function(t,n){if(this.$element="string"==typeof t?e("#"+t):t.eq(0),this.setupMarkup=this.$element.html(),0!==this.$element.length){this.$element.addClass("master-slider").addClass("before-init"),e.browser.msie?this.$element.addClass("ms-ie").addClass("ms-ie"+e.browser.version.slice(0,e.browser.version.indexOf("."))):e.browser.webkit?this.$element.addClass("ms-wk"):e.browser.mozilla&&this.$element.addClass("ms-moz");navigator.userAgent.toLowerCase().indexOf("android")>-1&&this.$element.addClass("ms-android");var s=this;e.extend(this.options,n),this.aspect=this.options.width/this.options.height,this.$loading=e("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append(e("<div></div>").addClass("ms-loading")),this.$loading.parent().css("position","relative"),this.options.autofill&&(this.options.fullwidth=!0,this.options.fullheight=!0),this.options.fullheight&&this.$element.addClass("ms-fullheight"),this._resize(),this.slideController=new MSSlideController(this),this.api=this.slideController;for(var r=0,o=i._plugins.length;r!==o;r++){var a=i._plugins[r];-1===this.options.disablePlugins.indexOf(a.name)&&this.activePlugins.push(new a(this))}return this.options.forceInit&&MasterSlider.addJQReadyErrorCheck(this),e(document).ready(function(){s.initialized||(s._docReady=!0,s._init())}),this}},n.destroy=function(t){for(var i=0,n=this.activePlugins.length;i!==n;i++)this.activePlugins[i].destroy();if(this.controls)for(i=0,n=this.controls.length;i!==n;i++)this.controls[i].destroy();this.slideController&&this.slideController._destroy(),this.$loading&&this.$loading.remove(),t?this.$element.html(this.setupMarkup).css("visibility","hidden"):this.$element.remove();var s=this.options.layout;("fullscreen"===s||"fullwidth"===s)&&e(window).unbind("resize",this._updateLayout),this.view=null,this.slides=null,this.options=null,this.slideController=null,this.api=null,this.resize_listener=null,this.activePlugins=null}}(jQuery),function(e,t,i,n){function s(t,i){this.element=t,this.$element=e(t),this.settings=e.extend({},o,i),this._defaults=o,this._name=r,this.init()}var r="masterslider",o={controls:{}};e.extend(s.prototype,{init:function(){var e=this;this._slider=new MasterSlider;for(var t in this.settings.controls)this._slider.control(t,this.settings.controls[t]);this._slider.setup(this.$element,this.settings);var i=this._slider.api.dispatchEvent;this._slider.api.dispatchEvent=function(t){e.$element.trigger(t.type),i.call(this,t)}},api:function(){return this._slider.api},slider:function(){return this._slider}}),e.fn[r]=function(t){var i=arguments,n="plugin_"+r;if(void 0===t||"object"==typeof t)return this.each(function(){e.data(this,n)||e.data(this,n,new s(this,t))});if("string"==typeof t&&"_"!==t[0]&&"init"!==t){var o;return this.each(function(){var r=e.data(this,n);r instanceof s&&"function"==typeof r[t]&&(o=r[t].apply(r,Array.prototype.slice.call(i,1))),r instanceof s&&"function"==typeof r._slider.api[t]&&(o=r._slider.api[t].apply(r._slider.api,Array.prototype.slice.call(i,1))),"destroy"===t&&e.data(this,n,null)}),void 0!==o?o:this}}}(jQuery,window,document),function(e,t){"use strict";var i=[];MasterSlider.addJQReadyErrorCheck=function(e){i.push(e)};var n=e.fn.ready,s=t.onerror;e.fn.ready=function(){return t.onerror=function(){if(0!==i.length)for(var e=0,t=i.length;e!==t;e++){var n=i[e];n.initialized||(n._docReady=!0,n._init())}return!!s&&s.apply(this,arguments)},n.apply(this,arguments)}}(jQuery,window,document),window.MSViewEvents=function(e,t){this.type=e,this.data=t},MSViewEvents.SWIPE_START="swipeStart",MSViewEvents.SWIPE_END="swipeEnd",MSViewEvents.SWIPE_MOVE="swipeMove",MSViewEvents.SWIPE_CANCEL="swipeCancel",MSViewEvents.SCROLL="scroll",MSViewEvents.CHANGE_START="slideChangeStart",MSViewEvents.CHANGE_END="slideChangeEnd",function(e){"use strict";window.MSBasicView=function(t){this.options={loop:!1,dir:"h",autoHeight:!1,spacing:5,mouseSwipe:!0,swipe:!0,speed:17,minSlideSpeed:2,viewNum:20,critMargin:1},e.extend(this.options,t),this.dir=this.options.dir,this.loop=this.options.loop,this.spacing=this.options.spacing,this.__width=0,this.__height=0,this.__cssProb="h"===this.dir?"left":"top",this.__offset="h"===this.dir?"offsetLeft":"offsetTop",this.__dimension="h"===this.dir?"__width":"__height",this.__translate_end=window._css3d?" translateZ(0px)":"",this.$slideCont=e("<div></div>").addClass("ms-slide-container"),this.$element=e("<div></div>").addClass("ms-view").addClass("ms-basic-view").append(this.$slideCont),this.currentSlide=null,this.index=-1,this.slidesCount=0,this.slides=[],this.slideList=[],this.viewSlidesList=[],this.css3=window._cssanim,this.start_buffer=0,this.firstslide_snap=0,this.slideChanged=!1,this.controller=new Controller(0,0,{snapping:!0,snapsize:100,paging:!0,snappingMinSpeed:this.options.minSlideSpeed,friction:(100-.5*this.options.speed)/100,endless:this.loop}),this.controller.renderCallback("h"===this.dir?this._horizUpdate:this._vertiUpdate,this),this.controller.snappingCallback(this.__snapUpdate,this),this.controller.snapCompleteCallback(this.__snapCompelet,this),averta.EventDispatcher.call(this)};var t=MSBasicView.prototype;t.__snapCompelet=function(){this.slideChanged&&(this.slideChanged=!1,this.__locateSlides(),this.start_buffer=0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},t.__snapUpdate=function(t,i,n){if(this.loop){var s=this.index+n;this.updateLoop(s),s>=this.slidesCount&&(s-=this.slidesCount),0>s&&(s=this.slidesCount+s),this.index=s}else{if(0>i||i>=this.slidesCount)return;this.index=i}this._checkCritMargins(),e.browser.mozilla&&(this.slideList[this.index].$element[0].style.marginTop="0.1px",this.currentSlide&&(this.currentSlide.$element[0].style.marginTop=""));var r=this.slideList[this.index];r!==this.currentSlide&&(this.currentSlide=r,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.slideChanged=!0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))},t._checkCritMargins=function(){if(!this.normalMode){
var e=Math.floor(this.options.viewNum/2),t=this.viewSlidesList.indexOf(this.slideList[this.index]),i=this[this.__dimension]+this.spacing,n=this.options.critMargin;return this.loop?void((n>=t||t>=this.viewSlidesList.length-n)&&(i*=t-e,this.__locateSlides(!1,i+this.start_buffer),this.start_buffer+=i)):void((n>t&&this.index>=n||t>=this.viewSlidesList.length-n&&this.index<this.slidesCount-n)&&this.__locateSlides(!1))}},t._vertiUpdate=function(e,t){return this.__contPos=t,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateY("+-t+"px)"+this.__translate_end):void(this.$slideCont[0].style.top=-t+"px")},t._horizUpdate=function(e,t){return this.__contPos=t,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateX("+-t+"px)"+this.__translate_end):void(this.$slideCont[0].style.left=-t+"px")},t.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);var e=this.viewSlidesList.slice();this.viewSlidesList=[];var t,i=0,n=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-n+i]);else{for(i=0;i!==n&&this.index-i!=-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==n&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,t=e.length;i!==t;i++)-1===this.viewSlidesList.indexOf(e[i])&&e[i].sleep();e=null,this.currentSlide&&this.__updateSlidesZindex()},t.__locateSlides=function(e,t){this.__updateViewList(),t=this.loop?t||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var i,n=this.viewSlidesList.length,s=0;s!==n;s++){var r=t+s*(this[this.__dimension]+this.spacing);i=this.viewSlidesList[s],i.wakeup(),i.position=r,i.$element[0].style[this.__cssProb]=r+"px"}!1!==e&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},t.__createLoopList=function(){var e=[],t=0,i=this.slidesCount/2,n=this.slidesCount%2==0?i-1:Math.floor(i),s=this.slidesCount%2==0?i:Math.floor(i);for(this.currentSlideLoc=n,t=1;n>=t;++t)e.unshift(this.slideList[this.index-t<0?this.slidesCount-t+this.index:this.index-t]);for(e.push(this.slideList[this.index]),t=1;s>=t;++t)e.push(this.slideList[this.index+t>=this.slidesCount?this.index+t-this.slidesCount:this.index+t]);return e},t.__getSteps=function(e,t){var i=e>t?this.slidesCount-e+t:t-e,n=Math.abs(this.slidesCount-i);return n>i?i:-n},t.__pushEnd=function(){var e=this.slides.shift(),t=this.slides[this.slidesCount-2];if(this.slides.push(e),this.normalMode){var i=t.$element[0][this.__offset]+this.spacing+this[this.__dimension];e.$element[0].style[this.__cssProb]=i+"px",e.position=i}},t.__pushStart=function(){var e=this.slides.pop(),t=this.slides[0];if(this.slides.unshift(e),this.normalMode){var i=t.$element[0][this.__offset]-this.spacing-this[this.__dimension];e.$element[0].style[this.__cssProb]=i+"px",e.position=i}},t.__updateSlidesZindex=function(){var e=this.viewSlidesList.length;if(Math.floor(e/2),this.loop)for(var t=this.viewSlidesList.indexOf(this.currentSlide),i=0;i!==e;i++)this.viewSlidesList[i],this.viewSlidesList[i].$element.css("z-index",t>=i?i+1:e-i);else{for(var n=this.currentSlide.index-this.viewSlidesList[0].index,i=0;i!==e;i++)this.viewSlidesList[i].$element.css("z-index",n>=i?i+1:e-i);this.currentSlide.$element.css("z-index",e)}},t.addSlide=function(e){e.view=this,this.slides.push(e),this.slideList.push(e),this.slidesCount++},t.appendSlide=function(e){this.$slideCont.append(e.$element)},t.updateLoop=function(e){if(this.loop)for(var t=this.__getSteps(this.index,e),i=0,n=Math.abs(t);n>i;++i)0>t?this.__pushStart():this.__pushEnd()},t.gotoSlide=function(e,t){this.updateLoop(e),this.index=e;var i=this.slideList[e];this._checkCritMargins(),this.controller.changeTo(i.position,!t,null,null,!1),i!==this.currentSlide&&(this.slideChanged=!0,this.currentSlide=i,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)),t&&this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},t.next=function(e){return e&&!this.loop&&this.index+1>=this.slidesCount?void this.controller.bounce(10):void this.gotoSlide(this.index+1>=this.slidesCount?0:this.index+1)},t.previous=function(e){return e&&!this.loop&&this.index-1<0?void this.controller.bounce(-10):void this.gotoSlide(this.index-1<0?this.slidesCount-1:this.index-1)},t.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.dir?"horizontal":"vertical";var e=this;this.swipeControl.onSwipe="h"===this.dir?function(t){e.horizSwipeMove(t)}:function(t){e.vertSwipeMove(t)}},t.vertSwipeMove=function(e){var t=e.phase;if("start"===t)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,e));else if("move"===t&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+e.moveY)<this.cont_size/2))this.controller.drag(e.moveY),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,e));else if("end"===t||"cancel"===t){var i=e.distanceY/e.duration*50/3,n=Math.abs(e.distanceY/e.duration*50/3);Math.abs(i)>.1&&Math.abs(i)>=n?(this.controller.push(-i),i>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,e))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,e)))}},t.horizSwipeMove=function(e){var t=e.phase;if("start"===t)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,e));else if("move"===t&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+e.moveX)<this.cont_size/2))this.controller.drag(e.moveX),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,e));else if("end"===t||"cancel"===t){var i=e.distanceX/e.duration*50/3,n=Math.abs(e.distanceY/e.duration*50/3);Math.abs(i)>.1&&Math.abs(i)>=n?(this.controller.push(-i),i>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,e))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,e)))}},t.setSize=function(e,t,i){if(this.lastWidth!==e||t!==this.lastHeight||i){this.$element.width(e).height(t);for(var n=0;n<this.slidesCount;++n)this.slides[n].setSize(e,t,i);this.__width=e,this.__height=t,this.__created&&(this.__locateSlides(),this.cont_size=(this.slidesCount-1)*(this[this.__dimension]+this.spacing),this.loop||(this.controller._max_value=this.cont_size),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.controller.changeTo(this.currentSlide.position,!1,null,null,!1),this.controller.cancel(),this.lastWidth=e,this.lastHeight=t)}},t.create=function(e){this.__created=!0,this.index=Math.min(e||0,this.slidesCount-1),this.lastSnap=this.index,this.loop&&(this.slides=this.__createLoopList()),this.normalMode=this.slidesCount<=this.options.viewNum;for(var t=0;t<this.slidesCount;++t)this.slides[t].create();this.__locateSlides(),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.loop||(this.controller._max_value=(this.slidesCount-1)*(this[this.__dimension]+this.spacing)),this.gotoSlide(this.index,!0),this.options.swipe&&(window._touch||this.options.mouseSwipe)&&this.setupSwipe()},t.destroy=function(){if(this.__created){for(var e=0;e<this.slidesCount;++e)this.slides[e].destroy();this.slides=null,this.slideList=null,this.$element.remove(),this.controller.destroy(),this.controller=null}},averta.EventDispatcher.extend(t),MSSlideController.registerView("basic",MSBasicView)}(jQuery),function(){"use strict";window.MSWaveView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-wave-view"),this.$slideCont.css(window._csspfx+"transform-style","preserve-3d"),this.autoUpdateZIndex=!0},MSWaveView.extend(MSBasicView),MSWaveView._3dreq=!0,MSWaveView._fallback=MSBasicView;var e=MSWaveView.prototype,t=MSBasicView.prototype;e._horizUpdate=function(e,i){t._horizUpdate.call(this,e,i);for(var n,s,r=-i,o=0;o<this.slidesCount;++o)n=this.slideList[o],s=-r-n.position,this.__updateSlidesHoriz(n,s)},e._vertiUpdate=function(e,i){t._vertiUpdate.call(this,e,i);for(var n,s,r=-i,o=0;o<this.slidesCount;++o)n=this.slideList[o],s=-r-n.position,this.__updateSlidesVertic(n,s)},e.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width);e.$element[0].style[window._csspfx+"transform"]="translateZ("+3*-i+"px) rotateY(0.01deg)"},e.__updateSlidesVertic=function(e,t){this.__updateSlidesHoriz(e,t)},MSSlideController.registerView("wave",MSWaveView)}(jQuery),function(){window.MSFadeBasicView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-fade-basic-view")},MSFadeBasicView.extend(MSWaveView);var e=MSFadeBasicView.prototype;MSFadeBasicView.prototype,e.__updateSlidesHoriz=function(e,t){var i=Math.abs(.6*t/this.__width);i=1-Math.min(i,.6),e.$element.css("opacity",i)},e.__updateSlidesVertic=function(e,t){this.__updateSlidesHoriz(e,t)},MSSlideController.registerView("fadeBasic",MSFadeBasicView),MSWaveView._fallback=MSFadeBasicView}(),function(){window.MSFadeWaveView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-fade-wave-view")},MSFadeWaveView.extend(MSWaveView),MSFadeWaveView._3dreq=!0,MSFadeWaveView._fallback=MSFadeBasicView;var e=MSFadeWaveView.prototype;MSWaveView.prototype,e.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width);i=Math.min(i,100),e.$element.css("opacity",1-i/300),e.$element[0].style[window._jcsspfx+"Transform"]="scale("+(1-i/800)+") rotateY(0.01deg) "},e.__updateSlidesVertic=function(e,t){this.__updateSlidesHoriz(e,t)},MSSlideController.registerView("fadeWave",MSFadeWaveView)}(),function(){"use strict";window.MSFlowView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-flow-view")},MSFlowView.extend(MSWaveView),MSFlowView._3dreq=!0,MSFlowView._fallback=MSFadeBasicView;var e=MSFlowView.prototype;MSWaveView.prototype,e.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width),n=Math.min(.3*i,30)*(0>t?-1:1),s=1.2*i;e.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-s+"px) rotateY("+n+"deg) "},e.__updateSlidesVertic=function(e,t){var i=Math.abs(100*t/this.__width),n=Math.min(.3*i,30)*(0>t?-1:1),s=1.2*i;e.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-s+"px) rotateX("+-n+"deg) "},MSSlideController.registerView("flow",MSFlowView)}(jQuery),function(){window.MSFadeFlowView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-fade-flow-view")},MSFadeFlowView.extend(MSWaveView),MSFadeFlowView._3dreq=!0;var e=MSFadeFlowView.prototype;MSWaveView.prototype,e.__calculate=function(e){var t=Math.min(Math.abs(100*e/this.__width),100);return{value:t,rvalue:Math.min(.5*t,50)*(0>e?-1:1)}},e.__updateSlidesHoriz=function(e,t){var i=this.__calculate(t);e.$element.css("opacity",1-i.value/300),e.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+-i.value+"px) rotateY("+i.rvalue+"deg) "},e.__updateSlidesVertic=function(e,t){var i=this.__calculate(t);e.$element.css("opacity",1-i.value/300),e.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+-i.value+"px) rotateX("+-i.rvalue+"deg) "},MSSlideController.registerView("fadeFlow",MSFadeFlowView)}(),function(e){"use strict";window.MSMaskView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-mask-view")},MSMaskView.extend(MSBasicView);var t=MSMaskView.prototype,i=MSBasicView.prototype;t.addSlide=function(t){t.view=this,t.$frame=e("<div></div>").addClass("ms-mask-frame").append(t.$element),t.$element[0].style.position="relative",t.autoAppend=!1,this.slides.push(t),this.slideList.push(t),this.slidesCount++},t.setSize=function(e,t){for(var n=this.slides[0].slider,s=0;s<this.slidesCount;++s)this.slides[s].$frame[0].style.width=e+"px",n.options.autoHeight||(this.slides[s].$frame[0].style.height=t+"px");i.setSize.call(this,e,t)},t._horizUpdate=function(e,t){i._horizUpdate.call(this,e,t);var n=0;if(this.css3)for(n=0;n<this.slidesCount;++n)this.slideList[n].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(t-this.slideList[n].position)+"px)"+this.__translate_end;else for(n=0;n<this.slidesCount;++n)this.slideList[n].$element[0].style.left=t-this.slideList[n].position+"px"},t._vertiUpdate=function(e,t){i._vertiUpdate.call(this,e,t);var n=0;if(this.css3)for(n=0;n<this.slidesCount;++n)this.slideList[n].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(t-this.slideList[n].position)+"px)"+this.__translate_end;else for(n=0;n<this.slidesCount;++n)this.slideList[n].$element[0].style.top=t-this.slideList[n].position+"px"},t.__pushEnd=function(){var e=this.slides.shift(),t=this.slides[this.slidesCount-2];if(this.slides.push(e),this.normalMode){var i=t.$frame[0][this.__offset]+this.spacing+this[this.__dimension];e.$frame[0].style[this.__cssProb]=i+"px",e.position=i}},t.__pushStart=function(){var e=this.slides.pop(),t=this.slides[0];if(this.slides.unshift(e),this.normalMode){var i=t.$frame[0][this.__offset]-this.spacing-this[this.__dimension];e.$frame[0].style[this.__cssProb]=i+"px",e.position=i}},t.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);var e=this.viewSlidesList.slice();this.viewSlidesList=[];var t,i=0,n=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-n+i]);else{for(i=0;i!==n&&this.index-i!=-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==n&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,t=e.length;i!==t;i++)-1===this.viewSlidesList.indexOf(e[i])&&(e[i].sleep(),e[i].$frame.detach());e=null},t.__locateSlides=function(e,t){this.__updateViewList(),t=this.loop?t||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var i,n=this.viewSlidesList.length,s=0;s!==n;s++){var r=t+s*(this[this.__dimension]+this.spacing);if(i=this.viewSlidesList[s],this.$slideCont.append(i.$frame),i.wakeup(!1),i.position=r,i.selected&&i.bgvideo)try{i.bgvideo.play()}catch(e){}i.$frame[0].style[this.__cssProb]=r+"px"}!1!==e&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},MSSlideController.registerView("mask",MSMaskView)}(jQuery),function(){"use strict";window.MSParallaxMaskView=function(e){MSMaskView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-parallax-mask-view")},MSParallaxMaskView.extend(MSMaskView),MSParallaxMaskView.parallaxAmount=.5;var e=MSParallaxMaskView.prototype,t=MSBasicView.prototype;e._horizUpdate=function(e,i){t._horizUpdate.call(this,e,i);var n=0;if(this.css3)for(n=0;n<this.slidesCount;++n)this.slideList[n].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(i-this.slideList[n].position)*MSParallaxMaskView.parallaxAmount+"px)"+this.__translate_end;else for(n=0;n<this.slidesCount;++n)this.slideList[n].$element[0].style.left=(i-this.slideList[n].position)*MSParallaxMaskView.parallaxAmount+"px"},e._vertiUpdate=function(e,i){t._vertiUpdate.call(this,e,i);var n=0;if(this.css3)for(n=0;n<this.slidesCount;++n)this.slideList[n].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(i-this.slideList[n].position)*MSParallaxMaskView.parallaxAmount+"px)"+this.__translate_end;else for(n=0;n<this.slidesCount;++n)this.slideList[n].$element[0].style.top=(i-this.slideList[n].position)*MSParallaxMaskView.parallaxAmount+"px"},MSSlideController.registerView("parallaxMask",MSParallaxMaskView)}(jQuery),function(){"use strict";window.MSFadeView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-fade-view"),this.controller.renderCallback(this.__update,this)},MSFadeView.extend(MSBasicView);var e=MSFadeView.prototype,t=MSBasicView.prototype;e.__update=function(e,t){for(var i,n,s=-t,r=0;r<this.slidesCount;++r)i=this.slideList[r],n=-s-i.position,this.__updateSlides(i,n)},e.__updateSlides=function(e,t){var i=Math.abs(t/this[this.__dimension]);0>=1-i?e.$element.fadeTo(0,0).css("visibility","hidden"):e.$element.fadeTo(0,1-i).css("visibility","")},e.__locateSlides=function(e,t){this.__updateViewList(),t=this.loop?t||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var i,n=this.viewSlidesList.length,s=0;s!==n;s++){var r=t+s*this[this.__dimension];i=this.viewSlidesList[s],i.wakeup(),i.position=r}!1!==e&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},e.__pushEnd=function(){var e=this.slides.shift(),t=this.slides[this.slidesCount-2];this.slides.push(e),e.position=t.position+this[this.__dimension]},e.__pushStart=function(){var e=this.slides.pop(),t=this.slides[0];this.slides.unshift(e),e.position=t.position-this[this.__dimension]},e.create=function(e){t.create.call(this,e),this.spacing=0,this.controller.options.minValidDist=10},MSSlideController.registerView("fade",MSFadeView)}(jQuery),function(){"use strict";window.MSScaleView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-scale-view"),this.controller.renderCallback(this.__update,this)},MSScaleView.extend(MSFadeView);var e=MSScaleView.prototype,t=MSFadeView.prototype;e.__updateSlides=function(e,t){var i=Math.abs(t/this[this.__dimension]),n=e.$element[0];0>=1-i?(n.style.opacity=0,n.style.visibility="hidden",n.style[window._jcsspfx+"Transform"]=""):(n.style.opacity=1-i,n.style.visibility="",n.style[window._jcsspfx+"Transform"]="perspective(2000px) translateZ("+i*(0>t?-.5:.5)*300+"px)")},e.create=function(e){t.create.call(this,e),this.controller.options.minValidDist=.03},MSSlideController.registerView("scale",MSScaleView)}(jQuery),function(){"use strict";window.MSStackView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-stack-view"),this.controller.renderCallback(this.__update,this),this.autoUpdateZIndex=!0},MSStackView.extend(MSFadeView),MSStackView._3dreq=!0,MSStackView._fallback=MSFadeView;var e=MSStackView.prototype,t=MSFadeView.prototype;e.__updateSlidesZindex=function(){for(var e=this.viewSlidesList.length,t=0;t!==e;t++)this.viewSlidesList[t],this.viewSlidesList[t].$element.css("z-index",e-t)},e.__updateSlides=function(e,t){var i=Math.abs(t/this[this.__dimension]),n=e.$element[0];0>=1-i?(n.style.opacity=1,n.style.visibility="hidden",n.style[window._jcsspfx+"Transform"]=""):(n.style.visibility="",n.style[window._jcsspfx+"Transform"]=0>t?"perspective(2000px) translateZ("+-300*i+"px)":this.__translate+"("+-i*this[this.__dimension]+"px)")},e.create=function(e){t.create.call(this,e),this.controller.options.minValidDist=.03,this.__translate="h"===this.dir?"translateX":"translateY"},MSSlideController.registerView("stack",MSStackView)}(jQuery),function(){"use strict";window.MSFocusView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-focus-view"),this.options.centerSpace=this.options.centerSpace||1},MSFocusView.extend(MSWaveView),MSFocusView._3dreq=!0,MSFocusView._fallback=MSFadeBasicView;var e=MSFocusView.prototype;MSWaveView.prototype,e.__calcview=function(e,t){return t/2*e/(e+2e3)*(e+2e3)/2e3},e.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width);i=15*-Math.min(i,100),e.$element.css(window._csspfx+"transform","translateZ("+(i+1)+"px) rotateY(0.01deg) translateX("+(0>t?1:-1)*-this.__calcview(i,this.__width)*this.options.centerSpace+"px)")},e.__updateSlidesVertic=function(e,t){var i=Math.abs(100*t/this.__width);i=15*-Math.min(i,100),e.$element.css(window._csspfx+"transform","translateZ("+(i+1)+"px) rotateY(0.01deg) translateY("+(0>t?1:-1)*-this.__calcview(i,this.__width)*this.options.centerSpace+"px)")},MSSlideController.registerView("focus",MSFocusView)}(),function(){window.MSPartialWaveView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-partial-wave-view")},MSPartialWaveView.extend(MSWaveView),MSPartialWaveView._3dreq=!0,MSPartialWaveView._fallback=MSFadeBasicView;var e=MSPartialWaveView.prototype;MSWaveView.prototype,e.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width);e.hasBG&&e.$bg_img.css("opacity",(100-Math.abs(120*t/this.__width/3))/100),e.$element.css(window._csspfx+"transform","translateZ("+3*-i+"px) rotateY(0.01deg) translateX("+.75*t+"px)")},e.__updateSlidesVertic=function(e,t){var i=Math.abs(100*t/this.__width);e.hasBG&&e.$bg_img.css("opacity",(100-Math.abs(120*t/this.__width/3))/100),e.$element.css(window._csspfx+"transform","translateZ("+3*-i+"px) rotateY(0.01deg) translateY("+.75*t+"px)")},MSSlideController.registerView("partialWave",MSPartialWaveView)}(),function(){"use strict";window.MSBoxView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-box-view"),this.controller.renderCallback(this.__update,this)},MSBoxView.extend(MSFadeView),MSBoxView._3dreq=!0;var e=MSBoxView.prototype,t=MSFadeView.prototype;e.__updateSlides=function(e,t){var i=Math.abs(t/this[this.__dimension]),n=e.$element[0];0>=1-i?(n.style.visibility="hidden",n.style[window._jcsspfx+"Transform"]=""):(n.style.visibility="",n.style[window._jcsspfx+"Transform"]="rotate"+this._rotateDir+"("+i*(0>t?1:-1)*90*this._calcFactor+"deg)",n.style[window._jcsspfx+"TransformOrigin"]="50% 50% -"+e[this.__dimension]/2+"px",n.style.zIndex=Math.ceil(2*(1-i)))},e.create=function(e){t.create.call(this,e),this.controller.options.minValidDist=.03,this._rotateDir="h"===this.options.dir?"Y":"X",this._calcFactor="h"===this.options.dir?1:-1},MSSlideController.registerView("box",MSBoxView)}(jQuery),function(e){"use strict";var t=function(){this.options={prefix:"ms-",autohide:!0,overVideo:!0,customClass:null}},i=t.prototype;i.slideAction=function(){},i.setup=function(){this.cont=this.options.insertTo?e(this.options.insertTo):this.slider.$controlsCont,this.options.overVideo||this._hideOnvideoStarts()},i.checkHideUnder=function(){this.options.hideUnder&&(this.needsRealign=!this.options.insetTo&&("left"===this.options.align||"right"===this.options.align)&&!1===this.options.inset,e(window).bind("resize",{that:this},this.onResize),this.onResize())},i.onResize=function(e){var t=e&&e.data.that||this,i=window.innerWidth;i<=t.options.hideUnder&&!t.detached?(t.hide(!0),t.detached=!0,t.onDetach()):i>=t.options.hideUnder&&t.detached&&(t.detached=!1,t.visible(),t.onAppend())},i.create=function(){this.options.autohide&&(this.hide(!0),this.slider.$controlsCont.mouseenter(e.proxy(this._onMouseEnter,this)).mouseleave(e.proxy(this._onMouseLeave,this)).mousedown(e.proxy(this._onMouseDown,this)),this.$element&&this.$element.mouseenter(e.proxy(this._onMouseEnter,this)).mouseleave(e.proxy(this._onMouseLeave,this)).mousedown(e.proxy(this._onMouseDown,this)),e(document).mouseup(e.proxy(this._onMouseUp,this))),this.options.align&&this.$element.addClass("ms-align-"+this.options.align),this.options.customClass&&this.$element&&this.$element.addClass(this.options.customClass)},i._onMouseEnter=function(){this._disableAH||this.mdown||this.visible(),this.mleave=!1},i._onMouseLeave=function(){this.mdown||this.hide(),this.mleave=!0},i._onMouseDown=function(){this.mdown=!0},i._onMouseUp=function(){this.mdown&&this.mleave&&this.hide(),this.mdown=!1},i.onAppend=function(){this.needsRealign&&this.slider._realignControls()},i.onDetach=function(){this.needsRealign&&this.slider._realignControls()},i._hideOnvideoStarts=function(){var e=this;this.slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,function(){e._disableAH=!0,e.hide()}),this.slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,function(){e._disableAH=!1,e.visible()})},i.hide=function(e){if(e)this.$element.css("opacity",0),this.$element.css("display","none");else{clearTimeout(this.hideTo);var t=this.$element;this.hideTo=setTimeout(function(){CTween.fadeOut(t,400,!1)},20)}this.$element.addClass("ms-ctrl-hide")},i.visible=function(){this.detached||(clearTimeout(this.hideTo),this.$element.css("display",""),CTween.fadeIn(this.$element,400,!1),this.$element.removeClass("ms-ctrl-hide"))},i.destroy=function(){this.options&&this.options.hideUnder&&e(window).unbind("resize",this.onResize)},window.BaseControl=t}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),e.extend(this.options,t)};t.extend(BaseControl);var i=t.prototype,n=BaseControl.prototype;i.setup=function(){var t=this;this.$next=e("<div></div>").addClass(this.options.prefix+"nav-next").bind("click",function(){t.slider.api.next(!0)}),this.$prev=e("<div></div>").addClass(this.options.prefix+"nav-prev").bind("click",function(){t.slider.api.previous(!0)}),n.setup.call(this),this.cont.append(this.$next),this.cont.append(this.$prev),this.checkHideUnder()},i.hide=function(e){return e?(this.$prev.css("opacity",0).css("display","none"),void this.$next.css("opacity",0).css("display","none")):(CTween.fadeOut(this.$prev,400,!1),CTween.fadeOut(this.$next,400,!1),this.$prev.addClass("ms-ctrl-hide"),void this.$next.addClass("ms-ctrl-hide"))},i.visible=function(){this.detached||(CTween.fadeIn(this.$prev,400),CTween.fadeIn(this.$next,400),this.$prev.removeClass("ms-ctrl-hide").css("display",""),this.$next.removeClass("ms-ctrl-hide").css("display",""))},i.destroy=function(){n.destroy(),this.$next.remove(),this.$prev.remove()},window.MSArrows=t,MSSlideController.registerControl("arrows",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.dir="h",this.options.wheel="v"===t.dir,this.options.arrows=!1,this.options.speed=17,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.space=10,this.options.width=100,this.options.height=100,this.options.type="thumbs",this.options.hover=!1,e.extend(this.options,t),this.thumbs=[],this.index_count=0,this.__dimen="h"===this.options.dir?"width":"height",this.__alignsize="h"===this.options.dir?"height":"width",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.click_enable=!0};t.extend(BaseControl);var i=t.prototype,n=BaseControl.prototype;i.setup=function(){if(this.$element=e("<div></div>").addClass(this.options.prefix+"thumb-list"),"tabs"===this.options.type&&this.$element.addClass(this.options.prefix+"tabs"),this.$element.addClass("ms-dir-"+this.options.dir),n.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$thumbscont=e("<div></div>").addClass("ms-thumbs-cont").appendTo(this.$element),this.options.arrows){var t=this;this.$fwd=e("<div></div>").addClass("ms-thumblist-fwd").appendTo(this.$element).click(function(){t.controller.push(-15)}),this.$bwd=e("<div></div>").addClass("ms-thumblist-bwd").appendTo(this.$element).click(function(){t.controller.push(15)})}if(!this.options.insetTo&&this.options.align){var i=this.options.align;this.options.inset?this.$element.css(i,this.options.margin):"top"===i?this.$element.detach().prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===i?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.width):this.$element.height(this.options.height)}this.checkHideUnder()},i.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,this.options[this.__alignsize]+2*this.options.margin);this.$element.css(e,-t-this.options[this.__alignsize]-this.options.margin)}},i.slideAction=function(t){var i=t.$element.find(".ms-thumb"),n=this,s=e("<div></div>").addClass("ms-thumb-frame").append(i).append(e('<div class="ms-thumb-ol"></div>')).bind(this.options.hover?"hover":"click",function(){n.changeSlide(s)});if(this.options.align&&s.width(this.options.width-("v"===this.options.dir&&"tabs"===this.options.type?12:0)).height(this.options.height).css("margin-"+("v"===this.options.dir?"bottom":"right"),this.options.space),s[0].index=this.index_count++,this.$thumbscont.append(s),this.options.fillMode&&i.is("img")){var r=new window.MSAligner(this.options.fillMode,s,i);i[0].aligner=r,i.one("load",function(){var t=e(this);t[0].aligner.init(t.width(),t.height()),t[0].aligner.align()}).each(e.jqLoadFix)}e.browser.msie&&i.on("dragstart",function(e){e.preventDefault()}),this.thumbs.push(s)},i.create=function(){n.create.call(this),this.__translate_end=window._css3d?" translateZ(0px)":"",this.controller=new Controller(0,0,{snappingMinSpeed:2,friction:(100-.5*this.options.speed)/100}),this.controller.renderCallback("h"===this.options.dir?this._hMove:this._vMove,this);var t=this;this.resize_listener=function(){t.__resize()},e(window).bind("resize",this.resize_listener),this.thumbSize=this.thumbs[0][this.__jdimen](!0),this.setupSwipe(),this.__resize();var t=this;this.options.wheel&&(this.wheellistener=function(e){var i=window.event||e.orginalEvent||e,n=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail));return t.controller.push(10*-n),!1},e.browser.mozilla?this.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.$element.bind("mousewheel",this.wheellistener)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.slider.api.addEventListener(MSSliderEvent.HARD_UPDATE,this.realignThumbs,this),this.cindex=this.slider.api.index(),this.select(this.thumbs[this.cindex])},i._hMove=function(e,t){return this.__contPos=t,window._cssanim?void(this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateX("+-t+"px)"+this.__translate_end):void(this.$thumbscont[0].style.left=-t+"px")},i._vMove=function(e,t){return this.__contPos=t,window._cssanim?void(this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateY("+-t+"px)"+this.__translate_end):void(this.$thumbscont[0].style.top=-t+"px")},i.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.options.dir?"horizontal":"vertical";var e=this;this.swipeControl.onSwipe="h"===this.options.dir?function(t){e.horizSwipeMove(t)}:function(t){e.vertSwipeMove(t)}},i.vertSwipeMove=function(e){if(!this.dTouch){var t=e.phase;if("start"===t)this.controller.stop();else if("move"===t)this.controller.drag(e.moveY);else if("end"===t||"cancel"===t){var i=Math.abs(e.distanceY/e.duration*50/3);i>.1?this.controller.push(-e.distanceY/e.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},i.horizSwipeMove=function(e){if(!this.dTouch){var t=e.phase;if("start"===t)this.controller.stop(),this.click_enable=!1;else if("move"===t)this.controller.drag(e.moveX);else if("end"===t||"cancel"===t){var i=Math.abs(e.distanceX/e.duration*50/3);i>.1?this.controller.push(-e.distanceX/e.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},i.update=function(){var e=this.slider.api.index();this.cindex!==e&&(null!=this.cindex&&this.unselect(this.thumbs[this.cindex]),this.cindex=e,this.select(this.thumbs[this.cindex]),this.dTouch||this.updateThumbscroll())},i.realignThumbs=function(){this.$element.find(".ms-thumb").each(function(e,t){t.aligner&&t.aligner.align()})},i.updateThumbscroll=function(){var e=this.thumbSize*this.cindex;if(NaN==this.controller.value&&(this.controller.value=0),e-this.controller.value<0)return void this.controller.gotoSnap(this.cindex,!0);if(e+this.thumbSize-this.controller.value>this.$element[this.__dimen]()){var t=this.cindex-Math.floor(this.$element[this.__dimen]()/this.thumbSize)+1;return void this.controller.gotoSnap(t,!0)}},i.changeSlide=function(e){this.click_enable&&this.cindex!==e[0].index&&this.slider.api.gotoSlide(e[0].index)},i.unselect=function(e){e.removeClass("ms-thumb-frame-selected")},
i.select=function(e){e.addClass("ms-thumb-frame-selected")},i.__resize=function(){var e=this.$element[this.__dimen]();if(this.ls!==e){this.ls=e,this.thumbSize=this.thumbs[0][this.__jdimen](!0);var t=this.slider.api.count()*this.thumbSize;this.$thumbscont[0].style[this.__dimen]=t+"px",e>=t?(this.dTouch=!0,this.controller.stop(),this.$thumbscont[0].style[this.__pos]=.5*(e-t)+"px",this.$thumbscont[0].style[window._jcsspfx+"Transform"]=""):(this.dTouch=!1,this.click_enable=!0,this.$thumbscont[0].style[this.__pos]="",this.controller._max_value=t-e,this.controller.options.snapsize=this.thumbSize,this.updateThumbscroll())}},i.destroy=function(){n.destroy(),this.options.wheel&&(e.browser.mozilla?this.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),e(window).unbind("resize",this.resize_listener),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},window.MSThumblist=t,MSSlideController.registerControl("thumblist",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.dir="h",this.options.inset=!0,this.options.margin=10,this.options.space=10,e.extend(this.options,t),this.bullets=[]};t.extend(BaseControl);var i=t.prototype,n=BaseControl.prototype;i.setup=function(){if(n.setup.call(this),this.$element=e("<div></div>").addClass(this.options.prefix+"bullets").addClass("ms-dir-"+this.options.dir).appendTo(this.cont),this.$bullet_cont=e("<div></div>").addClass("ms-bullets-count").appendTo(this.$element),!this.options.insetTo&&this.options.align){var t=this.options.align;this.options.inset&&this.$element.css(t,this.options.margin)}this.checkHideUnder()},i.create=function(){n.create.call(this);var t=this;this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index();for(var i=0;i<this.slider.api.count();++i){var s=e("<div></div>").addClass("ms-bullet");s[0].index=i,s.on("click",function(){t.changeSlide(this.index)}),this.$bullet_cont.append(s),this.bullets.push(s),"h"===this.options.dir?s.css("margin",this.options.space/2):s.css("margin",this.options.space)}"h"===this.options.dir?this.$element.width(s.outerWidth(!0)*this.slider.api.count()):this.$element.css("margin-top",-this.$element.outerHeight(!0)/2),this.select(this.bullets[this.cindex])},i.update=function(){var e=this.slider.api.index();this.cindex!==e&&(null!=this.cindex&&this.unselect(this.bullets[this.cindex]),this.cindex=e,this.select(this.bullets[this.cindex]))},i.changeSlide=function(e){this.cindex!==e&&this.slider.api.gotoSlide(e)},i.unselect=function(e){e.removeClass("ms-bullet-selected")},i.select=function(e){e.addClass("ms-bullet-selected")},i.destroy=function(){n.destroy(),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.$element.remove()},window.MSBulltes=t,MSSlideController.registerControl("bullets",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.dir="h",this.options.autohide=!0,this.options.width=4,this.options.color="#3D3D3D",this.options.margin=10,e.extend(this.options,t),this.__dimen="h"===this.options.dir?"width":"height",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.__translate_end=window._css3d?" translateZ(0px)":"",this.__translate_start="h"===this.options.dir?" translateX(":"translateY("};t.extend(BaseControl);var i=t.prototype,n=BaseControl.prototype;i.setup=function(){if(this.$element=e("<div></div>").addClass(this.options.prefix+"sbar").addClass("ms-dir-"+this.options.dir),n.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=e("<div></div>").addClass(this.options.prefix+"bar").appendTo(this.$element),this.slider.options.loop&&(this.disable=!0,this.$element.remove()),"v"===this.options.dir?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css("v"===this.options.dir?{right:"auto",left:"auto"}:{top:"auto",bottom:"auto"});var t=this.options.align;this.options.inset?this.$element.css(t,this.options.margin):"top"===t?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===t?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},i.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,2*this.options.margin+this.options.width);this.$element.css(e,-t-this.options.margin-this.options.width)}},i.create=function(){this.disable||(this.scroller=this.slider.api.scroller,this.slider.api.view.addEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this._resize,this),this._resize(),this.options.autohide&&this.$bar.css("opacity","0"))},i._resize=function(){this.vdimen=this.$element[this.__dimen](),this.bar_dimen=this.slider.api.view["__"+this.__dimen]*this.vdimen/this.scroller._max_value,this.$bar[this.__dimen](this.bar_dimen)},i._update=function(){var e=this.scroller.value*(this.vdimen-this.bar_dimen)/this.scroller._max_value;if(this.lvalue!==e){if(this.lvalue=e,this.options.autohide){clearTimeout(this.hto),this.$bar.css("opacity","1");var t=this;this.hto=setTimeout(function(){t.$bar.css("opacity","0")},150)}return 0>e?void(this.$bar[0].style[this.__dimen]=this.bar_dimen+e+"px"):(e>this.vdimen-this.bar_dimen&&(this.$bar[0].style[this.__dimen]=this.vdimen-e+"px"),window._cssanim?void(this.$bar[0].style[window._jcsspfx+"Transform"]=this.__translate_start+e+"px)"+this.__translate_end):void(this.$bar[0].style[this.__pos]=e+"px"))}},i.destroy=function(){n.destroy(),this.slider.api.view.removeEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.removeEventListener(MSSliderEvent.RESIZE,this._resize,this),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.$element.remove()},window.MSScrollbar=t,MSSlideController.registerControl("scrollbar",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.autohide=!1,this.options.width=4,this.options.color="#FFFFFF",this.options.inset=!0,this.options.margin=0,e.extend(this.options,t)};t.extend(BaseControl);var i=t.prototype,n=BaseControl.prototype;i.setup=function(){if(n.setup.call(this),this.$element=e("<div></div>").addClass(this.options.prefix+"timerbar"),n.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=e("<div></div>").addClass("ms-time-bar").appendTo(this.$element),"v"===this.options.dir?(this.$bar.width(this.options.width),this.$element.width(this.options.width)):(this.$bar.height(this.options.width),this.$element.height(this.options.width)),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css({top:"auto",bottom:"auto"});var t=this.options.align;this.options.inset?this.$element.css(t,this.options.margin):"top"===t?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===t?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},i.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,2*this.options.margin+this.options.width);this.$element.css(e,-t-this.options.margin-this.options.width)}},i.create=function(){n.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this),this._update()},i._update=function(){this.$bar[0].style.width=this.slider.api._delayProgress+"%"},i.destroy=function(){n.destroy(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove()},window.MSTimerbar=t,MSSlideController.registerControl("timebar",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.color="#A2A2A2",this.options.stroke=10,this.options.radius=4,this.options.autohide=!1,e.extend(this.options,t)};t.extend(BaseControl);var i=t.prototype,n=BaseControl.prototype;i.setup=function(){return n.setup.call(this),this.$element=e("<div></div>").addClass(this.options.prefix+"ctimer").appendTo(this.cont),this.$canvas=e("<canvas></canvas>").addClass("ms-ctimer-canvas").appendTo(this.$element),this.$bar=e("<div></div>").addClass("ms-ctimer-bullet").appendTo(this.$element),this.$canvas[0].getContext?(this.ctx=this.$canvas[0].getContext("2d"),this.prog=0,this.__w=2*(this.options.radius+this.options.stroke/2),this.$canvas[0].width=this.__w,this.$canvas[0].height=this.__w,void this.checkHideUnder()):(this.destroy(),void(this.disable=!0))},i.create=function(){if(!this.disable){n.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this);var e=this;this.$element.click(function(){e.slider.api.paused?e.slider.api.resume():e.slider.api.pause()}),this._update()}},i._update=function(){var t=this;e(this).stop(!0).animate({prog:.01*this.slider.api._delayProgress},{duration:200,step:function(){t._draw()}})},i._draw=function(){this.ctx.clearRect(0,0,this.__w,this.__w),this.ctx.beginPath(),this.ctx.arc(.5*this.__w,.5*this.__w,this.options.radius,1.5*Math.PI,1.5*Math.PI+2*Math.PI*this.prog,!1),this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.stroke,this.ctx.stroke()},i.destroy=function(){n.destroy(),this.disable||(e(this).stop(!0),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove())},window.MSCircleTimer=t,MSSlideController.registerControl("circletimer",t)}(jQuery),function(e){"use strict";window.MSLightbox=function(t){BaseControl.call(this,t),this.options.autohide=!1,e.extend(this.options,t),this.data_list=[]},MSLightbox.fadeDuratation=400,MSLightbox.extend(BaseControl);var t=MSLightbox.prototype,i=BaseControl.prototype;t.setup=function(){i.setup.call(this),this.$element=e("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(this.cont),this.checkHideUnder()},t.slideAction=function(t){e("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(t.$element).append(e(t.$element.find(".ms-lightbox")))},t.create=function(){i.create.call(this)},MSSlideController.registerControl("lightbox",MSLightbox)}(jQuery),function(e){"use strict";window.MSSlideInfo=function(t){BaseControl.call(this,t),this.options.autohide=!1,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.size=100,this.options.dir="h",e.extend(this.options,t),this.data_list=[]},MSSlideInfo.fadeDuratation=400,MSSlideInfo.extend(BaseControl);var t=MSSlideInfo.prototype,i=BaseControl.prototype;t.setup=function(){if(this.$element=e("<div></div>").addClass(this.options.prefix+"slide-info").addClass("ms-dir-"+this.options.dir),i.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),!this.options.insetTo&&this.options.align){var t=this.options.align;this.options.inset?this.$element.css(t,this.options.margin):"top"===t?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===t?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.size):this.$element.css("min-height",this.options.size)}this.checkHideUnder()},t.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,this.options.size+2*this.options.margin);this.$element.css(e,-t-this.options.size-this.options.margin)}},t.slideAction=function(t){var i=e(t.$element.find(".ms-info"));i.detach(),this.data_list[t.index]=i},t.create=function(){i.create.call(this),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.switchEle(this.data_list[this.cindex])},t.update=function(){var e=this.slider.api.index();this.switchEle(this.data_list[e]),this.cindex=e},t.switchEle=function(e){this.current_ele&&(this.current_ele[0].tween&&this.current_ele[0].tween.stop(!0),this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete:function(){this.detach(),this[0].tween=null,e.css("position","relative")},target:this.current_ele}),e.css("position","absolute")),this.__show(e)},t.__show=function(e){e.appendTo(this.$element).css("opacity","0"),this.current_ele&&e.height(Math.max(e.height(),this.current_ele.height())),clearTimeout(this.tou),this.tou=setTimeout(function(){CTween.fadeIn(e,MSSlideInfo.fadeDuratation),e.css("height","")},MSSlideInfo.fadeDuratation),e[0].tween&&e[0].tween.stop(!0),this.current_ele=e},t.destroy=function(){i.destroy(),clearTimeout(this.tou),this.current_ele&&this.current_ele[0].tween&&this.current_ele[0].tween.stop("true"),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},MSSlideController.registerControl("slideinfo",MSSlideInfo)}(jQuery),function(e){window.MSGallery=function(t,i){this.id=t,this.slider=i,this.telement=e("#"+t),this.botcont=e("<div></div>").addClass("ms-gallery-botcont").appendTo(this.telement),this.thumbcont=e("<div></div>").addClass("ms-gal-thumbcont hide-thumbs").appendTo(this.botcont),this.playbtn=e("<div></div>").addClass("ms-gal-playbtn").appendTo(this.botcont),this.thumbtoggle=e("<div></div>").addClass("ms-gal-thumbtoggle").appendTo(this.botcont),i.control("thumblist",{insertTo:this.thumbcont,autohide:!1,dir:"h"}),i.control("slidenum",{insertTo:this.botcont,autohide:!1}),i.control("slideinfo",{insertTo:this.botcont,autohide:!1}),i.control("timebar",{insertTo:this.botcont,autohide:!1}),i.control("bullets",{insertTo:this.botcont,autohide:!1})};var t=MSGallery.prototype;t._init=function(){var e=this;this.slider.api.paused||this.playbtn.addClass("btn-pause"),this.playbtn.click(function(){e.slider.api.paused?(e.slider.api.resume(),e.playbtn.addClass("btn-pause")):(e.slider.api.pause(),e.playbtn.removeClass("btn-pause"))}),this.thumbtoggle.click(function(){e.vthumbs?(e.thumbtoggle.removeClass("btn-hide"),e.vthumbs=!1,e.thumbcont.addClass("hide-thumbs")):(e.thumbtoggle.addClass("btn-hide"),e.thumbcont.removeClass("hide-thumbs"),e.vthumbs=!0)})},t.setup=function(){var t=this;e(document).ready(function(){t._init()})}}(jQuery),function(e){var t=function(e,t,i){return"https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+e+"&photoset_id="+t+"&per_page="+i+"&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"},i=function(e,t,i){return"https://api.flickr.com/services/rest/?&method=flickr.people.getPublicPhotos&api_key="+e+"&user_id="+t+"&per_page="+i+"&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"},n=function(e,t,i,n,s,r){return"_o"===s&&r?r.url_o:"https://farm"+e+".staticflickr.com/"+t+"/"+i+"_"+n+s+".jpg"};window.MSFlickrV2=function(n,s){var r={count:10,type:"photoset",thumbSize:"q",imgSize:"c"};if(this.slider=n,this.slider.holdOn(),!s.key)return void this.errMsg("Flickr API Key required. Please add it in settings.");e.extend(r,s),this.options=r;var o=this;"photoset"===this.options.type?e.getJSON(t(this.options.key,this.options.id,this.options.count),function(e){o._photosData(e)}):e.getJSON(i(this.options.key,this.options.id,this.options.count),function(e){o.options.type="photos",o._photosData(e)}),""!==this.options.imgSize&&"-"!==this.options.imgSize&&(this.options.imgSize="_"+this.options.imgSize),this.options.thumbSize="_"+this.options.thumbSize,this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};var s=MSFlickrV2.prototype;s._photosData=function(t){if("fail"===t.stat)return void this.errMsg("Flickr API ERROR#"+t.code+": "+t.message);var i=this;this.options.author||this.options.desc,e.each(t[this.options.type].photo,function(t,n){var s=i.slideTemplate.replace(/{{[\w-]+}}/g,function(e){return e=e.replace(/{{|}}/g,""),r[e]?r[e](n,i):"{{"+e+"}}"});e(s).appendTo(i.slider.$element)}),i._initSlider()},s.errMsg=function(t){this.slider.$element.css("display","block"),this.errEle||(this.errEle=e('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(t)},s._initSlider=function(){this.slider.release()};var r={image:function(e,t){return n(e.farm,e.server,e.id,e.secret,t.options.imgSize,e)},thumb:function(e,t){return n(e.farm,e.server,e.id,e.secret,t.options.thumbSize)},title:function(e){return e.title},"owner-name":function(e){return e.ownername},"date-taken":function(e){return e.datetaken},views:function(e){return e.views},description:function(e){return e.description._content}}}(jQuery),function(e){window.MSFacebookGallery=function(t,i){var n={count:10,type:"photostream",thumbSize:"320",imgSize:"orginal",https:!1,token:""};this.slider=t,this.slider.holdOn(),e.extend(n,i),this.options=n,this.graph="https://graph.facebook.com";var s=this;"photostream"===this.options.type?e.getJSON(this.graph+"/"+this.options.username+"/photos/uploaded/?fields=source,name,link,images,from&limit="+this.options.count+"&access_token="+this.options.token,function(e){s._photosData(e)}):e.getJSON(this.graph+"/"+this.options.albumId+"/photos?fields=source,name,link,images,from&limit="+this.options.count+"&access_token="+this.options.token,function(e){s._photosData(e)}),this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};var t=MSFacebookGallery.prototype;t._photosData=function(t){if(t.error)return void this.errMsg("Facebook API ERROR#"+t.error.code+"("+t.error.type+"): "+t.error.message);for(var i=this,s=(this.options.author||this.options.desc,0),r=t.data.length;s!==r;s++){var o=i.slideTemplate.replace(/{{[\w-]+}}/g,function(e){return e=e.replace(/{{|}}/g,""),n[e]?n[e](t.data[s],i):"{{"+e+"}}"});e(o).appendTo(i.slider.$element)}i._initSlider()},t.errMsg=function(t){this.slider.$element.css("display","block"),this.errEle||(this.errEle=e('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(t)},t._initSlider=function(){this.slider.release()};var i=function(e,t){if("orginal"===t)return e[0].source;for(var i=0,n=e.length;i!==n;i++)if(-1!==e[i].source.indexOf(t+"x"+t))return e[i].source;return e[0].source},n={image:function(e,t){return i(e.images,t.options.imgSize)},thumb:function(e,t){return i(e.images,t.options.thumbSize)},name:function(e){return e.name},"owner-name":function(e){return e.from.name},link:function(e){return e.link}}}(jQuery),function(e){"use strict";window.MSScrollParallax=function(e,t,i,n){this.fade=n,this.slider=e,this.parallax=t/100,this.bgparallax=i/100,e.api.addEventListener(MSSliderEvent.INIT,this.init,this),e.api.addEventListener(MSSliderEvent.DESTROY,this.destory,this),e.api.addEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),e.api.addEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this)},window.MSScrollParallax.setup=function(e,t,i,n){return window._mobile?void 0:(null==t&&(t=50),null==i&&(i=40),new MSScrollParallax(e,t,i,n))};var t=window.MSScrollParallax.prototype;t.init=function(){this.slider.$element.addClass("ms-scroll-parallax"),this.sliderOffset=this.slider.$element.offset().top,this.updateCurrentSlide();for(var t,i=this.slider.api.view.slideList,n=0,s=i.length;n!==s;n++)t=i[n],t.hasLayers&&(t.layerController.$layers.wrap('<div class="ms-scroll-parallax-cont"></div>'),t.$scrollParallaxCont=t.layerController.$layers.parent());e(window).on("scroll",{that:this},this.moveParallax).trigger("scroll")},t.resetLayers=function(){if(this.lastSlide){var e=this.lastSlide.$scrollParallaxCont;window._css2d?(e&&(e[0].style[window._jcsspfx+"Transform"]=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style[window._jcsspfx+"Transform"]="")):(e&&(e[0].style.top=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style.top="0px"))}},t.updateCurrentSlide=function(){this.lastSlide=this.currentSlide,this.currentSlide=this.slider.api.currentSlide,this.moveParallax({data:{that:this}})},t.moveParallax=function(t){var i=t.data.that,n=i.slider,s=i.sliderOffset,r=e(window).scrollTop(),o=i.currentSlide.$scrollParallaxCont,a=s-r;0>=a?(o&&(window._css3d?o[0].style[window._jcsspfx+"Transform"]="translateY("+-a*i.parallax+"px) translateZ(0.4px)":window._css2d?o[0].style[window._jcsspfx+"Transform"]="translateY("+-a*i.parallax+"px)":o[0].style.top=-a*i.parallax+"px"),i.updateSlidesBG(-a*i.bgparallax+"px",!0),o&&i.fade&&o.css("opacity",1-Math.min(1,-a/n.api.height))):(o&&(window._css2d?o[0].style[window._jcsspfx+"Transform"]="":o[0].style.top=""),i.updateSlidesBG("0px",!1),o&&i.fade&&o.css("opacity",1))},t.updateSlidesBG=function(t,i){for(var n=this.slider.api.view.slideList,s=!i||e.browser.msie||e.browser.opera?"":"fixed",r=0,o=n.length;r!==o;r++)n[r].hasBG&&(n[r].$imgcont[0].style.position=s,n[r].$imgcont[0].style.top=t),n[r].$bgvideocont&&(n[r].$bgvideocont[0].style.position=s,n[r].$bgvideocont[0].style.top=t)},t.destory=function(){slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this),slider.api.removeEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this),e(window).off("scroll",this.moveParallax)}}(jQuery),function(e,t,i){var n=0;if(i.MasterSlider){var s=function(e){this.slider=e,this.PId=n++,this.slider.options.keyboard&&e.api.addEventListener(MSSliderEvent.INIT,this.init,this)};s.name="MSKeyboardNav";var r=s.prototype;r.init=function(){var i=this.slider.api;e(t).on("keydown.kbnav"+this.PId,function(e){var t=e.which;37===t||40===t?i.previous(!0):(38===t||39===t)&&i.next(!0)})},r.destroy=function(){e(t).off("keydown.kbnav"+this.PId),this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(s)}}(jQuery,document,window),function(e,t,i){var n=0,s=e(i),r=e(t);if(i.MasterSlider){var o=function(t){this.PId=n++,this.slider=t,this.$slider=t.$element,this.slider.options.startOnAppear&&(t.holdOn(),r.ready(e.proxy(this.init,this)))};o.name="MSStartOnAppear";var a=o.prototype;a.init=function(){this.slider.api,s.on("scroll.soa"+this.PId,e.proxy(this._onScroll,this)).trigger("scroll")},a._onScroll=function(){s.scrollTop()+s.height()>this.$slider.offset().top&&(s.off("scroll.soa"+this.PId),this.slider.release())},a.destroy=function(){},MasterSlider.registerPlugin(o)}}(jQuery,document,window),function(e,t){var i={"hue-rotate":"deg",blur:"px"},n={opacity:1,contrast:1,brightness:1,saturate:1,"hue-rotate":0,invert:0,sepia:0,blur:0,grayscale:0};if(t.MasterSlider){var s=function(e){this.slider=e,this.slider.options.filters&&e.api.addEventListener(MSSliderEvent.INIT,this.init,this)};s.name="MSFilters";var r=s.prototype;r.init=function(){var e=this.slider.api,t=e.view;this.filters=this.slider.options.filters,this.slideList=t.slideList,this.slidesCount=t.slidesCount,this.dimension=t[t.__dimension],this.target="slide"===this.slider.options.filterTarget?"$element":"$bg_img",this.filterName=$.browser.webkit?"WebkitFilter":"filter";var i=t.controller.__renderHook.fun,n=t.controller.__renderHook.ref;t.controller.renderCallback(function(e,t){i.call(n,e,t),this.applyEffect(t)},this),this.applyEffect(t.controller.value)},r.applyEffect=function(e){for(var t,i,n=0;n<this.slidesCount;++n)i=this.slideList[n],t=Math.min(1,Math.abs(e-i.position)/this.dimension),i[this.target]&&($.browser.msie?null!=this.filters.opacity&&i[this.target].opacity(1-this.filters.opacity*t):i[this.target][0].style[this.filterName]=this.generateStyle(t))},r.generateStyle=function(e){var t="";for(var s in this.filters)i[s]||"",t+=s+"("+(n[s]+(this.filters[s]-n[s])*e)+") ";return t},r.destroy=function(){this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(s)}}(document,window,jQuery),function(e,t,i){if(i.MasterSlider){var n=function(e){this.slider=e,e.api.addEventListener(MSSliderEvent.INIT,this.init,this)};n.name="MSScrollToAction";var s=n.prototype;s.init=function(){var e=this.slider.api;e.scrollToEnd=o,e.scrollTo=r},s.destroy=function(){};var r=function(t,i){var t=(this.slider.$element,e(t).eq(0));0!==t.length&&(null==i&&(i=1.4),e("html, body").animate({scrollTop:t.offset().top},1e3*i,"easeInOutQuad"))},o=function(t){var i=this.slider.$element;null==t&&(t=1.4),e("html, body").animate({scrollTop:i.offset().top+i.outerHeight(!1)},1e3*t,"easeInOutQuad")};MasterSlider.registerPlugin(n)}}(jQuery,document,window),function(e,t){"use strict";if(t.MSReady)for(var i=0,n=MSReady.length;i!==n;i++)MSReady[i].call(null,e)}(jQuery,window,document);var g_ugFunctions=new UGFunctions;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,a=l.call(arguments,1),d=0,u=0,h=0,c=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(h=-1*o.detail),"wheelDelta"in o&&(h=o.wheelDelta),"wheelDeltaY"in o&&(h=o.wheelDeltaY),"wheelDeltaX"in o&&(u=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(u=-1*h,h=0),d=0===h?u:h,"deltaY"in o&&(h=-1*o.deltaY,d=h),"deltaX"in o&&(u=o.deltaX,0===h&&(d=-1*u)),0!==h||0!==u){if(1===o.deltaMode){var p=e.data(this,"mousewheel-line-height");d*=p,h*=p,u*=p}else if(2===o.deltaMode){var f=e.data(this,"mousewheel-page-height");d*=f,h*=f,u*=f}return c=Math.max(Math.abs(h),Math.abs(u)),(!r||r>c)&&(r=c,n(o,c)&&(r/=40)),n(o,c)&&(d/=40,u/=40,h/=40),d=Math[d>=1?"floor":"ceil"](d/r),u=Math[u>=1?"floor":"ceil"](u/r),h=Math[h>=1?"floor":"ceil"](h/r),t.deltaX=u,t.deltaY=h,t.deltaFactor=r,t.deltaMode=0,a.unshift(t,d,u,h),s&&clearTimeout(s),s=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){r=null}function n(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var s,r,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var d=o.length;d;)e.event.fixHooks[o[--d]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&"object"==typeof module.exports?exports=e(require("jquery")):e(jQuery)}(function(e){function t(e){var t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375}e.easing.jswing=e.easing.swing;var i=Math.pow,n=Math.sqrt,s=Math.sin,r=Math.cos,o=Math.PI,a=1.70158,l=1.525*a,d=2*o/3,u=2*o/4.5;e.extend(e.easing,{def:"easeOutQuad",swing:function(t){return e.easing[e.easing.def](t)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-i(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-i(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-i(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-i(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-i(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-i(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-i(-2*e+2,5)/2},easeInSine:function(e){return 1-r(e*o/2)},easeOutSine:function(e){return s(e*o/2)},easeInOutSine:function(e){return-(r(o*e)-1)/2},easeInExpo:function(e){return 0===e?0:i(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-i(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?i(2,20*e-10)/2:(2-i(2,-20*e+10))/2},easeInCirc:function(e){return 1-n(1-i(e,2))},easeOutCirc:function(e){return n(1-i(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-n(1-i(2*e,2)))/2:(n(1-i(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-i(2,10*e-10)*s((10*e-10.75)*d)},easeOutElastic:function(e){return 0===e?0:1===e?1:i(2,-10*e)*s((10*e-.75)*d)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-i(2,20*e-10)*s((20*e-11.125)*u)/2:i(2,-20*e+10)*s((20*e-11.125)*u)/2+1},easeInBack:function(e){return(a+1)*e*e*e-a*e*e},easeOutBack:function(e){return 1+(a+1)*i(e-1,3)+a*i(e-1,2)},easeInOutBack:function(e){return e<.5?i(2*e,2)*(7.189819*e-l)/2:(i(2*e-2,2)*((l+1)*(2*e-2)+l)+2)/2},easeInBounce:function(e){return 1-t(1-e)},easeOutBounce:t,easeInOutBounce:function(e){return e<.5?(1-t(1-2*e))/2:(1+t(2*e-1))/2}})}),function(e,t){function i(e,t,i){var n=u[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=l(),n=i._rgba=[];return t=t.toLowerCase(),p(a,function(e,s){var r,o=s.re.exec(t),a=o&&s.parse(o),l=s.space||"rgba";return a?(r=i[l](a),i[d[l].cache]=r[d[l].cache],n=i._rgba=r._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,r.transparent),i):r[t]}function s(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}if(void 0===e.cssHooks)return!1;var r,o=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,n,s){return new e.Color.fn.parse(t,i,n,s)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=l.support={},c=e("<p>")[0],p=e.each
;c.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=c.style.backgroundColor.indexOf("rgba")>-1,p(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(s,o,a,u){if(s===t)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=e(s).css(o),o=t);var h=this,c=e.type(s),f=this._rgba=[];return o!==t&&(s=[s,o,a,u],c="array"),"string"===c?this.parse(n(s)||r._default):"array"===c?(p(d.rgba.props,function(e,t){f[t.idx]=i(s[t.idx],t)}),this):"object"===c?(s instanceof l?p(d,function(e,t){s[t.cache]&&(h[t.cache]=s[t.cache].slice())}):p(d,function(t,n){var r=n.cache;p(n.props,function(e,t){if(!h[r]&&n.to){if("alpha"===e||null==s[e])return;h[r]=n.to(h._rgba)}h[r][t.idx]=i(s[e],t,!0)}),h[r]&&e.inArray(null,h[r].slice(0,3))<0&&(h[r][3]=1,n.from&&(h._rgba=n.from(h[r])))}),this):void 0},is:function(e){var t=l(e),i=!0,n=this;return p(d,function(e,s){var r,o=t[s.cache];return o&&(r=n[s.cache]||s.to&&s.to(n._rgba)||[],p(s.props,function(e,t){return null!=o[t.idx]?i=o[t.idx]===r[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return p(d,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=l(e),s=n._space(),r=d[s],o=0===this.alpha()?l("transparent"):this,a=o[r.cache]||r.to(o._rgba),h=a.slice();return n=n[r.cache],p(r.props,function(e,s){var r=s.idx,o=a[r],l=n[r],d=u[s.type]||{};null!==l&&(null===o?h[r]=l:(d.mod&&(l-o>d.mod/2?o+=d.mod:o-l>d.mod/2&&(o-=d.mod)),h[r]=i((l-o)*t+o,s)))}),this[s](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=l(t)._rgba;return l(e.map(i,function(e,t){return(1-n)*s[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,s=e[1]/255,r=e[2]/255,o=e[3],a=Math.max(n,s,r),l=Math.min(n,s,r),d=a-l,u=a+l,h=.5*u;return t=l===a?0:n===a?60*(s-r)/d+360:s===a?60*(r-n)/d+120:60*(n-s)/d+240,i=0===d?0:.5>=h?d/u:d/(2-u),[Math.round(t)%360,i,h,null==o?1:o]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],r=e[3],o=.5>=n?n*(1+i):n+i-n*i,a=2*n-o;return[Math.round(255*s(a,o,t+1/3)),Math.round(255*s(a,o,t)),Math.round(255*s(a,o,t-1/3)),r]},p(d,function(n,s){var r=s.props,a=s.cache,d=s.to,u=s.from;l.fn[n]=function(n){if(d&&!this[a]&&(this[a]=d(this._rgba)),n===t)return this[a].slice();var s,o=e.type(n),h="array"===o||"object"===o?n:arguments,c=this[a].slice();return p(r,function(e,t){var n=h["object"===o?e:t.idx];null==n&&(n=c[t.idx]),c[t.idx]=i(n,t)}),u?(s=l(u(c)),s[a]=c,s):l(c)},p(r,function(t,i){l.fn[t]||(l.fn[t]=function(s){var r,a=e.type(s),l="alpha"===t?this._hsla?"hsla":"rgba":n,d=this[l](),u=d[i.idx];return"undefined"===a?u:("function"===a&&(s=s.call(this,u),a=e.type(s)),null==s&&i.empty?this:("string"===a&&(r=o.exec(s))&&(s=u+parseFloat(r[2])*("+"===r[1]?1:-1)),d[i.idx]=s,this[l](d)))})})}),l.hook=function(t){var i=t.split(" ");p(i,function(t,i){e.cssHooks[i]={set:function(t,s){var r,o,a="";if("transparent"!==s&&("string"!==e.type(s)||(r=n(s)))){if(s=l(r||s),!h.rgba&&1!==s._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&o&&o.style;)try{a=e.css(o,"backgroundColor"),o=o.parentNode}catch(e){}s=s.blend(a&&"transparent"!==a?a:"_default")}s=s.toRgbaString()}try{t.style[i]=s}catch(e){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},r=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(e){function t(){try{var i=this===document?e(this):e(this).contents()}catch(e){return!1}i.mousemove(function(t){e.mlp={x:t.pageX,y:t.pageY}}),i.find("iframe").on("load",t)}e.mlp={x:0,y:0},e(t),e.fn.ismouseover=function(){var t=!1;return this.eq(0).each(function(){var i=e(this).is("iframe")?e(this).contents().find("body"):e(this),n=i.offset();t=n.left<=e.mlp.x&&n.left+i.outerWidth()>e.mlp.x&&n.top<=e.mlp.y&&n.top+i.outerHeight()>e.mlp.y}),t}}(jQuery);var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;jQuery.fn.unitegallery=function(e){var t=jQuery(this),i="#"+t.attr("id");if(!e)var e={};var n=new UniteGalleryMain;return n.run(i,e),new UG_API(n)},void 0!==g_ugFunctions?g_ugFunctions.registerTheme("tiles"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("tiles")}),function(e){"use strict";function t(){e("#mainSideNav").width(250),e("#openMenuIcon").addClass("hidden"),e("#closeMenuIcon").removeClass("hidden")}function i(){e("#mainSideNav").width(0),e("#openMenuIcon").removeClass("hidden"),e("#closeMenuIcon").addClass("hidden")}function n(){var e=new MasterSlider;return e.setup("masterslider",{speed:5,layout:"fullscreen",autoplay:!0,layersMode:"full",grabCursor:!1,loop:!0,view:"fade"}),e}function s(){s=e("#gallery").unitegallery({tiles_align:"center",tiles_space_between_cols:1,tiles_exact_width:!1,tiles_space_between_cols_mobile:1,tiles_include_padding:!1,tiles_min_columns:1,tiles_max_columns:4,tiles_set_initial_height:!0,tiles_enable_transition:!0,tile_overlay_opacity:.3,tile_enable_icons:!1,tile_enable_image_effect:!1,tile_enable_action:!1,tile_as_link:!0,tile_link_newpage:!1,tile_enable_overlay:!0,tile_enable_textpanel:!0,tile_textpanel_source:"description",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"fade",tile_textpanel_position:"inside_center",tile_textpanel_offset:10,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:20,tile_textpanel_padding_right:11,tile_textpanel_padding_left:11,tile_textpanel_bg_opacity:.4,tile_textpanel_bg_color:"transparent",tile_textpanel_bg_css:{},tile_textpanel_title_color:null,tile_textpanel_title_font_family:null,tile_textpanel_title_text_align:"center",tile_textpanel_title_font_size:16,tile_textpanel_title_bold:null})}function r(){e("#homePage").fullpage({verticalCentered:!0})}var s;e(document).ready(function(){n(),e("#openMenuIcon").click(function(){t()}),e("#closeMenuIcon").click(function(){i()}),e("#homePage").length>0&&r(),e("#gallery").length>0&&s()})}(window.jQuery);